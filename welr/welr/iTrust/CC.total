/auth/hcp/UpdateLabProc taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page edu ncsu csc itrust action lab proc hcpaction page edu ncsu csc itrust beans lab procedure bean page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust dao mysql patient dao include file global jsp page title trust update lab procedure include file header jsp string header message lab procedure bean lbean request id string lpid request get parameter  id  lpid lpid equals   request id parse long lpid  lbean prod dao get lab procedure dao  get lab procedure request id  exception e  print stack trace  lab proc hcpaction action2 lab proc hcpaction prod dao logged in mid value   form is filled request get parameter  form is filled request get parameter  form is filled equals   form is filled  page is not actually page it just adds user and forwards lbean set status request get parameter  status   lbean set results request get parameter  results   lbean set commentary request get parameter  commentary   action2 update procedure lbean  span information updated successfully span catch  form validation exception e  print html out  table table tr th colspan lab procedures th tr tr th patient th th lab code th th rights th th status th th commentary th th results th th office visit id th th updated date th tr lab procedure bean bean prod dao get lab procedure dao  get lab procedure request id  patient bean patient patient dao prod dao  get patient bean get pid   tr td patient get full name  td td bean get loinc  td td bean get rights  td td bean get status  td td bean get commentary  td td bean get results  td td bean get ov id  td td bean get timestamp  td tr table form action update lab proc jsp id lpid message updated laboratory procedure method post input type hidden name form is filled value br br table align center tr td header message td tr table br table tr td status td td select name status option value not yet received lbean not  received option option value pending lbean pending option option value completed lbean completed option select td tr tr td commentary td td textarea name commentary textarea tr tr td results td td textarea name results textarea td tr tr td colspan align center input type submit style font size 16pt font weight bold value update td tr table form br href hcp lab proc hcp jsp go to view laboratory procedures include file footer jsp
/auth/surveyResults page language content type text html charset iso 8859 1 page encoding iso 8859 1 page edu ncsu csc itrust beans survey result bean page edu ncsu csc itrust beans hospital bean page edu ncsu csc itrust action view survey result action page edu ncsu csc itrust bean builder page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust dao mysql hospitals dao page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust dao mysql personnel dao page util array list page util list taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp include file global jsp page title trust survey results login message session remove attribute  personnel list include file header jsp div align center h2 search hcp survey results h2 view survey result action action view survey result action prod dao logged in mid value   hospitals dao hospital dao hospitals dao prod dao  list hospital bean hcp hospitals hospital dao get all hospitals  survey result bean bean string zip code string hospital id string specialty list survey result bean result list form is filled request get parameter  form is filled request get parameter  form is filled equals   form is filled  bean bean builder survey result bean   build request get parameter map  survey result bean   set data to be sent from input text box and drop down box zip code request get parameter  hcp zip hospital id request get parameter  hcp hospital id specialty request get parameter  hcp specialty not submit zip is not filled in if  zip code equals  zip code null  hospital id equals  hospital id null  span data both zip code and hospital id is not allowed please choose either zip or hospital id span zip code equals  zip code null  bean set hcpzip zip code  bean set hcpspecialty specialty  result list action get survey results zip bean  hospital id equals  hospital id null  bean set hcphospital hospital id  bean set hcpspecialty specialty  result list action get survey results hospital bean  span you must enter either zip code or hospital id span catch  form validation exception e  print html page context get out   form action survey results jsp method post input type hidden name form is filled value br div style width text align left search allows you to search hcp based on zip code or hospital id to search you must enter either zip code or hospital id but not both br note search by zip code returns all hcps that have zip codes with match of the first digits br br div table tr td zip code td td input type text name hcp zip maxlength size value zip code td td or td td hospital id td td select name hcp hospital id option value option for  hospital bean hos hcp hospitals  option value hos get hospital id   hos get hospital id  equals hospital id  selected selected hos get hospital id  option select td tr tr td colspan align center specialty  optional  td tr tr td colspan align center select name hcp specialty option value survey result bean any  specialty  specialty equals  survey result bean any  specialty  selected selected  any specialty  option option value survey result bean general  specialty  specialty equals  survey result bean general  specialty  selected selected survey result bean general  specialty option option value survey result bean heart  specialty  specialty equals  survey result bean heart  specialty  selected selected survey result bean heart  specialty option option value survey result bean obgyn  specialty  specialty equals  survey result bean obgyn  specialty  selected selected survey result bean obgyn  specialty option option value survey result bean pediatrician  specialty  specialty equals  survey result bean pediatrician  specialty  selected selected survey result bean pediatrician  specialty option option value survey result bean surgeon  specialty  specialty equals  survey result bean surgeon  specialty  selected selected survey result bean surgeon  specialty option select td tr tr tr td colspan align center input type submit style font size 16pt font weight bold value search td tr table form  result list null  br h2 survey results h2  result list size  0  span trust error no hcps were found that meet your search criteria please change your search criteria and search again span table table tr th colspan lhcp search results th tr tr sub header th doctor name th th address th th address th th city th th state th th zip th th specialty th th hospital th th waiting room br minutes th th exam room br minutes th th visit br satisfaction th th treatment br satisfaction th th percent br results th tr list personnel bean personnel list array list personnel bean   index survey result bean survey result result list  tr td align center href trust auth view personnel jsp personnel index survey result get hcpfirst name  survey result get hcplast name  td td align center survey result get hcpaddress1  td td align center survey result get hcpaddress2  td td align center survey result get hcpcity  td td align center survey result get hcpstate  td td align center survey result get hcpzip  td td align center survey result get hcpspecialty  td td align center survey result get hcphospital  td td align center string format  2f survey result get avg waiting room minutes   td td align center string format  2f survey result get avg exam room minutes   td td align center string format  2f survey result get avg visit satisfaction   td td align center string format  2f survey result get avg treatment satisfaction   td td align center string format  0f survey result get percent satisfaction results   td tr personnel bean personnel personnel dao prod dao  get personnel survey result get hcpmid   personnel list add personnel  index session set attribute  personnel list personnel list  table table tr td the search results show the the averages each hcp and include ol li number of minutes patients typically wait in waiting room li average number of minutes patients wait in the examination room prior to seeing physician li average office visit satisfaction li average satisfaction with treatment information li percent of office visits which satisfaction information is available ol td tr table br div include file footer jsp
/auth/er/menu div menu category span report span br href trust auth hcp er emergency report jsp emergency patient report div
/auth/patient/viewAppt page error page auth exception handler jsp page util date page text date format page text simple date format page edu ncsu csc itrust action edit appt type action page edu ncsu csc itrust action view my appts action page edu ncsu csc itrust beans appt bean page util list include file global jsp page title trust view message include file header jsp view my appts action action view my appts action prod dao logged in mid value   edit appt type action types edit appt type action prod dao logged in mid value   appt bean original  request get parameter  apt null  string apt parameter request get parameter  apt apt index apt index integer parse int apt parameter  number format exception nfe  response send redirect  view my appts jsp list appt bean appts  session get attribute  appts null  appts list appt bean session get attribute  appts if apt index appts size  apt index 0  apt index response send redirect  oops jsp response send redirect  view my appts jsp original appt bean appts get apt index  response send redirect  view my appts jsp date date original get date  get time   date format format simple date format  mm dd yyyy hh mm div table width style background color dddddd tr th appointment info th tr tr td patient action get name original get hcp   td tr tr td type original get appt type  td tr tr td date time format format d  td tr tr td duration types get duration by type original get appt type   minutes td tr table div table tr td colspan comments td tr tr td colspan  original get comment  null  no comment original get comment  td tr table include file footer jsp
LabProcUAPAction edu ncsu csc itrust action util arrays util list edu ncsu csc itrust email util edu ncsu csc itrust beans email edu ncsu csc itrust beans lab procedure bean edu ncsu csc itrust beans patient bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql lab procedure dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust validate lab procedure validator   lab proc uap jsp handles lab procedures uaps lab proc uapaction transaction dao trans dao lab procedure dao lp dao logged in mid lab procedure validator validator daofactory factory   setup param factory the daofactory used to create the daos used in action param logged in mid uap who is logged in lab proc uapaction  daofactory factory logged in mid  trans dao factory get transaction dao  lp dao factory get lab procedure dao  logged in mid logged in mid validator lab procedure validator  factory factory   updates lab procedure param the procedure to update dbexception form validation exception update procedure  lab procedure bean b  dbexception form validation exception validator validate b  need to check status is what being changed status old status send email if  get status  equals lp dao get lab procedure b get procedure id   get status   email util factory  send email make email b  lp dao update lab procedure b  trans dao log transaction  transaction type enter  edit  lab  procedure logged in mid get pid  uap updated procedure id get procedure id     sends an e mail informing the patient that their procedure has been updated param the procedure that was updated an e mail to the patient with the notice dbexception email make email  lab procedure bean b  dbexception patient bean patient dao factory  get patient b get pid   email email email  email set from  no reply itrust com email set to list  arrays as list p get email   email set subject  lab procedure was updated email set body  string format  dear your lab procedure s  has updated status of log on to trust to view get full name  get loinc  get status   email   returns list of all the lab procedures param id mid of the uap viewing the procedures list of all the lab procedures that uap dbexception list lab procedure bean view procedures long id  dbexception trans dao log transaction  transaction type view  lab  procedure logged in mid id uap viewed procedures lp dao get all lab procedures date id 
ApptDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans appt bean edu ncsu csc itrust beans loaders appt bean loader edu ncsu csc itrust dao daofactory appt dao daofactory factory appt bean loader abloader appt dao  daofactory factory  factory factory abloader appt bean loader  list appt bean get appts for long mid  sqlexception connection conn prepared statement ps conn factory get connection  if mid  long  999999999  ps conn prepare statement  select from appointment where doctor id order by sched date ps conn prepare statement  select from appointment where patient id order by sched date ps set long 1 mid  result set rs ps execute query  list appt bean ab list abloader load list rs  dbutil close connection conn ps  ab list list appt bean get all appts  sqlexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from appointment result set rs ps execute query  list appt bean ab list abloader load list rs  dbutil close connection conn ps  ab list schedule appt  appt bean appt  sqlexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into appointment  appt type patient id doctor id sched date comment  values ps abloader load parameters ps appt  ps execute update  dbutil close connection conn ps 
LabProcHCPAction edu ncsu csc itrust action util list util array list edu ncsu csc itrust beans lab procedure bean edu ncsu csc itrust beans office visit bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql lab procedure dao edu ncsu csc itrust dao mysql office visit dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust validate lab procedure validator   action lab proc hcp jsp lab proc uapaction lab proc hcpaction lab proc uapaction transaction dao trans dao lab procedure dao lp dao office visit dao ov dao logged in mid lab procedure validator validator   sets up defaults param factory the daofactory used to create the daos used in action param logged in mid mid the logged in hcp lab proc hcpaction  daofactory factory logged in mid  super factory logged in mid  trans dao factory get transaction dao  lp dao factory get lab procedure dao  ov dao factory get office visit dao  logged in mid logged in mid validator lab procedure validator    method sorts by loinc and returns the list param id the id to sort the list by list sorted by loinc list lab procedure bean sort by loinc long id  dbexception lp dao get all lab procedures loinc id    returns list of all the lab procedures the next month all the lab procedures the next month list lab procedure bean get lab proc next month  dbexception list lab procedure bean list lab proc array list lab procedure bean  0  list office visit bean list ov ov dao get all office visits lhcp logged in mid  office visit bean ov list ov   list lab proc is empty  true  list lab proc lp dao get lab procedures lhcpfor next month ov get id   lab procedure bean lb lp dao get lab procedures lhcpfor next month ov get id   list lab proc add lb  list lab proc   changes the privacy settings param the id of the procedure to change change privacy long x  dbexception form validation exception lab procedure bean pb lp dao get lab procedure x   check access x   pb get rights  equals  lab procedure bean restrict  pb allow  pb restrict  validator validate pb  lp dao update rights pb  trans dao log transaction  transaction type enter  edit  lab  procedure logged in mid pb get pid  privacy changed procedure id pb get procedure id     checks to see the logged in hcp is the one who made the procedure used to generate links page to edit office visit param the id of the hcp to check check access long x  dbexception form validation exception lab procedure bean pb lp dao get lab procedure x  office visit bean ovbean ov dao get office visit pb get ov id    logged in mid ovbean get hcp id  
PatientVisitBean edu ncsu csc itrust beans   bean storing data about patient visit bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  patient visit bean patient bean patient string patient name string address1 string address2 string last ovdate string last ovdate string last ovdate string last ovdate string get last ovdate  last ovdate set last ovdate  string last ovdate  last ovdate last ovdate string get last ovdate m  last ovdate set last ovdate m  string last ovdate m  last ovdate last ovdate string get last ovdate d  last ovdate set last ovdate d  string last ovdate d  last ovdate last ovdate string get last ovdate y  last ovdate set last ovdate y  string last ovdate y  last ovdate last ovdate patient visit bean  string get patient name  patient name set patient name  string patient name  patient name patient name string get address1  address1 set address1  string address1  address1 address1 string get address2  address2 set address2  string address2  address2 address2 patient bean get patient  patient set patient  patient bean patient  patient patient
/auth/patient/home page edu ncsu csc itrust beans office visit bean page edu ncsu csc itrust beans lab procedure bean page edu ncsu csc itrust beans transaction bean page edu ncsu csc itrust dao mysql lab procedure dao page edu ncsu csc itrust dao mysql patient dao page edu ncsu csc itrust dao mysql transaction dao page edu ncsu csc itrust dao mysql personnel dao page edu ncsu csc itrust action view my records action page edu ncsu csc itrust action view my report requests action page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust beans report request bean page util hashtable page sql timestamp page util date page util list page util array list page util linked list include file global jsp page title trust patient home include file header jsp session remove attribute  personnel list view my records action survey action view my records action prod dao logged in mid value   list office visit bean sur list prod dao get office visit dao  get office visits with no survey logged in mid value   patient bean patient patient dao prod dao  get patient logged in mid value   list report request bean reports survey action get report requests  view my report requests action report action view my report requests action prod dao logged in mid value   lab procedure dao lp dao lab procedure dao prod dao  list lab procedure bean lab procedures lp dao get lab procedures patient next month logged in mid value   list patient bean represented patient dao prod dao  get represented logged in mid value   transaction dao trans dao transaction dao prod dao  personnel dao personnel dao personnel dao prod dao  create an array list and index to hide mids from user list personnel bean personnel list array list personnel bean   personnel counter if request get parameter  rep request get parameter  rep equals   div align center span trust message adverse event successfully reported span div div id header h1 welcome prod dao get auth dao  get user name  value of request get user principal  get name   h1 div div id content align left h3 announcements h3 features in trust ul li very happy or upset about your last office visit fill out survey and let us know li li no more typing in date we now have calendar pop up that makes setting dates incredibly easy li ul h3 notifications h3 h4 surveys that still need to be completed h4  0 sur list size   ul office visit bean ov sur list  survey action is survey completed ov get id   li href survey jsp ov id ov get visit id  ov date ov get visit date str  complete survey your office visit on ov get visit date str  li ul no unfinished surveys h4 comprehensive report history h4  reports size  0  ul report request bean report reports  li report action get status report get id   li ul no report requests h4 lab procedures completed in the last month h4 span lab procedures you span br  0 lab procedures size   ul lab procedure bean bean lab procedures  li lab procedure bean get loinc  from office visit href view office visit jsp ov id bean get ov id  bean get ov id  br results  bean get results  equals   none bean get results  li ul no recent lab procedures br span lab procedures represented patients span br  0 represented size   ul patient bean patient bean represented  patient patient bean get full name  list lab procedure bean lab beans lp dao get lab procedures patient next month patient bean get mid    0 lab beans size   ul lab procedure bean bean lab beans  li lab procedure bean get loinc  br results  bean get results  equals   none out print bean get results   li ul no recent lab procedures br ul no recent lab procedures br h4 access by undesignated personnel h4 date today date  date earlier date  earlier set date today get date  90  list transaction bean transactions trans dao get record accesses patient get mid  earlier today false   transactions size  0  ul hashtable linked list string ht hashtable linked list string   transaction bean transaction transactions  timestamp access time transaction get time logged  begin remove duplicate entries from the display mid long transaction get logged in mid   string date string access time get month  access time get date   skip if  ht contains key transaction get logged in mid   ht put mid linked list string    linked list string ll linked list string ht get mid  if ll contains date  skip ll add date  end remove duplicate entries from the display if  skip  li auth dao get user name mid value   accessed your records on date li ul none reported div include file footer jsp
FamilyMemberBean edu ncsu csc itrust beans   bean storing data about family members bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  family member bean mid string relation string first name string last name family member bean  string get first name  first name set first name  string first name  first name first name string get last name  last name set last name  string last name  last name last name string get full name  get first name  get last name  get mid  mid set mid long mid  mid mid string get relation  relation set relation  string relation  relation relation
LOINCDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans loincbean edu ncsu csc itrust beans loaders loincbean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception   dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos logical observation identifiers names and codes loinc  is database and universal standard identifying medical laboratory observations see http loinc org author ben smith loincdao daofactory factory loincbean loader loincloader   the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc loincdao  daofactory factory  factory factory loincloader loincbean loader    adds loinc param hosp the loincbean representing the code to be added dbexception trust exception add loinc  loincbean hosp  dbexception trust exception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into loinc laboratory procedure code component kind of property time aspect system scale type method type  values ps set string 1 hosp get lab procedure code   ps set string 2 hosp get component   ps set string 3 hosp get kind of property   ps set string 4 hosp get time aspect   ps set string 5 hosp get system   ps set string 6 hosp get scale type   ps set string 7 hosp get method type   ps execute update  sqlexception e  print stack trace   1062 get error code   trust exception  error loinc already exists dbexception e  dbutil close connection conn ps    returns all loincs associated with laboratory procedure code param visit id the code of the laboratory procedure code as string util list of loincbeans matching the laboratory procedure code dbexception list loincbean get procedures  string visit id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from loinc where laboratory procedure code ps set string 1 visit id  result set rs ps execute query  loincloader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    updates the information in loinc param ov dbexception update  loincbean ov  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  update loinc set component kind of property time aspect system scale type method type where laboratory procedure code ps set string 1 ov get component   ps set string 2 ov get kind of property   ps set string 3 ov get time aspect   ps set string 4 ov get system   ps set string 5 ov get scale type   ps set string 6 ov get method type   ps set string 7 ov get lab procedure code   ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns all loincs as list util list of loincbeans dbexception list loincbean get all loinc  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from loinc result set rs ps execute query  loincloader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
/auth/patient/viewMyRecords taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util array list page util list page text date format page util date page edu ncsu csc itrust action edit phraction page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust beans allergy bean page edu ncsu csc itrust beans family member bean page edu ncsu csc itrust beans health record page edu ncsu csc itrust beans office visit bean page edu ncsu csc itrust beans procedure bean page edu ncsu csc itrust action view my records action page edu ncsu csc itrust beans lab procedure bean page edu ncsu csc itrust dao mysql patient dao page edu ncsu csc itrust dao mysql personnel dao include file global jsp page title trust view my records include file header jsp session remove attribute  personnel list string representee request get parameter  rep is representing  representee equals representee  representee index integer parse int representee  list patient bean representees list patient bean session get attribute  representees if representees null  logged in mid long  representees get representee index  get mid   session remove attribute  representees is representing logged in mid long action represent patient representee  span you are currently viewing your representee records span br patient bean patient patient dao prod dao  get patient logged in mid value   date format df date format get date instance  view my records action action view my records action prod dao logged in mid value   patient action get patient  list health record records action get all health records  list office visit bean office visits action get all office visits  list family member bean family action get family history  list allergy bean allergies action get allergies  list patient bean represented action get represented  list lab procedure bean procs action get labs   request get parameter  message null  div trust message style font size 24px align center request get parameter  message div br table align center tr td div style left margin right 5px table table border align center tr th colspan patient information th tr tr td sub header vertical name td td patient get full name  td tr tr td sub header vertical address td td patient get street address1  br equals patient get street address2   patient get street address2  br patient get street address3  br td tr tr td sub header vertical phone td td patient get phone  td tr tr td sub header vertical email td td patient get email  td tr tr th colspan insurance information th tr tr td sub header vertical provider name td td patient get ic name  td tr tr td sub header vertical address td td patient get ic address1  br equals patient get ic address2   patient get ic address2  br patient get ic address3  br td tr tr td sub header vertical phone td td patient get ic phone  td tr table div div style left margin left 5px table table border align center tr th office visits th th survey th tr office visit bean ov office visits  tr td href view office visit jsp ov id ov get visit id  is representing rep mid logged in mid value  df format ov get visit date   td  action is survey completed ov get visit id   td nbsp td td href survey jsp ov id ov get visit id  ov date df format ov get visit date   complete visit survey td tr tr td nbsp td tr tr td colspan align center href view prescription records jsp is representing rep logged in mid value  get prescriptions td tr table div td tr table br br table table align center tr th colspan family medical history th tr tr sub header td name td td relation td td high blood pressure td td high cholesterol td td diabetes td td cancer td td heart disease td td smoker td td cause of death td tr  family size  0  tr td colspan style text align center no relations on record td tr family member bean member family  tr td member get full name  td td member get relation  td td align center action does family member have high bp member  td td align center action does family member have high cholesterol member  td td align center action does family member have diabetes member  td td align center action does family member have cancer member  td td align center action does family member have heart disease member  td td align center action is family member smoker member  td td action get family member cod member  td tr table br br table align center tr td div style left margin right 5px table table align center tr th colspan allergies th tr tr sub header td allergy description td td first found td tr  allergies size  0  tr td colspan no allergies on record td tr allergy bean allergy allergies  tr td allergy get description  td td df format allergy get first found   td tr table div div style left margin left 5px table table tr th patients patient get first name  represents th tr tr sub header td patient td tr  represented size  0  tr td patient get first name  is not representing any patients td tr index patient bean represented  tr td if is representing  get full name  href view my records jsp rep index get full name  td tr index if  is representing  session set attribute  representees represented  table div td tr table br br table table align center tr th colspan basic health history th tr tr sub header td height td td weight td td smokes td td blood pressure td td hdl td td ldl td td triglycerides td td total cholesterol td td last recorded td td by personnel td tr if records size  0  list personnel bean personnel list array list personnel bean   index health record hr records  tr td hr get height  in td td hr get weight  lbs td td hr is smoker  td td hr get blood pressure  mm hg td td hr get cholesterol hdl  mg td td hr get cholesterol ldl  mg td td hr get cholesterol tri  mg td td hr get total cholesterol  mg td td df format hr get date recorded   td personnel bean personnel personnel dao prod dao  get personnel hr get personnel id   personnel list add personnel  td href trust auth view personnel jsp personnel index personnel get full name  td tr index session set attribute  personnel list personnel list  tr td colspan align center no data td tr table br br table table align center tr th colspan lab procedures th tr tr sub header td patient td td lab code td td status td td results td td office visit id td td commentary td td updated date td tr if procs size  lab procedure bean bean procs  tr td patient get full name  td td bean get loinc  td td bean get status  td td bean get results  td td bean get ov id  td td bean get commentary  td td df format bean get timestamp   td tr tr td colspan align center no data td tr table br br table table align center tr th colspan immunizations th tr tr sub header td cpt code th td description th td date received th td adverse event th tr has no data office visit bean ov office visits  list procedure bean ov procs action get complete office visit ov get visit id   get procedures  procedure bean proc ov procs   null proc get attribute  proc get attribute  equals  immunization   has no data tr td proc get cptcode  td td proc get description  td td proc get date  td td date date date  date set year date get year  1  if proc get date  after date  href report adverse event jsp pres id proc get description  hcpmid ov get hcp id  code proc get cptcode  report td tr if has no data  tr td colspan align center no data td tr table br include file footer jsp
AuthDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception edu ncsu csc itrust dbutil edu ncsu csc itrust random password edu ncsu csc itrust dao daofactory edu ncsu csc itrust enums role edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception   auth dao is anything that has to with authentication most methods access the users table dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos author andy auth dao login  timeout min daofactory factory   the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc auth dao  daofactory factory  factory factory   add particular user to the system does not add user specific information  e patient or hcp  initially sets security question to random set of characters so that nobody should be able to guess its value param mid the user mid as param role the role of the user as role link role param password the password the user string representing the newly added randomly generated password dbexception string add user  mid role role string password  dbexception connection conn prepared statement pstmt conn factory get connection  pstmt conn prepare statement  insert into users mid password role question answer  values pstmt set long 1 mid  pstmt set string 2 password  pstmt set string 3 role to string   pstmt set string 4 enter the random password given in your account email string pwd random password get random password  pstmt set string 5 pwd  pstmt execute update  pwd sqlexception e  print stack trace  dbexception e  dbutil close connection conn pstmt    reset the security question and answer particular user param question the security question as string param answer the security answer as string param mid the mid of the user as dbexception set security question answer  string question string answer mid  dbexception connection conn prepared statement pstmt conn factory get connection  pstmt conn prepare statement  update users set question answer where mid pstmt set string 1 question  pstmt set string 2 answer  pstmt set long 3 mid  pstmt execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn pstmt    returns the user name of user from just the mid param mid the mid of the user to get the name of the user name as string dbexception trust exception string get user name long mid  dbexception trust exception role role get user role mid   role  hcp pha admin uap er factory get personnel dao  get name mid  patient factory get patient dao  get name mid  tester string value of mid  trust exception  role role not supported   returns the role of particular mid param mid the mid of the user to look up the link role of the user as an dbexception trust exception role get user role long mid  dbexception trust exception connection conn prepared statement pstmt conn factory get connection  pstmt conn prepare statement  select role from users where mid pstmt set long 1 mid  result set rs rs pstmt execute query   rs next   role parse rs get string  role   trust exception  user does not exist sqlexception e  print stack trace  dbexception e  dbutil close connection conn pstmt    change the password of particular user param mid the mid of the user whose password we are changing param password the password dbexception reset password long mid string password  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  update users set password where mid ps set string 1 password  ps set long 2 mid  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    the security question particular user param mid the mid of the user we are looking up the security question of the user we are looking up trust exception string get security question long mid  trust exception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select question from users where mid ps set long 1 mid  result set ps execute query   r next   get string  question trust exception  no security question set mid mid  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    the security answer of particular user param mid the mid of the user we are looking up the security answer as string trust exception string get security answer long mid  trust exception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select answer from users where mid ps set long 1 mid  result set ps execute query   r next   get string  answer trust exception  no security answer set mid mid  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    record login failure which blacklists the ip address uses the database table like hash table where the key is the user ip address the user ip address is not in the table row with is added param ip addr the ip address of the user as string dbexception record login failure  string ip addr  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  update login failures set failure count failure count last failure current  timestamp where ipaddress prepare statement  insert into login failures values  ps set string 1 ip addr  ps set int 2 failures  ps set date 3 calendar get instance  get time   num updated ps execute update   num updated 0  there wasn an empty row to begin with insert login failure row ip addr conn  now they have row and strike against em sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    record reset password failure which blacklists the ip address uses the database table like hash table where the key is the user ip address the user ip address is not in the table row with is added param ip addr the ip address of the user as string dbexception record reset password failure  string ip addr  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  update reset password failures set failurecount failurecount where ipaddress ps set string 1 ip addr  num updated ps execute update   num updated 0  there wasn an empty row to begin with insert reset password row ip addr conn  now they have row and strike against sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    the number of failures from resetting password given an ip address param ip addr an ip address the associated attempt as string an representing the number of failures dbexception get reset password failures  string ip addr  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from reset password failures where ipaddress ps set string 1 ip addr  result set rs ps execute query   rs next   we re more than minutes out clear the failure count system current time millis  rs get timestamp  last failure get time  login  timeout  update reset failures to zero ip addr conn  rs get int  failure count insert reset password row ip addr conn  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    the number of failures from login failures password given an ip address param ip addr the ip address attempt as string an representing the number of failures which have occured dbexception get login failures  string ip addr  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from login failures where ipaddress ps set string 1 ip addr  result set rs ps execute query   rs next   we re more than minutes out clear the failure count system current time millis  rs get timestamp  last failure get time  login  timeout  update failures to zero ip addr conn  rs get int  failure count insert login failure row ip addr conn  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  insert login failure row  string ip addr failure count connection conn  dbexception sqlexception prepared statement ps conn prepare statement  insert into login failures  ipaddress failure count  values  ps set string 1 ip addr  ps set int 2 failure count  ps execute update  insert reset password row  string ip addr failure count connection conn  dbexception sqlexception prepared statement ps conn prepare statement  insert into reset password failures  ipaddress failure count  values  ps set string 1 ip addr  ps set int 2 failure count  ps execute update  update failures to zero  string ip addr connection conn  dbexception sqlexception prepared statement ps conn prepare statement  update login failures set failure count where ipaddress ps set string 1 ip addr  ps execute update  reset login failures to zero  string ip addr  dbexception sqlexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  update login failures set failure count where ipaddress ps set string 1 ip addr  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  update reset failures to zero  string ip addr connection conn  dbexception sqlexception prepared statement ps conn prepare statement  update reset password failures set failure count where ipaddress ps set string 1 ip addr  ps execute update    check that user actually exists param mid dbexception check user exists long mid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from users where mid ps set long 1 mid  result set rs ps execute query  rs next  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
PersonnelValidator edu ncsu csc itrust validate edu ncsu csc itrust action edit personnel action edu ncsu csc itrust beans personnel bean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception   validates personnel bean from link edit personnel action author andy personnel validator bean validator personnel bean   the constructor personnel validator    performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated override validate  personnel bean p  form validation exception error list error list error list  error list add not null check format  first name get first name  validation format name false  error list add not null check format  last name get last name  validation format name false  error list add not null check format  street address get street address1  validation format address false  error list add not null check format  street address get street address2  validation format address true  error list add not null check format  city get city  validation format city false  error list add not null check format  state get state  validation format state false  error list add not null check format  zip code get zip  validation format zipcode false  error list add not null check format  phone number get phone  validation format phone  number false  error list add not null check format  email get email  validation format email true   error list has errors   form validation exception error list 
/auth/hcp/viewPrescriptionRenewalNeeds taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util list page edu ncsu csc itrust action view prescription renewal needs action page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust beans prescription bean page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust dao mysql patient dao page edu ncsu csc itrust dao mysql personnel dao include file global jsp page title trust my patients with potential prescription renewal needs include file header jsp personnel bean self personnel dao prod dao  get personnel logged in mid  view prescription renewal needs action exp action view prescription renewal needs action prod dao logged in mid value   list personnel bean personnel list prod dao get personnel dao  get all personnel  session set attribute  personnel list personnel list  div align center br table table list patient bean patients exp action get renewal needs patients  patients patient dao prod dao  get all patients  temporary test  patients size  0  tr td colspan no patients have renewal needs td tr tr th colspan self get full name  th tr tr sub header td patient name td td phone number td td email address td tr patient bean patient patients  personnel bean doctor exp action get prescribing doctor prescription  tr td href send email notification jsp mid patient get mid  patient get full name  td td patient get phone  td td patient get email  td tr table br div include file footer jsp
ChronicDiseaseRiskAction edu ncsu csc itrust action util list edu ncsu csc itrust action base patient base action edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql auth dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception no health records exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust risk chronic disease mediator edu ncsu csc itrust risk risk checker   used chronic disease risks jsp passes most of the logic off to link chronic disease mediator and the various subclasses of link risk checker author andy meneely chronic disease risk action patient base action auth dao auth dao logged in mid chronic disease mediator disease mediator transaction dao trans dao   param factory param logged in mid param pid string the patient id to be validated and used trust exception dbexception no health records exception is thrown patient is added without any health records to be checked to avoid having exception be thrown in normal flow of events author andy meneely chronic disease risk action  daofactory factory logged in mid string pid string  trust exception dbexception no health records exception super factory pid string  auth dao factory get auth dao  trans dao factory get transaction dao  logged in mid logged in mid disease mediator chronic disease mediator factory pid    returns the id of the patient to be checked patient id whose risk we are checking author andy meneely get patient id  pid   gives the full name of the patient full name of the patient who we are checking dbexception trust exception author andy meneely string get user name  dbexception trust exception auth dao get user name pid    returns the risks which patient is at risk all logic has been passed to link chronic disease mediator and the subclasses of link risk checker list of risks trust exception dbexception author andy meneely list risk checker get diseases at risk  trust exception dbexception trans dao log transaction  transaction type identify  risk  factors logged in mid pid disease mediator get disease at risk 
SurveyResultDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql sqlexception util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans survey result bean edu ncsu csc itrust beans loaders survey result bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   dao handling all survey results dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos survey result dao daofactory factory survey result bean loader loader   the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc survey result dao  daofactory factory  factory factory loader survey result bean loader    returns all the survey results in the database that correspond to particular zip code param zip the zipcode we are interested in as string param specialty the specialty we are interested in as string util list of survey result beans dbexception list survey result bean get survey results zip  string zip string specialty  dbexception connection conn prepared statement ps string buffer sql string buffer  sql append  select mid firstname lastname address1 address2 city state zip specialty sql append  na hospital id sql append  avg s waiting room minutes  avg waiting room minutes sql append  avg s exam room minutes  avg exam room minutes sql append  avg s visit satisfaction  avg visit satisfaction sql append  avg s treatment satisfaction  avg treatment satisfation sql append  count  sql append   select count  from personnel p1 officevisits v1 sql append  where v1 hcpid p1 mid sql append  and substr p1 zip 3  sql append  and p1 mid mid  percent satisfaction results sql append  from ovsurvey personnel officevisits sql append  where visitid id sql append  and hcpid mid sql append  and substr p zip 3  specialty equals  survey result bean any  specialty  sql append  and specialty sql append  group by mid firstname lastname address1 address2 city state zip hospital id specialty equals  survey result bean any  specialty  sql append  specialty sql append  order by mid conn factory get connection  ps conn prepare statement sql to string   ps set string 1 zip substring 0 3  ps set string 2 zip substring 0 3  specialty equals  survey result bean any  specialty  ps set string 3 specialty  loader load list ps execute query   sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns all the survey data associated with given hospital and certain specialty param hospital id the unique id of the trust hospital we are querying about param specialty string representing the specialty we are interested in util list of survey result beans dbexception list survey result bean get survey results hospital  string hospital id string specialty  dbexception connection conn prepared statement ps string buffer sql string buffer  sql append  select mid firstname lastname address1 address2 city state zip specialty sql append  hosid hospital id sql append  avg s waiting room minutes  avg waiting room minutes sql append  avg s exam room minutes  avg exam room minutes sql append  avg s visit satisfaction  avg visit satisfaction sql append  avg s treatment satisfaction  avg treatment satisfation sql append  count  sql append   select count  from personnel p1 officevisits v1 hcpassigned hos h1 sql append  where v1 hcpid p1 mid sql append  and v1 hcpid h1 hcpid sql append  and h1 hosid sql append  and p1 mid mid  percent satisfaction results sql append  from ovsurvey personnel officevisits hcpassigned hos sql append  where visitid id sql append  and hcpid mid sql append  and hcpid hcpid sql append  and hosid specialty equals  survey result bean any  specialty  sql append  and specialty sql append  group by mid firstname lastname address1 address2 city state zip hospital id specialty equals  survey result bean any  specialty  sql append  specialty sql append  order by mid conn factory get connection  ps conn prepare statement sql to string   ps set string 1 hospital id  ps set string 2 hospital id  specialty equals  survey result bean any  specialty  ps set string 3 specialty  loader load list ps execute query   sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
/auth/hcp uap/editPatient taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust action edit patient action page edu ncsu csc itrust bean builder page edu ncsu csc itrust enums ethnicity page edu ncsu csc itrust enums blood type page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust enums gender page edu ncsu csc itrust beans diagnosis bean include file global jsp page title trust edit patient include file header jsp require patient id first string pid string string  session get attribute  pid  pid string pid string length   pid string string  session get attribute  edit pid  pid string pid string length   response send redirect  trust auth get patient id jsp forward hcp uap edit patient jsp session remove attribute  pid session set attribute  edit pid pid string  the patient id doesn check out then kick em out to the exception handler edit patient action action edit patient action prod dao logged in mid value  pid string  now take care of updating information form is filled request get parameter  form is filled request get parameter  form is filled equals  patient bean  form is filled  bean builder patient bean   build request get parameter map  patient bean   action update information p  br div align center span trust message information successfully updated span div br form validation exception e  br div align center span trust error get message  span div br action get patient  form action edit patient jsp method post input type hidden name form is filled value br table cellspacing align center cellpadding tr td valign top table table align center style width 350px tr th colspan patient information th tr tr td sub header vertical first name td td input name first name value get first name  type text td tr tr td sub header vertical last name td td input name last name value get last name  type text td tr tr td sub header vertical email td td input name email value get email  type text td tr tr td sub header vertical address td td input name street address1 value get street address1  type text br input name street address2 value get street address2  type text td tr tr td sub header vertical city td td input name city value get city  type text td tr tr td sub header vertical state td td itrust state name state value get state  td tr tr td sub header vertical zip td td input name zip1 value get zip1  maxlength type text size input name zip2 value get zip2  maxlength type text size td tr tr td sub header vertical phone td td input name phone1 value get phone1  type text size maxlength input name phone2 value get phone2  type text size maxlength input name phone3 value get phone3  type text size maxlength td tr tr td sub header vertical mother mids td td input name mother mid value get mother mid  maxlength type text td tr tr td sub header vertical father mid td td input name father mid value get father mid  maxlength type text td tr tr td sub header vertical credit card type td td select name credit card type option value select option option value mastercard get credit card type  equals  mastercard selected mastercard option option value visa get credit card type  equals  visa selected visa option option value discover get credit card type  equals  discover selected discover option option value amex get credit card type  equals  amex selected american express option select td tr tr td sub header vertical credit card number td td input name credit card number value get credit card number  maxlength type text td tr table br table table align center style width 350px tr th colspan insurance information th tr tr td sub header vertical name td td input name ic name value get ic name  type text td tr tr td sub header vertical address td td input name ic address1 value get ic address1  type text br input name ic address2 value get ic address2  type text td tr tr td sub header vertical city td td input name ic city value get ic city  type text td tr tr td sub header vertical state td td itrust state name ic state value get ic state  td tr tr td sub header vertical zip td td input name ic zip1 value get ic zip1  maxlength type text size input name ic zip2 value get ic zip2  maxlength type text size td tr tr td sub header vertical phone td td input name ic phone1 value get ic phone1  type text size maxlength input name ic phone2 value get ic phone2  type text size maxlength input name ic phone3 value get ic phone3  type text size maxlength td tr tr td sub header vertical insurance id td td input name ic id value get ic id  type text td tr table td td width 15px nbsp td td valign top table table align center style width 350px tr th colspan emergency contact th tr tr td sub header vertical name td td input name emergency name value get emergency name  type text td tr tr td sub header vertical phone td td input name emergency phone1 value get emergency phone1  type text size maxlength input name emergency phone2 value get emergency phone2  type text size maxlength input name emergency phone3 value get emergency phone3  type text size maxlength td tr table br table table align center style width 350px tr th colspan health information th tr tr td sub header vertical ethnicity td td select name ethnicity str string selected ethnicity eth ethnicity values   selected  eth equals p get ethnicity   selected selected option value eth get name  selected eth get name  option select td tr tr td sub header vertical blood type td td select name blood type str blood type bt blood type values   selected  bt equals p get blood type   selected selected option value bt get name  selected bt get name  option select tr tr td sub header vertical gender td td select name gender str gender gender values   selected  g equals p get gender   selected selected option value get name  selected get name  option select td tr tr td sub header vertical date of birth td td input type text name date of birth str maxlength size value get date of birth str  input type button value select date onclick display date picker  date of birth str td tr tr td sub header vertical date of death td td input type text name date of death str maxlength size value get date of death str  input type button value select date onclick display date picker  date of death str td tr tr td sub header vertical cause of death td td select name cause of death style font size option value  none selected  option diagnosis bean diag prod dao get icdcodes dao  get all icdcodes   string select  diag get icdcode  equals p get cause of death   select selected selected option select value diag get icdcode  diag get icdcode  jsp expression diag get description  jsp expression option select td tr tr td sub header vertical topical notes td td textarea name topical notes get topical notes  textarea td tr table td tr table br div align center input type submit name action style font size 16pt font weight bold value edit patient record br br span style font size 14px note in order to set the password user use the reset password link at the login page span div form br br itrust patient nav title demographics include file footer jsp
/auth/hcp/editPatientList taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page edu ncsu csc itrust action edit monitoring list action include file global jsp page title trust edit patient list include file header jsp require patient id first string pid string string session get attribute  pid string add or remove add  pid string pid string length  equals request get parameter  confirm action   session remove attribute  pid response send redirect  trust auth get patient id jsp forward hcp edit patient list jsp session remove attribute  pid edit monitoring list action action edit monitoring list action prod dao logged in mid value   pid parse long pid string  string patient name action get patient name pid   action is patient in list pid  add or remove remove string confirm conf bool equals request get parameter  confirm action   if add or remove equals  add   conf bool action add to list pid  if conf bool  confirm patient patient name added conf bool action remove from list pid  if conf bool  confirm patient patient name removed session remove attribute  pid equals confirm  div align center span trust message confirm span div br form action edit patient list jsp method post input type hidden name confirm action value input input type submit value add or remove patient name input type submit value choose different patient on click javascript different patient  form script type text javascript function different patient  document get elements by name  confirm action value document forms submit  script br br br include file footer jsp
ChildhoodInfectionFactor edu ncsu csc itrust risk factors edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   checks the patient had the given diagnoses during childhood see link patient risk factor details on what each method typically does author andy childhood infection factor patient risk factor icd codes patient id daofactory factory childhood infection factor  daofactory factory mid icd codes  factory factory patient id mid icd codes icd codes clone  string get description  patient had viral infection during their childhood that would increase the risk diesease has factor  factory get risk dao  had childhood infection patient id icd codes  dbexception e  system err println  dbexception on childhood infection risk giving no risk
DrugInteractionBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans drug interaction bean   loader medication beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader drug interaction bean loader bean loader drug interaction bean drug interaction bean loader  list drug interaction bean load list  result set rs  sqlexception array list drug interaction bean list array list drug interaction bean    rs next   list add load single rs  list drug interaction bean load single  result set rs  sqlexception medication bean med medication bean  drug interaction bean drug it drug interaction bean  drug it set description rs get string  description   drug it set first drug rs get string  first drug   drug it set second drug rs get string  second drug   drug it prepared statement load parameters  prepared statement ps drug interaction bean bean  sqlexception illegal state exception  unimplemented
/auth/hcp/viewMyMessages page error page auth exception handler jsp page util list page edu ncsu csc itrust action view my messages action page edu ncsu csc itrust beans message bean page edu ncsu csc itrust dao daofactory include file global jsp page title trust view my messages include file header jsp div align center h2 my messages h2 view my messages action action view my messages action prod dao logged in mid value   list message bean messages action get all my messages  session set attribute  messages messages   messages size  0  table table tr th sender th th message th th received th th th tr index for  message bean message messages  tr td action get name message get from   td td message get body  td td message get sent date  td td href reply jsp msg index reply td tr index table div you have no messages div br div include file footer jsp
UpdateHospitalListAction edu ncsu csc itrust action edu ncsu csc itrust beans hospital bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql hospitals dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate hospital bean validator   handles updating the list of hospitals used by hospital listing jsp author laurenhayward update hospital list action performer id hospitals dao hosp dao transaction dao trans dao   set up param factory the daofactory used to create the daos used in action param performer id the mid of the person updating the hospitals update hospital list action  daofactory factory performer id  hosp dao factory get hospitals dao  trans dao factory get transaction dao  performer id performer id   adds hosptial using the hospital bean passed as param param hosp the hospital listing status message form validation exception string add hospital  hospital bean hosp  form validation exception hospital bean validator  validate hosp   hosp dao add hospital hosp  trans dao log transaction  transaction type maintain  hospitals performer id added hospital hosp get hospital name   success hosp get hospital id  hosp get hospital name  added the database has become corrupt please contact the system administrator assistance dbexception e  print stack trace  get message   i trust exception e  get message    updates hospital  based on the hospital id  using information from the hospital bean passed as param param hosp the hospital information with the same hospital id status message form validation exception string update information  hospital bean hosp  form validation exception hospital bean validator  validate hosp  rows  0  rows update hospital hosp  error hospital not found success rows row s  updated dbexception e  print stack trace  get message    updates hospital param hosp information id the updated hospital dbexception update hospital  hospital bean hosp  dbexception hosp dao update hospital hosp 
SurveyResultBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans survey result bean   loader survey result beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader survey result bean loader bean loader survey result bean list survey result bean load list  result set rs  sqlexception array list survey result bean list array list survey result bean    rs next   list add load single rs  list prepared statement load parameters  prepared statement ps survey result bean bean  sqlexception illegal state exception  unimplemented survey result bean load single  result set rs  sqlexception survey result bean survey result survey result bean  survey result set hcpmid rs get long  mid   survey result set avg exam room minutes rs get float  avg exam room minutes   survey result set avg treatment satisfaction rs get float  avg treatment satisfation   survey result set avg visit satisfaction rs get float  avg visit satisfaction   survey result set avg waiting room minutes rs get float  avg waiting room minutes   survey result set hcpaddress1 rs get string  address1   survey result set hcpaddress2 rs get string  address2   survey result set hcpcity rs get string  city   survey result set hcpstate rs get string  state   survey result set hcpzip rs get string  zip   survey result set hcphospital rs get string  hospital id   survey result set hcpfirst name rs get string  first name   survey result set hcplast name rs get string  last name   survey result set hcpspecialty rs get string  specialty   survey result set percent satisfaction results rs get float  percent satisfaction results   survey result
/auth/pha/home page error page auth exception handler jsp page util list include file global jsp page title trust pha home include file header jsp div style text align center h2 welcome pha user name h2 div include file footer jsp
EditApptTypeAction edu ncsu csc itrust action sql sqlexception util list edu ncsu csc itrust beans appt type bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql appt type dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust validate appt type bean validator edit appt type action logged in mid appt type dao appt type dao transaction dao trans dao appt type bean validator validator appt type bean validator  edit appt type action  daofactory factory logged in mid  logged in mid logged in mid appt type dao factory get appt type dao  trans dao factory get transaction dao  list appt type bean get appt types  sqlexception appt type dao get appt types  string add appt type  appt type bean appt type  sqlexception form validation exception validator validate appt type  list appt type bean list get appt types  for  appt type bean list  if a get name  equals appt type get name   appointment type appt type get name  already exists  appt type dao add appt type appt type  trans dao log transaction  transaction type add  appt  type logged in mid added appointment type appt type get name   success appt type get name  duration appt type get duration  added the database has become corrupt please contact the system administrator assistance dbexception e  print stack trace  get message  string edit appt type  appt type bean appt type  sqlexception form validation exception validator validate appt type  list appt type bean list get appt types  flag for  appt type bean list  if a get name  equals appt type get name   flag if a get duration  appt type get duration   appointment type appt type get name  already has duration of appt type get duration  minutes if flag 0  appointment type appt type get name  you are trying to update does not exist  appt type dao edit appt type appt type  trans dao log transaction  transaction type update  appt  type logged in mid updated appointment type appt type get name   success appt type get name  duration appt type get duration  updated the database has become corrupt please contact the system administrator assistance dbexception e  print stack trace  get message  get duration by type  string at  sqlexception list appt type bean list get appt types  for  appt type bean list  if a get name  equals at  get duration 
/auth/admin/addHCP taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust bean builder page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust action add hcpaction page edu ncsu csc itrust enums role include file global jsp page title trust add hcp include file header jsp form is filled request get parameter  form is filled request get parameter  form is filled equals   form is filled  page is not actually page it just adds user and forwards personnel bean bean builder personnel bean   build request get parameter map  personnel bean   set role  role hcp  mid add hcpaction prod dao logged in mid value   add p  session set attribute  mid to string new mid  string fullname string password password get password  fullname get full name  div align center span trust message hcp fullname succesfully added span br br table table tr th colspan hcp information th tr tr td sub header vertical mid td td mid td tr tr td sub header vertical temporary password td td password td tr table br please get information to fullname href trust auth staff edit personnel jsp to personnel information div catch  form validation exception e  div align center span trust error get message  span div div align center style width text align left please enter in the name of the hcp with valid email address the user does not have an email address use the hospital email address insert pre defined email to recover the password form action add hcp jsp method post input type hidden name form is filled value br table table tr th colspan uap information th tr tr td sub header vertical first name td td input type text name first name td tr tr td sub header vertical last name td td input type text name last name tr tr td sub header vertical email td td input type text name email td tr table br input type submit style font size 16pt font weight bold value add personnel br form div include file footer jsp
ReferralBean edu ncsu csc itrust beans   bean storing data about medical referral bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  referral bean id patient id sender id receiver id string referral details string consultation details referral status status referral status pending referral status pending finished declined referral bean  override equals  object other   other null  get class  equals other get class   equals  referral bean  other  equals  referral bean other   id other id sender id other sender id receiver id other receiver id referral details equals other referral details  consultation details equals other consultation details  status equals other status  hash code  hash code not designed any arbitrary constant will get id  id set id long id  id id get sender id  sender id set sender id long sender id  sender id sender id get receiver id  receiver id set receiver id long receiver id  receiver id receiver id string get referral details  referral details set referral details  string referral details  referral details referral details string get consultation details  consultation details set consultation details  string consultation details  consultation details consultation details referral status get status  status set status  referral status status  status status get patient id  patient id set patient id long patient id  patient id patient id
/auth/admin/sendAppointmentReminders page error page auth exception handler jsp page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust dao mysql transaction dao page edu ncsu csc itrust enums transaction type page edu ncsu csc itrust action send message action page edu ncsu csc itrust action view my appts action page edu ncsu csc itrust beans appt bean page edu ncsu csc itrust beans message bean page util calendar page util list page util date page text date format page text simple date format page sql timestamp include file global jsp page title trust send appointment reminders include file header jsp string header message messages sent  1 error if request get parameter  submit null  if request get parameter  threshold null  days days integer parse int request get parameter  threshold   catch  number format exception e  header message please enter number into the threshold field error send message action action send message action prod dao l  message bean to send message bean  date format format simple date format  hh mm mm dd yyyy calendar current calendar get instance  calendar end calendar get instance  end add  calendar day  of  month days  end set  calendar hour  of  day 23  end set  calendar minute 59  end set  calendar second 59  calendar subject calendar get instance  view my appts action appt action view my appts action prod dao logged in mid value   list appt bean ap list appt action get all appts  messages sent for  appt bean ap list  if a get date  after current get time   get date  before end get time   to send set from 9000000009 l  subject set time in millis a get date  get time   difference subject get  calendar day  of  month  current get  calendar day  of  month  if subject get  calendar month  current get  calendar month  difference current get actual maximum  calendar day  of  month  current get  calendar day  of  month  subject get  calendar day  of  month  to send set subject  reminder upcoming appointment in difference day s  to send set sent date new timestamp current get time in millis   to send set to a get patient   date date a get date  get time   to send set body  you have an appointment on format format d  with dr action get personnel name a get hcp   action send message to send  to send set to 9000000009 l  to send set subject a get patient  to send get subject   action send message to send  messages sent log the messages transaction dao trans dao prod dao get transaction dao  trans dao log transaction  transaction type send  reminders logged in mid  div align center h2 send appointment reminders h2 error span trust message header message span br br messages sent  1 span trust message messages sent message s  sent span br br form method post action send appointment reminders jsp label threshold enter reminder threshold label input type text name threshold id threshold span days span br br input type submit name submit value submit form div include file footer jsp
EditPersonnelAction edu ncsu csc itrust action edu ncsu csc itrust action base personnel base action edu ncsu csc itrust beans personnel bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql auth dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums role edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate personnel validator   edits the designated personnel used by admin edit personnel jsp staff edit my demographics jsp edit personnel jsp author laurenhayward edit personnel action personnel base action logged in mid personnel dao personnel dao transaction dao trans dao auth dao auth dao personnel validator validator personnel validator    validates the patient id param factory the daofactory used to create the daos action param logged in mid the mid of the user editing personnel param pid string the id of the user being edited trust exception edit personnel action  daofactory factory logged in mid string pid string  trust exception super factory pid string  auth dao factory get auth dao  pidlong parse long pid string  role editor auth dao get user role logged in mid  role editing auth dao get user role pidlong   editor editing pidlong logged in mid  trust exception  you can only edit your own demographics  editor role hcp editing role admin editor role uap editing role hcp editor role admin editing role uap  trust exception  you are not authorized to edit record personnel dao factory get personnel dao  trans dao factory get transaction dao  logged in mid logged in mid   takes information from the personnel form param and updates the patient param personnel form personnel bean with information trust exception form validation exception update information  personnel bean personnel form  trust exception form validation exception personnel form set mid pid  validator validate personnel form  personnel dao edit personnel personnel form  trans dao log transaction  transaction type create  disable  patient  hcp logged in mid  edit message filter  string filter  trust exception form validation exception personnel bean personnel dao get personnel this get pid   set message filter filter  update information b 
OperationalProfileLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util list edu ncsu csc itrust beans operational profile edu ncsu csc itrust enums transaction type   loader the operational profile loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader operational profile loader bean loader operational profile list operational profile load list  result set rs  sqlexception illegal state exception  unimplemented prepared statement load parameters  prepared statement ps operational profile bean  sqlexception illegal state exception  unimplemented operational profile load single  result set rs  sqlexception operational profile op operational profile  grand total grand patient grand personnel  rs next   transaction type type transaction type parse rs get int  transaction code   total count rs get int  total count patient count rs get int  patient count personnel count rs get int  personnel count op get total count  put type total count  op get patient count  put type patient count  op get personnel count  put type personnel count  grand total total count grand patient patient count grand personnel personnel count op set num total transactions grand total  op set num patient transactions grand patient  op set num personnel transactions grand personnel  op
ResetPasswordAction edu ncsu csc itrust action util arrays edu ncsu csc itrust email util edu ncsu csc itrust beans email edu ncsu csc itrust beans patient bean edu ncsu csc itrust beans personnel bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql auth dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust enums role edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate validation format   manages resetting the password used by reset password jsp author laurenhayward reset password action max  reset  attempts auth dao auth dao patient dao patient dao daofactory factory   set up defaults param factory the daofactory used to create the daos used in action reset password action  daofactory factory  auth dao factory get auth dao  patient dao factory get patient dao  factory factory   checks to see user exists with the given mid param mid string the user mid to check the user does not exist the mid of the user as check mid  string mid string  mid value of mid string  auth dao check user exists mid  mid number format exception e  dbexception e    checks to see the number of reset password attempts has been exceeded the given ip address param ip address the ipv4 or ipv6 ip address as string the the number of reset attempts is greater than or equal to max  reset  attempts dbexception is maxed out  string ip address  dbexception auth dao get reset password failures ip address  max  reset  attempts   checks the given mid matches the given role param mid the mid to be checked param role the role to be checked the mid and role match trust exception string check role long mid string role  trust exception   patient equals role  patient dao get role mid role  equals  patient   hcp equals role  patient dao get role mid role  equals  hcp   uap equals role  patient dao get role mid role  equals  uap   pha equals role  patient dao get role mid role  equals  pha   er equals role  patient dao get role mid role  equals  er   role dbexception e  print stack trace   i trust exception e  print stack trace    checks the answer param is param answer the user security answer answer not string check answer null  string answer   answer equals answer  answer   returns the security question the mid param param mid mid of the user the security question or dbexception thrown trust exception string get security question long mid  trust exception  null auth dao get security question mid  auth dao get security question mid  equals   trust exception  no security question or answer user has been set auth dao get security question mid  dbexception e  print stack trace    resets the password the given mid param mid of the user to have their password reset param role what role the user has in trust param answer answers to their security question param password their password param confirm password their password again param ip addr the ip address the request is coming from status message form validation exception dbexception trust exception string reset password long mid string role string answer string password string confirm password string ip addr  form validation exception dbexception trust exception role auth dao get user role mid  role parse role  illegal argument exception e  invalid role  r equals  role admin  role cannot be changed here equals  role parse role  role mismatch  auth dao get reset password failures ip addr  max  reset  attempts  too many retries validate password password confirm password   answer equals auth dao get security answer mid  auth dao reset password mid password  email util factory  send email make email app mid role  password changed auth dao record reset password failure ip addr  answer did not match dbexception e  error in validation of security answer   creates and sends an e mail about the change param mid the user who password was changed param role what role they have in trust the e mial that is sent dbexception email make email app long mid string role  dbexception if  role parse role  role patient  patient bean patient dao factory  get patient mid  email email email  email set from  no reply itrust com email set to list  arrays as list p get email   email set subject  your password has been changed in trust email set body  string format  dear you have chosen to change your trust password user get full name  mid  email uap or hcp admin taken out in reset password personnel bean personnel dao factory  get personnel mid  email email email  email set from  no reply itrust com email set to list  arrays as list p get email   email set subject  your password has been changed in trust email set body  string format  dear you have chosen to change your trust password user get full name  mid  email   checks to make sure the password is correctly entered twice param password the password param confirm password the password again confirmation form validation exception validate password  string password string confirm password  form validation exception error list error list error list   password equals password  error list add not null  password cannot be empty password equals confirm password  error list add not null  passwords don match validation format password get regex  matcher password  matches   error list add not null  password must be in the following format validation format password get description    error list has errors   form validation exception error list 
/errors/nodb page language content type text html charset iso 8859 1 page encoding iso 8859 1 is error page session invalidate  html head meta http equiv content type content text html charset iso 8859 1 title authorization error title head body div align center h1 trust is down h1 the trust system is not available at time br br br span you are developing on trust you are not connecting to the database properly check your trust web root meta inf context xml and restart tomcat to fix span br br href trust log back in div body html
/auth/admin/editNDCodes page net urlencoder page net urldecoder page util list page edu ncsu csc itrust beans medication bean page edu ncsu csc itrust beans drug interaction bean page edu ncsu csc itrust action update ndcode list action page edu ncsu csc itrust action drug interaction action page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust exception trust exception include file global jsp page title trust maintain nd codes include file header jsp update ndcode list action nd updater update ndcode list action prod dao logged in mid value   drug interaction action interaction action drug interaction action prod dao logged in mid value   string header message viewing current nd codes string code1 request get parameter  code1 request get parameter  code1 trim  string code2 request get parameter  code2 request get parameter  code2 trim  string code code1 code2  request get parameter  add request get parameter  update request get parameter  delete null  if request get parameter  add request get parameter  update null  medication bean med medication bean code request get parameter  description   header message  request get parameter  add null  nd updater add ndcode med  nd updater update information med  if request get parameter  code to delete null  interaction action delete interaction code request get parameter  code to delete trim   header message interaction deleted successfully header message interaction does not exist catch  form validation exception e  div align center span trust error get message  span div header message validation errors catch i trust exception e  div align center span trust error get message  span div header message validation errors string header color  header message index of  error  1  ffcccc cccc br div align center form name main form method post input type hidden id code to delete name code to delete value input type hidden id update id name update id value input type hidden id old descrip name old descrip value script type text javascript function fill update code  document get element by id  code1 value code substring 0 5  document get element by id  code2 value code substring 5  document get element by id  description value unescape document get element by id  upd code  value  document get element by id  old descrip value unescape document get element by id  upd code  value  document get element by id  interactions inner html document get element by id  desc inner html drugs document get element by id  intdrug code  value split  descs document get element by id  intdesc code  value split  for d in drugs  if d drugs length 1  link document create element  link href javascript void 0  link id drug interaction if d 0  add desc drugs descs if document all  link attach event  onclick add desc ie  strip newline off end of drug code drugs drugs substring 0 drugs length 1  link set attribute  onclick add desc  drugs descs var text drugs if document get element by id  upd text  value document get element by id  upd text  value undefined text text unescape document get element by id  upd drugs value  text text substring 0 5  text substring 5  link text document create text node int text  link append child int link text  document get element by id  interactions append child int link  document get element by id  interactions append child document create element  br   if drugs length 1  document get element by id  interactions inner html no interactions if document get element by id  delete style null  document get element by id  delete style visibility hidden function add desc ie  link id event src element id link id link id substring 15  get number after drug interaction link number eval link id  add desc drugs link number descs link number function add desc code desc  document get element by id  desc inner html desc document get element by id  delete style visibility document get element by id  code to delete value code script span trust message header message span br br table table align center tr th colspan update nd code list th tr tr sub header th code th th description th tr tr td style padding right 10px input type text id code1 name code1 size maxlength input type text id code2 name code2 size maxlength td td input type text id description name description size maxlength td tr tr sub header th interaction th th description th tr tr td style padding right 10px id interactions td td div id desc div div align center input type submit value delete interaction name delete id delete style visibility hidden div td tr table br input type submit name add value add code input type submit name update value update code br br table table align center tr th colspan current ndcs th tr tr sub header th code th th description th tr list medication bean med list prod dao get ndcodes dao  get all ndcodes  list drug interaction bean interaction list string temp code string temp descrip string escaped descrip string drugs string string descs string medication bean med entry med list  temp code med entry get ndcode  temp descrip med entry get description  escaped descrip urlencoder encode temp descrip utf 8 replace all  interaction list interaction action get interactions temp code  drugs string descs string for  drug interaction bean interaction list  if temp code equals b get first drug   drugs string get second drug  if temp code equals b get second drug   drugs string get first drug  descs string get description  drugs string urlencoder encode int drugs string utf 8 replace all  descs string urlencoder encode int descs string utf 8 replace all  tr td temp code length  temp code temp code substring 0 5  temp code length  temp code substring 5  td td href javascript void 0  onclick fill update  temp code temp descrip input type hidden id upd temp code name upd temp code value escaped descrip input type hidden id intdrug temp code name intdrug temp code value drugs string input type hidden id intdesc temp code name intdesc temp code value descs string td tr table form br br href edit ndcinteractions jsp edit interactions div br include file footer jsp
ApptTypeBean edu ncsu csc itrust beans appt type bean string name duration appt type bean  name duration appt type bean  string name duration  name name duration duration string get name  name set name  string name  name name get duration  duration set duration int duration  duration duration
PrescriptionReportBean edu ncsu csc itrust beans   is the container bean the prescription report requirement it contains prescription bean  which in turn contains medication bean  and an office visit bean br br was made so that the prescription report could be done all in one clean query br br see link prescription bean see link office visit bean author andy meneely prescription report bean prescription bean prescription office visit bean office visit prescription report bean  prescription bean get prescription  prescription set prescription  prescription bean prescription  prescription prescription office visit bean get office visit  office visit set office visit  office visit bean office visit  office visit office visit
RiskChecker edu ncsu csc itrust risk util array list util list edu ncsu csc itrust beans health record edu ncsu csc itrust beans patient bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql health records dao edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception no health records exception edu ncsu csc itrust risk factors patient risk factor   an which has number of utlity methods checking risks when extending use the methods to fill in all of the necessary information then use is at risk and get patient risk factors to get the actual risks see the known subclasses an example author andy risk checker risk  threshold patient bean patient health record current health record daofactory factory risk checker  daofactory factory patient id  dbexception no health records exception factory factory health records dao hr dao factory get health records dao  list health record records hr dao get all health records patient id   records size  0  current health record records get 0  no health records exception  patient factory get patient dao  get patient patient id    the name of the disease being checked string get name    util list of the risk factors increasing patients disease risk list patient risk factor get disease risk factors    indicating whether the patient is at increased risk qualifies disease    method exists purely performance just stop once you hit the threshold br br also the risk factors should be cached in the risk factor implementors in get patient risk factors there should be no double querying is at risk is at risk   qualifies disease   num risks list patient risk factor disease risk factors get disease risk factors  patient risk factor factor disease risk factors   factor has risk factor   num risks  num risks risk  threshold  both an from qualifies or not over the threshold   util list of patient risk factors associated with disease list patient risk factor get patient risk factors  list patient risk factor patient risk factors array list patient risk factor   list patient risk factor disease risk factors get disease risk factors  patient risk factor factor disease risk factors   factor has risk factor   patient risk factors add factor  patient risk factors
DateUtil edu ncsu csc itrust text simple date format util calendar util date util gregorian calendar   provides few extra date utilities author andy date util year  in  ms   returns mm dd yyyy format of the date the given years ago param years string years ago long years  time system current time millis  simple date format  mm dd yyyy format new date time years year  in  ms    checks to see given date is within range of months strong inclusively strong agnostic of the year br br the range wraps so that the first month is after the second month then the definition of is in month range is br the date falls outside of second month first month but including second month and first month modular arithmetic is used to adjust month values into the valid range param date param first month param second month is in month range java util date date first month second month  calendar cal gregorian calendar  cal set time date  first month second month  second month first month   cal get  calendar month  first month   cal get  calendar month  second month   cal get  calendar month  first month   cal get  calendar month  second month    same as is in month range but uses the current date as the date value see date util is in month range  date int  param first month param second month currently in month range int first month second month  is in month range new date  first month second month    returns the date certain number of years ago param years how many years ago the date it was however many years ago date get date xyears ago from now int years  calendar cal gregorian calendar  cal add  calendar year  years  cal get time    returns the date certain number of years ago param years how many years ago the date it was however many years ago sql date get sqldate xyears ago from now int years  sql date get date xyears ago from now years  get time     returns the date certain number of days ago param days how many days ago the date it was however many days ago date get date xdays ago from now int days  calendar cal gregorian calendar  cal add  calendar day  of  year  days  cal get time    returns the date certain number of days ago param days how many days ago the date it was however many days ago sql date get sqldate xdays ago from now int days  sql date get date xdays ago from now days  get time      pass in instantiated sql date objects and they will be set to the specified range ie from current year years ago1 month value1 to current year years ago2 month value2 last day of month2  pass in instantiated sql date objects and they will be set to the specified range ie from lt current year gt years ago1 month value1 to lt current year gt years ago2 month value2 lt last day of month2 gt param month1 first sql date object to be set param month value1 param years ago1 param month2 second sql date object to be set param month value2 param years ago2 set sqlmonth range java sql date month1 month value1 years ago1 sql date month2 month value2 years ago2  gregorian calendar cal gregorian calendar  cal add  calendar year  years ago1  cal set  calendar month month value1  cal set  calendar day  of  month 1  month1 set time cal get time in millis   cal add  calendar year years ago1  cal add  calendar year  years ago2  cal set  calendar month month value2  cal set  calendar day  of  month cal get actual maximum  calendar day  of  month  month2 set time cal get time in millis  
/auth/hcp/addUAP taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page edu ncsu csc itrust enums role page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust bean builder page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust action add uapaction include file global jsp page title trust add uap include file header jsp form is filled request get parameter  form is filled request get parameter  form is filled equals   form is filled  page is not actually page it just adds user and forwards personnel bean bean builder personnel bean   build request get parameter map  personnel bean   set role  role uap  mid add uapaction  daofactory get production instance  logged in mid  add p  session set attribute  mid to string new mid  string fullname string password password get password  fullname get full name  div align center span trust message uap fullname succesfully added span br br table table tr th colspan uap information th tr tr td sub header vertical mid td td mid td tr tr td sub header vertical temporary password td td password td tr table br please get information to fullname href trust auth staff edit personnel jsp to personnel information div catch  form validation exception e  div align center span trust error get message  span div div align center form action add uap jsp method post input type hidden name form is filled value br br div style width text align left please enter in the name of the uap with valid email address the user does not have an email address use the hospital email address insert pre defined email to recover the password div br br table table tr th colspan uap information th tr tr td sub header vertical first name td td input type text name first name td tr tr td sub header vertical last name td td input type text name last name tr tr td sub header vertical email td td input type text name email td tr table br input type submit style font size 16pt font weight bold value add personnel form br div include file footer jsp
/auth/patient/reply page error page auth exception handler jsp page edu ncsu csc itrust action send message action page edu ncsu csc itrust beans message bean page util list include file global jsp page title trust reply include file header jsp send message action action send message action prod dao logged in mid  message bean original  session get attribute  message null  original message bean session get attribute  message session set attribute  original original  session remove attribute  message  request get parameter  message body null   session get attribute  original null  original message bean session get attribute  original message bean message message bean  message set body request get parameter  message body   message set from logged in mid  message set to original get from   message set subject request get parameter  subject   message set read 0  message set parent message id original get message id   action send message message new  response send redirect  message inbox jsp response send redirect  message inbox jsp h2 reply h2 h4 to message from action get personnel name original get from   h4 form id main form method post action reply jsp span subject span input type text name subject size value re original get subject  br br span message span br textarea name message body cols rows textarea br br input type submit value send name send message form br br include file footer jsp
AddERespAction edu ncsu csc itrust action edu ncsu csc itrust random password edu ncsu csc itrust beans personnel bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql auth dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums role edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate add personnel validator   used add personnel page  add personnel jsp  just adds an empty hcp uap creates random password them very similar to link add office visit action and link add patient action author andy meneely copied from add hcpaction add eresp action personnel dao personnel dao auth dao auth dao transaction dao trans dao logged in mid   sets up the defaults the param factory factory creating the defaults param logged in mid person currently logged in author andy meneely add eresp action  daofactory factory logged in mid  personnel dao factory get personnel dao  auth dao factory get auth dao  trans dao factory get transaction dao  logged in mid logged in mid   adds the user event is logged param bean containing the information the user mid of the user form validation exception trust exception add  personnel bean p  form validation exception trust exception add personnel validator  validate p  mid personnel dao add empty personnel  role er  set mid new mid  personnel dao edit personnel p  string pwd auth dao add user new mid role er random password get random password   set password pwd  trans dao log transaction  transaction type create  disable  er logged in mid mid added get role  name   mid
ViewMyApptsAction edu ncsu csc itrust action sql sqlexception util list edu ncsu csc itrust beans appt bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql appt dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust exception trust exception view my appts action logged in mid appt dao appt dao patient dao patient dao personnel dao personnel dao view my appts action  daofactory factory logged in mid  logged in mid logged in mid appt dao factory get appt dao  patient dao factory get patient dao  personnel dao factory get personnel dao  list appt bean get my appointments  sqlexception appt dao get appts for logged in mid    gets users name from their mid param mid the mid of the user the user name trust exception string get name long mid  trust exception if mid l  patient dao get name mid  personnel dao get name mid    get all appointments the admins use may need to change sqlexception list appt bean get all appts  sqlexception appt dao get all appts 
EditOfficeVisitForm edu ncsu csc itrust beans forms   form to contain data coming from editing an office visit form is bean kinda you could say that it form of bean think of form as real life administrative form that you would fill out to get something done not necessarily making sense by itself edit office visit form string ov id string hcp id string patient id string hospital id string remove lab proc id string remove diag id string remove proc id string remove immunization id string remove med id string add lab proc id string add diag id string add proc id string add immunization id string add med id string notes string visit date string start date string end date string dosage string instructions string cause of death string get add diag id  add diag id set add diag id  string add diag id  add diag id add diag id string get add lab proc id  add lab proc id set add lab proc id  string add lab proc id  add lab proc id add lab proc id string get add med id  add med id set add med id  string add med id  add med id add med id string get add proc id  add proc id set add proc id  string add proc id  add proc id add proc id string get add immunization id  add immunization id set add immunization id  string add immunization id  add immunization id add immunization id string get notes  notes set notes  string notes  notes notes string get ov id  ov id set ov id  string ov id  ov id ov id string get remove lab proc id  remove lab proc id set remove lab proc id  string remove lab proc id  remove lab proc id remove lab proc id string get remove diag id  remove diag id set remove diag id  string remove diag id  remove diag id remove diag id string get remove med id  remove med id set remove med id  string remove med id  remove med id remove med id string get remove proc id  remove proc id set remove proc id  string remove proc id  remove proc id remove proc id string get remove immunization id  remove immunization id set remove immunization id  string remove immunization id  remove immunization id remove immunization id string get visit date  visit date set visit date  string visit date  visit date visit date string get hcp id  hcp id set hcp id  string hcp id  hcp id hcp id string get patient id  patient id set patient id  string patient id  patient id patient id string get hospital id  hospital id set hospital id  string hospital id  hospital id hospital id string get dosage  dosage set dosage  string dosage  dosage dosage string get end date  end date set end date  string end date  end date end date string get instructions  instructions set instructions  string instructions  instructions instructions string get start date  start date set start date  string start date  start date start date string get cause of death  cause of death set cause of death  string cause of death  cause of death cause of death
NDCodesDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans medication bean edu ncsu csc itrust beans loaders medication bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception   used managing the nd codes dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos the national drug code ndc  is universal product identifier used in the united states drugs intended human use see http www fda gov drugs information on drugs ucm142438 htm author andy ndcodes dao daofactory factory medication bean loader medication loader medication bean loader    the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc ndcodes dao  daofactory factory  factory factory   returns list of all nd codes util list of medication beans dbexception list medication bean get all ndcodes  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from ndcodes order by code result set rs ps execute query  medication loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns particular description given code param code the nd code to be looked up bean representing the medication that was looked up dbexception medication bean get ndcode  string code  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from ndcodes where code ps set string 1 code  result set rs ps execute query   rs next   medication loader load single rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    adds nd code returns whether or not the change was made the code already exists an trust exception is thrown param med the medication bean to be added indicating success or failure dbexception trust exception add ndcode  medication bean med  dbexception trust exception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into ndcodes code description  values ps set string 1 med get ndcode   ps set string 2 med get description    1 ps execute update   sqlexception e  print stack trace   1062 get error code   trust exception  error code already exists dbexception e  dbutil close connection conn ps    updates particular code description param med bean representing the particular medication to be updated an representing the number of updated rows dbexception update code  medication bean med  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  update ndcodes set description where code ps set string 1 med get description   ps set string 2 med get ndcode   ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
/auth/patient/messageOutbox page error page auth exception handler jsp page util list page edu ncsu csc itrust action view my messages action page edu ncsu csc itrust beans message bean page edu ncsu csc itrust dao daofactory include file global jsp page title trust view my sent messages include file header jsp div align center h2 my sent messages h2 href trust auth patient send message jsp compose message br br view my messages action action view my messages action prod dao logged in mid value   list message bean messages if request get parameter  sortby null  if request get parameter  sortby equals  name   if request get parameter  sorthow equals  asce   messages action get all my sent messages name ascending  messages action get all my sent messages name descending  if request get parameter  sortby equals  time   if request get parameter  sorthow equals  asce   messages action get all my sent messages time ascending  messages action get all my sent messages  messages action get all my sent messages  session set attribute  messages messages   messages size  0  form method post action message outbox jsp table tr td select name sortby option value time sort option option value name name option option value time time option select td td select name sorthow option value desc order option option value asce ascending option option value desc descending option select td td input type submit value sort td tr table form br table fancy table tr th to th th subject th th received th th th tr index for  message bean message messages  tr  index 1  alt td action get name message get to   td td message get subject  td td message get sent date  td td href view message outbox jsp msg index read td tr index table div you have no messages div br div include file footer jsp
FamilyDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans family member bean edu ncsu csc itrust beans loaders family bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   used queries related to families dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos author andy family dao daofactory factory family bean loader family bean loader   the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc family dao  daofactory factory  factory factory   the information of the mother and father of patient param pid patient dbexception list family member bean get parents long pid  dbexception get family members pid parent select p2 first name as first name p2 last name as last name p2 mid as mid from patients p1 patients p2 where p1 mid and  p1 mother mid p2 mid or p1 father mid p2 mid  false    list of patients who share at least one parent  and that parent is not with patient param pid patient util list of family member beans dbexception list family member bean get siblings long pid  dbexception get family members pid sibling select p2 first name as first name p2 last name as last name p2 mid as mid from patients p1 patients p2 where p1 mid and p1 mid p2 mid and   p1 mother mid p2 mother mid and p2 mother mid 0  or  p1 father mid p2 father mid and p1 father mid 0  false    list of patients whose mother or father is patient param pid patient util list of family member beans dbexception list family member bean get children long pid  dbexception get family members pid child select first name last name mid from patients where mother mid or father mid true    helper method  since all three are alike  param pid param relation param query param second param add the pid as the second parameter  the 3rd query was little different  util list of family member beans dbexception list family member bean get family members long pid string relation string query second param  dbexception connection conn prepared statement ps family bean loader family bean loader relation  conn factory get connection  ps conn prepare statement query  ps set long 1 pid   second param  ps set long 2 pid  result set rs ps execute query  family bean loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
/auth/admin/home include file global jsp page title trust admin home include file header jsp div style text align center height 300px h2 welcome user name h2 div include file footer jsp
/auth/er/information page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust dao mysql personnel dao include file global jsp personnel bean personnelb personnel dao prod dao  get personnel logged in mid  div align center style margin bottom 30px img src trust image user logged in mid value  png alt mid picture div div align center table tr td name td td personnelb get full name  td tr tr td location td td personnelb get city  personnelb get state  td tr table div
/auth/admin/addPHA taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust bean builder page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust action add phaaction page edu ncsu csc itrust enums role include file global jsp page title trust add pha include file header jsp form is filled request get parameter  form is filled request get parameter  form is filled equals   form is filled  page is not actually page it just adds user and forwards personnel bean bean builder personnel bean   build request get parameter map  personnel bean   set role  role hcp  mid add phaaction prod dao logged in mid value   add p  session set attribute  mid to string new mid  string fullname string password password get password  fullname get full name  div align center span trust message pha fullname succesfully added span br br table table tr th colspan pha information th tr tr td sub header vertical mid td td mid td tr tr td sub header vertical temporary password td td password td tr table br please get information to fullname href trust auth staff edit personnel jsp to personnel information div catch  form validation exception e  div align center span trust error get message  span div div align center style width text align left please enter in the name of the pha with valid email address the user does not have an email address use the hospital email address insert pre defined email to recover the password form action add pha jsp method post input type hidden name form is filled value br table table tr th colspan pha information th tr tr td sub header vertical first name td td input type text name first name td tr tr td sub header vertical last name td td input type text name last name tr tr td sub header vertical email td td input type text name email td tr table br input type submit style font size 16pt font weight bold value add personnel br form div include file footer jsp
/auth/hcp/sendMessage page error page auth exception handler jsp page edu ncsu csc itrust action send message action page edu ncsu csc itrust beans message bean page edu ncsu csc itrust dao mysql patient dao page edu ncsu csc itrust exception trust exception page edu ncsu csc itrust exception form validation exception include file global jsp page title trust send message include file header jsp send message action action send message action prod dao logged in mid value   patient dao patient dao prod dao get patient dao  patient id  session get attribute  pid null  string pid string string  session get attribute  pid patient id parse long pid string  action get patient name patient id   i trust exception ite  patient id session remove attribute  pid session remove attribute  pid  patient id l  response send redirect  trust auth get patient id jsp forward hcp send message jsp  request get parameter  message body null  string body request get parameter  message body message bean message message bean  message set body request get parameter  message body   message set subject request get parameter  subject   message set read 0  message set from logged in mid  message set to patient id  action send message message  session remove attribute  pid response send redirect  message outbox jsp form validation exception e  div align center span trust error get message  span div div align left h2 send message h2 h4 to action get patient name patient id  href trust auth get patient id jsp forward hcp send message jsp someone h4 form id main form method post action send message jsp span subject span input type text name subject size br br span message span br textarea name message body cols rows textarea br br input type submit value send name send message form br br div include file footer jsp
DrugInteractionDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans drug interaction bean edu ncsu csc itrust beans loaders drug interaction bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception   used managing drug interactions dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos see http www fda gov drugs information on drugs ucm142438 htm author andy drug interaction dao daofactory factory drug interaction bean loader interaction loader   the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc drug interaction dao  daofactory factory  factory factory interaction loader drug interaction bean loader    returns list of all drug interactions the input drug name util list of drug interaction beans dbexception list drug interaction bean get interactions  string drug code  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from druginteractions where first drug or second drug ps set string 1 drug code  ps set string 2 drug code  result set rs ps execute query  interaction loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    adds drug interaction returns whether or not the addition was successful the code already exists an trust exception is thrown param first drug the name of the first drug in an interaction param second drug the name of the second drug in an interaction param description explanation of the drug interaction indicating success or failure dbexception trust exception report interaction  string first drug string second drug string description  dbexception trust exception if first drug equals second drug  trust exception  drug cannot interact with itself list drug interaction bean current ints drug2 get interactions second drug  for  drug interaction bean dib current ints drug2  if dib get second drug  equals first drug  trust exception  error interaction between these drugs already exists connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into druginteractions first drug second drug description  values ps set string 1 first drug  ps set string 2 second drug  ps set string 3 description   1 ps execute update   sqlexception e  print stack trace   1062 get error code   trust exception  error interaction between these drugs already exists dbexception e  dbutil close connection conn ps    remove an interaction from the database param first drug the name of the first patient param second drug the name of the second patient removed successfully not in list delete interaction  string first drug string second drug  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  delete from druginteractions where first drug or second drug and first drug or second drug ps set string 1 first drug  ps set string 2 first drug  ps set string 3 second drug  ps set string 4 second drug  if ps execute update  0  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
LOINCBeanValidator edu ncsu csc itrust validate edu ncsu csc itrust beans loincbean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception   validator used to validate loincbean loincbean validator bean validator loincbean   the constructor loincbean validator    performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated override validate  loincbean m  form validation exception error list error list error list  if m get lab procedure code  get component  get kind of property  null  form validation exception  you must have lab procedure code component and kind of property error list add not null check format  laboratory procedure code get lab procedure code  validation format loinc false  error list add not null check format  component get component  validation format loinc  item false  error list add not null check format  kind of property get kind of property  validation format loinc  item false  error list add not null check format  time aspect get time aspect  validation format loinc  item true  error list add not null check format  system get system  validation format loinc  item true  error list add not null check format  scale type get scale type  validation format loinc  item true  error list add not null check format  method type get method type  validation format loinc  item true   error list has errors   form validation exception error list 
EthnicityFactor edu ncsu csc itrust risk factors edu ncsu csc itrust beans patient bean edu ncsu csc itrust enums ethnicity   checks the ethnicity of patient matches the one at risk see link patient risk factor details on what each method typically does author andy ethnicity factor patient risk factor ethnicity at risk patient bean patient ethnicity factor  patient bean patient ethnicity at risks  at risk at risks clone  patient patient string get description  patient ethnicity is patient get ethnicity  has factor  ethnicity ethnicity at risk   patient get ethnicity  equals ethnicity  ethnicity not specified equals ethnicity 
/auth/admin/editApptType page error page auth exception handler jsp page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust beans appt type bean page edu ncsu csc itrust action edit appt type action page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust html encoder page net urlencoder page util list include file global jsp page title trust maintain appointment types include file header jsp string header message viewing current appointment types edit appt type action at editor edit appt type action prod dao logged in mid value    request get parameter  add request get parameter  update null  if request get parameter  name equals  request get parameter  duration equals   header message please fill in all fields appt type bean appt type appt type bean request get parameter  name integer parse int request get parameter  duration   header message  request get parameter  add null  at editor add appt type appt type  at editor edit appt type appt type  catch  form validation exception e  div align center span trust error get message  span div header message validation errors string header color  header message index of  error  1  ffcccc cccc script type text javascript function fill update name  document get element by id  name value name document get element by id  duration value unescape document get element by id name  value  script div align center br span trust message header message span br br form name main form action edit appt type jsp id main form method post table table align center tr td colspan update appointment type list td tr tr sub header td name td td duration td tr tr td input type text name name id name size maxlength td td input type text name duration id duration size maxlength td tr table input type submit name add id add value add type input type submit name update id update value update type br br table table align center tr th colspan current appointment types th tr tr sub header td name td td duration td tr list appt type bean type list prod dao get appt type dao  get appt types  temp duration string temp name appt type bean appt entry type list  temp duration appt entry get duration  temp name appt entry get name  tr td href javascript void 0  onclick fill update  temp name temp name input type hidden id temp name name temp name value temp duration td td temp duration td tr table form div br include file footer jsp
State edu ncsu csc itrust enums   all of our wonderful states author andy state al  alabama ak  alaska az  arizona ar  arkansas ca  california co  colorado ct  connecticut de  delaware dc  district of columbia fl  florida ga  georgia hi  hawaii id  idaho il  illinois in  indiana ia  iowa ks  kansas ky  kentucky la  louisiana me  maine md  maryland ma  massachusetts mi  michigan mn  minnesota ms  mississippi mo  missouri mt  montana ne  nebraska nv  nevada nh  hampshire nj  jersey nm  mexico ny  york nc  north carolina nd  north dakota oh  ohio ok  oklahoma or  oregon pa  pennsylvania ri  rhode island sc  south carolina sd  south dakota tn  tennessee tx  texas ut  utah vt  vermont va  virginia wa  washington wv  west virginia wi  wisconsin wy  wyoming string name state  string name  name name string get name  name string get abbrev  to string  just to show that is intentional override string to string  to string  state parse  string state  state values state values  state my state values   my state get name  equals state  my state get abbrev  equals state  my state state nc
HypertensionFactor edu ncsu csc itrust risk factors edu ncsu csc itrust beans health record   checks the patient blood pressure is above given threshold see link patient risk factor details on what each method typically does author andy hypertension factor patient risk factor systolic threshold diastolic threshold health record record hypertension factor  health record current health record  record current health record string get description  patient has hypertension has factor   record get blood pressure systolic  systolic threshold   record get blood pressure diastolic  diastolic threshold 
/auth/admin/menu div menu category span add span br href trust auth admin add hcp jsp add hcp br href trust auth admin add er jsp add er br href trust auth admin add pha jsp add pha br div div menu category span edit span br href trust auth admin edit appt type jsp edit appointment types br href trust auth admin hospital assignments jsp edit hcp assignment to hospital br href trust auth admin edit cptprocedure codes jsp edit cpt procedure codes br href trust auth admin edit ndcodes jsp edit nd codes br href trust auth admin edit icdcodes jsp edit icd codes br href trust auth admin edit loinccodes jsp edit loinc codes br href trust auth staff edit personnel jsp edit personnel br href trust auth staff edit my demographics jsp edit my demographics br div div menu category span system reminders span br href trust auth admin send appointment reminders jsp send appointment reminders br href trust auth admin reminders message outbox jsp system reminder outbox br div div menu category span other span br href trust auth admin hospital listing jsp manage hospital listing br href trust auth admin session timeout jsp change global session timeout br href trust auth survey results jsp satisfaction survey results br div
/auth/patient/messageInbox page error page auth exception handler jsp page util list page edu ncsu csc itrust action view my messages action page edu ncsu csc itrust action edit patient action page edu ncsu csc itrust beans message bean page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust dao mysql patient dao page util array list page text date format page text simple date format page util date page util calendar include file global jsp page title trust view my message include file header jsp div align center h2 my messages h2 view my messages action action view my messages action prod dao logged in mid value   edit patient action f action edit patient action prod dao logged in mid value  logged in mid to string   patient dao dao patient dao prod dao  list message bean messages edit filter backend editing string header message string fields string if request get parameter  edit request get parameter  edit equals   editing for i fields if request get parameter  cancel null  response send redirect  message inbox jsp if request get parameter  test request get parameter  save null  error string nf nf request get parameter  sender replace  nf request get parameter  subject replace  nf request get parameter  has words replace  nf request get parameter  not words replace  nf request get parameter  start date replace  nf request get parameter  end date validate filter nf action validate and create filter nf  if nf starts with  error   error header message nf if  error  if request get parameter  test null  response send redirect  message inbox jsp edit test filter nf  if request get parameter  save null  f action edit message filter nf  response send redirect  message inbox jsp filter if request get parameter  test filter null  string filter request get parameter  test filter string filter split   1  for i fields catch  array index out of bounds exception e  nothing string filter dao get patient logged in mid value   get message filter  if  filter equals   string filter split   1  for i fields catch  array index out of bounds exception e  nothing sorts messages if request get parameter  sort null  if request get parameter  sortby equals  name   if request get parameter  sorthow equals  asce   messages action get all my messages name ascending  messages action get all my messages name descending  if request get parameter  sortby equals  time   if request get parameter  sorthow equals  asce   messages action get all my messages time ascending  messages action get all my messages  messages action get all my messages  filters messages is filtered if request get parameter  filter request get parameter  filter equals   request get parameter  test filter null  string filter if request get parameter  test filter null  filter request get parameter  test filter filter dao get patient logged in mid value   get message filter  if  filter equals  filter equals   list message bean filtered action filter messages messages filter  messages filtered is filtered session set attribute  messages messages  if editing  div filter edit div align center span style font size 13pt font weight bold edit message filter span header message equals  br span trust message header message span br br form method post action message inbox jsp edit table tr style text align right td label sender sender label input type text name sender id sender value fields td td style padding left 10px padding right 10px label has words has the words label input type text name has words id has words value fields td td label start date start date label input type text name start date id start date value fields input type button value select date onclick display date picker  start date td tr tr style text align right td label subject subject label input type text name subject id subject value fields td td style padding left 10px padding right 10px label not words does not have the words label input type text name not words id not words value fields td td label end date end date label input type text name end date id end date value fields input type button value select date onclick display date picker  end date td tr tr style text align center td colspan input type submit name test value test filter input type submit name save value save input type submit name cancel value cancel td tr table form div div br form method post action message inbox jsp is filtered filter table tr td select name sortby option value time sort option option value name name option option value time time option select td td select name sorthow option value desc order option option value asce ascending option option value desc descending option select td td input type submit name sort value sort td tr tr td href message inbox jsp edit edit filter td td href message inbox jsp filter apply filter td tr table form br if messages size  0  table fancy table tr th sender th th subject th th received th th th tr index for  message bean message messages  if message get read  0  tr style font weight bold  index 1  alt td action get name message get from   td td message get subject  td td message get sent date  td td href view message inbox jsp msg index read td tr tr  index 1  alt td action get name message get from   td td message get subject  td td message get sent date  td td href view message inbox jsp msg index read td tr index table div you have no messages div br div include file footer jsp
UpdateLOINCListAction edu ncsu csc itrust action util list edu ncsu csc itrust beans loincbean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql loincdao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate loincbean validator   handles updating the loinc used logical observation identifiers names and codes loinc  is database and universal standard identifying medical laboratory observations see http loinc org update loinclist action performer id loincdao dao transaction dao trans dao loincbean validator validator loincbean validator    sets up defaults param factory the daofactory used to create the daos used in action param performer id the mid of the person updating the loincs update loinclist action  daofactory factory performer id  performer id performer id trans dao factory get transaction dao  dao factory get loincdao    adds loinc param diagn loinc status message form validation exception string add  loincbean diagn  form validation exception trust exception validator validate diagn  list loincbean lblist dao get all loinc  correct id  int lblist size   lblist get i  get lab procedure code  equals diagn get lab procedure code   correct id lblist size   correct id  form validation exception  error code already exists dao add loinc diagn  trans dao log transaction  transaction type manage  loinc performer id added loinc code diagn get lab procedure code   success diagn get lab procedure code  added   updates loinc param diagn information to update  but same code  status message form validation exception string update information  loincbean diagn  form validation exception validator validate diagn  rows dao update diagn   0 rows  error code not found trans dao log transaction  transaction type manage  loinc performer id updated loinc code diagn get lab procedure code   success diagn get lab procedure code  updated dbexception e  print stack trace  get message 
/auth/patient/myDiagnoses page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust beans hcpdiagnosis bean page edu ncsu csc itrust beans medication bean page edu ncsu csc itrust beans lab procedure bean page edu ncsu csc itrust action my diagnosis action page edu ncsu csc itrust beans diagnosis bean page edu ncsu csc itrust dao mysql loincdao page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust beans prescription bean page edu ncsu csc itrust dao mysql personnel dao page util list page util array list include file global jsp page title trust my diagnoses include file header jsp session remove attribute  personnel list string icdcode request get parameter  icd loincdao loinc dao daofactory get production instance  get loincdao  my diagnosis action action my diagnosis action prod dao logged in mid value   list diagnosis bean diagnoses action get diagnoses  input type hidden name form is filled value div align center h2 diagnoses h2 table table tr th diagnosis th tr for  diagnosis bean diagnoses  tr td href my diagnoses jsp icd get icdcode  get formatted description  td tr table div br  icdcode icdcode equals   list hcpdiagnosis bean hcps action get hcpby diagnosis icdcode  div align center h2 hcps having experience with diagnosis icdcode h2 table table tr th hcp th th number of patients th th list of prescriptions th th list of lab procedures th th average office visit satisfaction th th average treatment satisfaction th tr if hcps size  0  list personnel bean personnel list array list personnel bean   index hcpdiagnosis bean bean hcps  tr td href trust auth view personnel jsp personnel index bean get hcpname  td td bean get num patients  td td  bean get med list  is empty   out print   no prescriptions  prescription bean action get prescriptions by hcpand icd bean get hcp  icdcode  href view prescription information jsp visit id get visit id  pres id get id  get medication  get ndcode  get medication  get description  prescribed br td td  bean get lab list  is empty   out print   no lab procedures ordered  lab procedure bean bean get lab list   get loinc  loinc dao get procedures p get loinc   get 0  get component  procedure ordered br td td bean get visit satisfaction  td td bean get treatment satisfaction  td tr personnel bean personnel personnel dao prod dao  get personnel bean get hcp   personnel list add personnel  index session set attribute  personnel list personnel list  tr td colspan align center no data td tr table div include file footer jsp
/auth/patient/sendMessage page edu ncsu csc itrust action send message action page edu ncsu csc itrust beans message bean page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust exception form validation exception page util list taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp include file global jsp page title trust send message include file header jsp send message action action send message action prod dao logged in mid value   index dlhcp index  1 representee index  1 rep dlhcpindex  1  request get parameter  send message request get parameter  send message equals  send   message bean message message bean  message set from logged in mid value   message set to  personnel bean session get attribute  dlhcp   get mid   message set body request get parameter  message body   message set subject request get parameter  subject   message set read 0  action send message message  session remove attribute  dlhcp response send redirect  message outbox jsp form validation exception e  div align center span trust error get message  span div  request get parameter  select dlhcp request get parameter  select dlhcp equals  select    request get parameter  dlhcp request get parameter  dlhcp equals   1   dlhcp index integer parse int request get parameter  dlhcp    request get parameter  select rep dlhcp request get parameter  select rep dlhcp equals  select    request get parameter  representee request get parameter  representee equals   1   representee index integer parse int request get parameter  representee    request get parameter  rep dlhcp request get parameter  rep dlhcp equals   1   rep dlhcpindex integer parse int request get parameter  rep dlhcp    request get parameter  select rep request get parameter  select rep equals  select    request get parameter  representee request get parameter  representee equals   1   representee index integer parse int request get parameter  representee   div align left form id main form method get action send message jsp h2 send message h2  dlhcp index  1 representee index  1  list personnel bean dlhcps action get my dlhcps  list patient bean representees action get my representees  session set attribute  dlhcps dlhcps  session set attribute  representees representees  h4 to one of my dlhcps h4  dlhcps size  0  select name dlhcp option value  1 option index for  personnel bean dlhcp dlhcps  option value index dlhcp get full name  option index select input type submit value select name select dlhcp you haven declared any hcps h4 on behalf of one of my representees h4  representees size  0  select name representee option value  1 option index for  patient bean representee representees  option value index representee get full name  option index select input type submit value select name select rep no other patients have declared you as representative  dlhcp index 0  list personnel bean dlhcps list personnel bean session get attribute  dlhcps personnel bean dlhcp dlhcps get dlhcp index  session set attribute  dlhcp dlhcp  h4 to dlhcp get full name  h4 span subject span input type text name subject size br br span message span br textarea name message body cols rows textarea br br input type submit value send name send message  rep dlhcpindex 0  list personnel bean rep dlhcps list personnel bean session get attribute  rep dlhcps personnel bean dlhcp rep dlhcps get rep dlhcpindex  session set attribute  dlhcp dlhcp  list patient bean representees list patient bean session get attribute  representees patient bean representee representees get representee index  h4 to dlhcp get full name  on behalf of representee get full name  h4 span subject span input type text name subject size br br span message span br textarea name message body cols rows textarea br br input type submit value send name send message  representee index 0  list patient bean representees list patient bean session get attribute  representees patient bean representee representees get representee index  list personnel bean rep dlhcps action get dlhcps for representee get mid   session set attribute  rep dlhcps rep dlhcps  h4 to one of representee get full name  dlhcps h4 input type hidden name representee value representee index  rep dlhcps size  0  select name rep dlhcp option value  1 option index for  personnel bean rep dlhcp rep dlhcps  option value index rep dlhcp get full name  option index select input type submit value select name select rep dlhcp representee get full name  has not declared any hcps form div include file footer jsp
VisitFlag edu ncsu csc itrust beans   bean storing data to flag an office visit bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  visit flag string diagnosed diagnosed string missed  medication missed medication string missing  medication currently missing medication string last  visit last visit string immunization needs immunization string type string value visit flag  string type  type type visit flag  string type string value  type type value value string get type  type set type  string type  type type string get value  value set value  string value  value value
/auth/hcp/monitorPatients taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util list page edu ncsu csc itrust beans remote monitoring data bean page edu ncsu csc itrust action view my remote monitoring list action page edu ncsu csc itrust dao mysql patient dao page edu ncsu csc itrust dao mysql personnel dao include file global jsp page title trust monitor patients include file header jsp session remove attribute  patient list view my remote monitoring list action action view my remote monitoring list action prod dao logged in mid value   list remote monitoring data bean data action get patients data  session set attribute  patient list data  patient dao pat dao prod dao get patient dao  personnel dao pers dao prod dao get personnel dao  br table table align center tr th colspan patient data th tr tr sub header th width patient th th width date th th systolic blood pressure th th diastolic blood pressure th th glucose level th th reporter th tr string highlight string reporter name index remote monitoring data bean bean data  reporter name if bean get time  null  highlight ff6666 if bean get systolic blood pressure   1   bean get systolic blood pressure  bean get systolic blood pressure  140   bean get diastolic blood pressure   1   bean get diastolic blood pressure  bean get diastolic blood pressure  90   bean get glucose level   1  bean get glucose level  bean get glucose level  150  highlight ffff00 reporter name auth dao get user name bean get reporter mid   highlight reporter name auth dao get user name bean get reporter mid   tr bgcolor highlight td href trust auth hcp view additional info jsp patient index action get patient name bean get patient mid   mid bean get patient mid  td td bean get time  bean get time  no information provided td td  bean get time  bean get systolic blood pressure   1  bean get systolic blood pressure  td td  bean get time  bean get diastolic blood pressure   1  bean get diastolic blood pressure  td td  bean get time  bean get glucose level   1  bean get glucose level  td td reporter name td tr index table br br include file footer jsp
SurveyResultBean edu ncsu csc itrust beans   bean to be used survey results  search  stores address information about hcp in addition to their specialty hospital and averages from survey  results range from 1 5  beans also contains variable that stores the percent of office visits that satisfaction results are available survey result bean hcp mid string hcp first name string hcp last name string hcp address1 string hcp address2 string hcp city string hcp state string hcp zip string hcp specialty string hcp hospital id avg waiting rm minutes avg exam rm minutues avg visit satisfaction avg treatment satisfaction percent sat results available list of specialties string general  specialty general string surgeon  specialty surgeon string heart  specialty heart specialist string pediatrician  specialty pediatrician string obgyn  specialty ob gyn string any  specialty none set hcpmid long mid  hcp mid mid get hcpmid  hcp mid set hcpfirst name  string first name  hcp first name first name string get hcpfirst name  hcp first name set hcplast name  string last name  hcp last name last name string get hcplast name  hcp last name set hcpaddress1  string address1  hcp address1 address1 string get hcpaddress1  hcp address1 set hcpaddress2  string address2  hcp address2 address2 string get hcpaddress2  hcp address2 set hcpcity  string city  hcp city city string get hcpcity  hcp city set hcpstate  string state  hcp state state string get hcpstate  hcp state set hcpzip  string zip  hcp zip zip string get hcpzip  hcp zip set hcpspecialty  string specialty  hcp specialty specialty string get hcpspecialty  hcp specialty set hcphospital  string hospital  hcp hospital id hospital string get hcphospital  hcp hospital id set avg waiting room minutes float waiting room minutes  avg waiting rm minutes waiting room minutes get avg waiting room minutes  avg waiting rm minutes set avg exam room minutes float exam room minutes  avg exam rm minutues exam room minutes get avg exam room minutes  avg exam rm minutues set avg visit satisfaction float visit satisfaction  avg visit satisfaction visit satisfaction get avg visit satisfaction  avg visit satisfaction set avg treatment satisfaction float treatment satisfaction  avg treatment satisfaction treatment satisfaction get avg treatment satisfaction  avg treatment satisfaction set percent satisfaction results  float percent  percent sat results available percent get percent satisfaction results  percent sat results available
/auth/patient/viewMyAppts page error page auth exception handler jsp page util list page util date page text date format page text simple date format page sql timestamp page edu ncsu csc itrust action edit appt type action page edu ncsu csc itrust action view my appts action page edu ncsu csc itrust beans appt bean page edu ncsu csc itrust dao daofactory include file global jsp page title trust view my messages include file header jsp div align center h2 my appointments h2 view my appts action action view my appts action prod dao logged in mid value   edit appt type action types edit appt type action prod dao logged in mid value   list appt bean appts action get my appointments  session set attribute  appts appts   appts size  0  table fancy table tr th patient th th appointment type th th appointment date time th th duration th th th tr conflicts appts size  for int appts size  appt bean appts get i  get date  get time  types get duration by type a get appt type   timestamp time timestamp t m  for int appts size  if appts get j  get date  before time  conflicts conflicts index for  appt bean appts  string comment if a get comment  null  comment no comment comment href view appt jsp apt index read comment date date a get date  get time   date format format simple date format  mm dd yyyy hh mm string row if conflicts index row tr style font weight bold row tr row  index 1  alt td action get name a get hcp   td td get appt type  td td format format d  td td types get duration by type a get appt type   minutes td td comment td tr index table div you have no appointments div br div include file footer jsp
/header page language content type text html charset iso 8859 1 page encoding iso 8859 1 taglib uri web inf cewolf tld prefix cewolf include file authenticate jsp if valid session  error message string  session get attribute  error message session remove attribute  error message doctype html w3 dtd html transitional en http www w3 org tr html4 loose dtd html head title page title title link href trust css main2 css type text css rel stylesheet link href trust css datepicker css type text css rel stylesheet script src trust js date picker js type text javascript script  added rich text  script type text javascript src trust ckeditor ckeditor basic js script  added rich text  script src trust ckeditor  samples sample js type text javascript script  added rich text  link href trust ckeditor  samples sample css rel stylesheet type text css script src trust js jquery 1 js type text javascript script link href trust css facebox facebox css media screen rel stylesheet type text css script src trust js facebox facebox js type text javascript script script type text javascript query document  ready function  rel  facebox facebox  facebox settings loading image trust image facebox loading gif facebox settings close image trust image facebox closelabel gif script script type text javascript  function startup  var document get element by id  offset height document get element by id  style min height px document get element by id  style min height px  script head body onload startup  div trust header img style left src trust image title png alt trust logo div trust nav div style left width trust navlink href trust home nbsp nbsp nbsp if  valid session if   logged in mid null   logged in mid value  l  no one is logged in if user role tester it tester trust navlink href trust auth user role information jsp rel facebox information end tester section div div style right width text align right margin right 20px out println user name  trust navlink href trust logout jsp logout no one is logged in valid session div div style clear both div div div div trust main div trust menu id trust menu style margin left  2px img id menu pic src trust image menu png img src trust image menu top png div trust menu contents style margin top  4px valid session  logged in mid null   logged in mid value  l  someone is logged in  user role equals  patient   include file auth patient menu jsp  user role equals  uap   include file auth uap menu jsp  user role equals  hcp   include file auth hcp menu jsp  user role equals  er   include file auth er menu jsp  user role equals  pha   include file auth pha menu jsp  user role equals  admin   include file auth admin menu jsp  user role equals  tester   include file auth tester menu jsp no one is logged in string uri request get request uri  if  uri index of  privacy policy jsp 0  looking at privacy policy include logout menu include file logout menu jsp we are actually logged out entirely show login menu include file login menu jsp valid session include file logout menu jsp div img src trust image menu bottom png div div trust page style padding left 180px div left border id div div trust content id if error message null  div style text align center width background color black span style color red font size 28px font weight bold error message span div
PatientValidator edu ncsu csc itrust validate edu ncsu csc itrust action edit patient action edu ncsu csc itrust beans patient bean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception org apache commons validator credit card validator util date   validates patient bean from link edit patient action author andy patient validator bean validator patient bean   the constructor patient validator    performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated override validate  patient bean p  form validation exception error list error list error list  error list add not null check format  first name get first name  validation format name false  error list add not null check format  last name get last name  validation format name false  error list add not null check format  date of birth get date of birth str  validation format date false  error list add not null check format  date of death get date of death str  validation format date true   p get date of death  equals p get date of death str   if  get date of birth  after new date   error list add not null  birth date cannot be in the future  p get date of death  before p get date of birth   error list add not null  death date cannot be before birth date if  get date of death  after new date   error list add not null  death date cannot be in the future if  get date of birth  after new date   error list add not null  birth date cannot be in the future pointer exception e  ignore death cause  null get date of death str  get date of death str  equals   error list add not null check format  cause of death get cause of death  validation format icd9 cm death cause null  error list add not null check format  email get email  validation format email false  error list add not null check format  street address get street address1  validation format address false  error list add not null check format  street address get street address2  validation format address true  error list add not null check format  city get city  validation format city false  error list add not null check format  state get state  validation format state false  error list add not null check format  zip code get zip  validation format zipcode false  error list add not null check format  phone number get phone  validation format phone  number false  error list add not null check format  emergency contact name get emergency name  validation format name false  error list add not null check format  emergency contact phone get emergency phone  validation format phone  number false  error list add not null check format  insurance company name get ic name  validation format name false  error list add not null check format  insurance company address get ic address1  validation format address false  error list add not null check format  insurance company address get ic address2  validation format address true  error list add not null check format  insurance company city get ic city  validation format city false  error list add not null check format  insurance company state get ic state  validation format state false  error list add not null check format  insurance company zip get ic zip  validation format zipcode false  error list add not null check format  insurance company phone get ic phone  validation format phone  number false  error list add not null check format  insurance company id get ic id  validation format insurance  id false  error list add not null check format  mother mid get mother mid  validation format mid true  error list add not null check format  father mid get father mid  validation format mid true  error list add not null check format  topical notes get topical notes  validation format notes true  block was added theme by tyler arehart  p get credit card number  equals  get credit card type  equals   string credit card validator type  1  p get credit card type  equals  visa   type credit card validator visa  p get credit card type  equals  mastercard   type credit card validator mastercard  p get credit card type  equals  discover   type credit card validator discover  p get credit card type  equals  amex   type credit card validator amex  type  1  credit card validator type  is valid p get credit card number   credit card number credit card type error list add not null s   error list has errors   form validation exception error list 
MessageDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans message bean edu ncsu csc itrust beans loaders message bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   used the logging mechanism dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos author andy message dao daofactory factory message bean loader mb loader   the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc message dao  daofactory factory  factory factory mb loader message bean loader    gets all the messages certain user mid param mid the mid of the user to be looked up util list of message beans sqlexception list message bean get messages for long mid  sqlexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from message where to id order by sent date desc ps set long 1 mid  result set rs ps execute query  list message bean mb list mb loader load list rs  dbutil close connection conn ps  mb list   gets all the messages certain user mid sorted by ascending time param mid the mid of the user to be looked up util list of message beans sqlexception list message bean get messages time ascending long mid  sqlexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from message where to id order by sent date asc ps set long 1 mid  result set rs ps execute query  list message bean mb list mb loader load list rs  dbutil close connection conn ps  mb list   gets all the messages certain user mid sorted by name ascending param mid the mid of the user to be looked up util list of message beans sqlexception list message bean get messages name ascending long mid  sqlexception connection conn prepared statement ps result set rs conn factory get connection  if mid  long  999999999  ps conn prepare statement  select message from message patients where message from id patients mid and message to id order by patients last name asc patients first name asc message sent date asc ps set long 1 mid  rs ps execute query  ps conn prepare statement  select message from message personnel where message from id personnel mid and message to id order by personnel last name asc personnel first name asc message sent date asc ps set long 1 mid  rs ps execute query  list message bean mb list mb loader load list rs  dbutil close connection conn ps  mb list   gets all the messages certain user mid sorted by name descending param mid the mid of the user to be looked up util list of message beans sqlexception list message bean get messages name descending long mid  sqlexception connection conn prepared statement ps result set rs conn factory get connection  if mid  long  999999999  ps conn prepare statement  select message from message patients where message from id patients mid and message to id order by patients last name desc patients first name desc message sent date desc ps set long 1 mid  rs ps execute query  ps conn prepare statement  select message from message personnel where message from id personnel mid and message to id order by personnel last name desc personnel first name desc message sent date desc ps set long 1 mid  rs ps execute query  list message bean mb list mb loader load list rs  dbutil close connection conn ps  mb list   gets all the messages from certain user mid param mid the mid of the user to be looked up util list of message beans sqlexception list message bean get messages from long mid  sqlexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from message where from id order by sent date desc ps set long 1 mid  result set rs ps execute query  list message bean mb list mb loader load list rs  dbutil close connection conn ps  mb list   gets all the messages certain user mid sorted by ascending time param mid the mid of the user to be looked up util list of message beans sqlexception list message bean get messages from time ascending long mid  sqlexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from message where from id order by sent date asc ps set long 1 mid  result set rs ps execute query  list message bean mb list mb loader load list rs  dbutil close connection conn ps  mb list   gets all the messages certain user mid sorted by name ascending param mid the mid of the user to be looked up util list of message beans sqlexception list message bean get messages from name ascending long mid  sqlexception connection conn prepared statement ps result set rs conn factory get connection  if mid  long  999999999  ps conn prepare statement  select message from message patients where message to id patients mid and message from id order by patients last name asc patients first name asc message sent date asc ps set long 1 mid  rs ps execute query  ps conn prepare statement  select message from message personnel where message to id personnel mid and message from id order by personnel last name asc personnel first name asc message sent date asc ps set long 1 mid  rs ps execute query  list message bean mb list mb loader load list rs  dbutil close connection conn ps  mb list   gets all the messages certain user mid sorted by name descending param mid the mid of the user to be looked up util list of message beans sqlexception list message bean get messages from name descending long mid  sqlexception connection conn prepared statement ps result set rs conn factory get connection  if mid  long  999999999  ps conn prepare statement  select message from message patients where message to id patients mid and message from id order by patients last name desc patients first name desc message sent date desc ps set long 1 mid  rs ps execute query  ps conn prepare statement  select message from message personnel where message to id personnel mid and message from id order by personnel last name desc personnel first name desc message sent date desc ps set long 1 mid  rs ps execute query  list message bean mb list mb loader load list rs  dbutil close connection conn ps  mb list   adds message to the database param bean bean representing the message to be added sqlexception add message  message bean bean  sqlexception connection conn prepared statement ps conn factory get connection   m bean get parent message id  l  ps conn prepare statement  insert into message  from id to id sent date message subject been read  values now  mb loader load parameters ps bean  ps conn prepare statement  insert into message  from id to id sent date message subject been read parent msg id  values now  mb loader load parameters ps bean  ps execute update  dbutil close connection conn ps  update read  message bean bean  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  update message set been read where message id ps set long 1 bean get message id   ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
/logoutMenu div menu category span actions span br href trust log into trust div
/auth/hcp uap/viewPatientOfficeVisitHistory taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util array list page util list page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust beans patient visit bean page edu ncsu csc itrust action view patient office visit history action include file global jsp page title trust view all patients include file header jsp view patient office visit history action action view patient office visit history action prod dao logged in mid value   list patient visit bean patient visits action get patients  br form action view report jsp method post name myform table table align center tr th colspan past patients th tr tr sub header th patient th th address th th last visit th tr list patient bean patients array list patient bean   index patient visit bean bean patient visits  patients add bean get patient   tr td href edit phr jsp patient index bean get patient name  td td bean get address1  bean get address2  td td bean get last ovdate m  bean get last ovdate d  bean get last ovdate y  td tr index session set attribute  patients patients  table form br br include file footer jsp
HealthRecord edu ncsu csc itrust beans sql timestamp util date   bean storing health record data bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  health record patient id height weight is smoker blood pressure blood pressure cholesterol hdl cholesterol ldl cholesterol tri personnel id timestamp date recorded timestamp new date  get time   health record  get blood pressure d  blood pressure set blood pressure d int blood pressure d  blood pressure blood pressure set blood pressure systolic int blood pressure  blood pressure blood pressure set blood pressure diastolic int blood pressure  blood pressure blood pressure get blood pressure n  blood pressure get blood pressure systolic  blood pressure get blood pressure diastolic  blood pressure set blood pressure n int blood pressure n  blood pressure blood pressure string get blood pressure  get blood pressure n  get blood pressure d  get cholesterol hdl  cholesterol hdl set cholesterol hdl int cholesterol hdl  cholesterol hdl cholesterol hdl get cholesterol ldl  cholesterol ldl set cholesterol ldl int cholesterol ldl  cholesterol ldl cholesterol ldl get cholesterol tri  cholesterol tri set cholesterol tri int cholesterol tri  cholesterol tri cholesterol tri   note that is simplistic view see the wikipedia article on cholesterol get total cholesterol  get cholesterol hdl  get cholesterol ldl  get cholesterol tri  date get date recorded  date recorded set date recorded  timestamp date recorded  date recorded date recorded rounds the height off here because my sql won the  exact  value you put in it get height  math round height 10000  set height double height  height height get patient id  patient id set patient id long patient id  patient id patient id get personnel id  personnel id set personnel id long personnel id  personnel id personnel id is smoker  is smoker set smoker boolean smoker  is smoker smoker get weight  math round weight 10000  set weight double weight  weight weight get body mass index   weight  height height 
ViewMyRemoteMonitoringListAction edu ncsu csc itrust action text parse exception text simple date format util date util list edu ncsu csc itrust beans remote monitoring data bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql auth dao edu ncsu csc itrust dao mysql remote monitoring dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception   handles retrieving the patient data certain hcp as used by view telemedicine data jsp view my remote monitoring list action remote monitoring dao rm dao transaction dao trans dao auth dao auth dao logged in mid   constructor param factory the daofactory used to create the daos used in action param logged in mid the mid of the hcp retrieving the patient data view my remote monitoring list action  daofactory factory logged in mid  logged in mid logged in mid rm dao factory get remote monitoring dao  trans dao factory get transaction dao  auth dao factory get auth dao    returns list of remote monitoring data beans the logged in hcp list of transaction beans dbexception form validation exception list remote monitoring data bean get patients data  dbexception trans dao log transaction  transaction type telemedicine  monitoring logged in mid  rm dao get patients data logged in mid    returns list of remote monitoring data beans the logged in hcp list of transaction beans dbexception form validation exception list remote monitoring data bean get patient data by date long patient mid string start date string end date  dbexception form validation exception date lower date upper lower simple date format  mm dd yyyy parse start date  upper simple date format  mm dd yyyy parse end date   lower after upper  form validation exception  start date must be before end date parse exception e  form validation exception  enter dates in mm dd yyyy trans dao log transaction  transaction type telemedicine  monitoring logged in mid  rm dao get patient data by date patient mid lower upper  list remote monitoring data bean get patient data without logging  dbexception rm dao get patients data logged in mid    returns the patient name patient name dbexception trust exception string get patient name long pid  dbexception trust exception auth dao get user name pid 
PrescriptionReportAction edu ncsu csc itrust action util array list util hash map util list util map edu ncsu csc itrust parameter util edu ncsu csc itrust action base patient base action edu ncsu csc itrust beans office visit bean edu ncsu csc itrust beans patient bean edu ncsu csc itrust beans prescription report bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql office visit dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception no health records exception edu ncsu csc itrust exception trust exception   handles prescription reports the given pid used by hcp uap get prescription report jsp hcp uap view prescription record jsp patient get my prescription report jsp patient view my prescription record jsp author laurenhayward prescription report action patient base action is representing office visit dao ov dao transaction dao trans dao patient dao patient dao logged in mid   validates pid string param factory the daofactory used to create the daos used in action param logged in mid the mid of the user who is making prescription report param pid string the mid of the patient in question trust exception dbexception no health records exception prescription report action  daofactory factory logged in mid string pid string  trust exception dbexception no health records exception super factory pid string  trans dao factory get transaction dao  ov dao factory get office visit dao  patient dao factory get patient dao  logged in mid logged in mid   takes the patient representee as param and returns it as the patient represents the input param param input the patient representee mid representee mid as trust exception represent patient  string input  trust exception reppee mid value of input   patient dao represents logged in mid reppee mid  logged in mid reppee mid pid reppee mid is representing reppee mid trust exception  you not represent patient reppee mid  number format exception e  trust exception  mid is not number   returns list of all office visits the pid list of office visit beans the pid dbexception list office visit bean get all office visits  dbexception ov dao get all office visits pid    used by the jsp passes map from the html form and list of office visit beans returns list of prescription report beans param params util hash map containing the parameter map param office visits util list of office visit beans the visits list of prescription report beans dbexception suppressing warnings because jsp doesn have generic request get parameter map  suppress warnings  unchecked list prescription report bean get prescription reports  map params list office visit bean office visits  dbexception hash map string string my params parameter util convert map params  list ov ids array list    int office visits size   params get  ov off i  null  offset integer value of my params get  ov off i  ov ids add office visits get offset  get visit id   number format exception e  just skip it trans dao log transaction  transaction type view  prescription  report logged in mid pid getting reports office visits ov ids to string    ov ids size  0  array list prescription report bean   ov dao get prescription reports ov ids pid    returns patient bean the pid patient bean dbexception patient bean get patient  dbexception patient dao get patient pid    used by the jsp which passes the param map from the html form and list of office visit beans returns string that will be used to create url the jsp will pull params from url to create the prescription report param param map util hash map of the parameters param office visits util list of office visit beans the string that will be used in the url form validation exception dbexception suppressing warnings because jsp doesn have generic request get parameter map  suppress warnings  unchecked string get query string  map param map list office visit bean office visits  form validation exception dbexception hash map string string my params parameter util convert map param map  list integer ov offsets check office visits my params office visits  string query string build query string ov offsets   is representing  query string rep pid query string   checks office visits param my params list of parameters param office visits list of office visits returns util array list of integers the given office visits array list integer check office visits  hash map string string my params list office visit bean office visits  array list integer list array list integer    int office visits size  on equals my params get  ov i  list add i  list   builds query string office visits param ov offsets offsets the office visits sql query in string string build query string  list integer ov offsets  ov offsets size   n 0  string str  int ov offsets size  str ov off ov offsets get i  str
/auth/admin/editNDCInteractions page net urlencoder page net urldecoder page util list page edu ncsu csc itrust action drug interaction action page edu ncsu csc itrust exception trust exception page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust beans medication bean include file global jsp page title trust edit nd code interactions include file header jsp string header message select nd codes with interaction string drug1 string drug2 if request get parameter  drug1 request get parameter  drug2 null  drug1 request get parameter  drug1 split  drug1 drug1 replace  drug2 request get parameter  drug2 split  drug2 drug2 replace   request get parameter  add null  drug interaction action interaction drug interaction action prod dao logged in mid value   header message interaction report interaction drug1 drug2 request get parameter  description   catch i trust exception e  div align center span trust error get message  span div catch  form validation exception e  div align center span trust error get message  span div string header color  header message index of  error  1  ffcccc cccc br div align center form name main form method post span trust message header message span br br table cellpadding tr td select name drug1 list medication bean med list prod dao get ndcodes dao  get all ndcodes  string temp code string temp descrip string escaped descrip medication bean med entry med list  temp code med entry get ndcode  temp descrip med entry get description  escaped descrip urlencoder encode temp descrip utf 8 replace all  option temp code length  temp code temp code substring 0 5  temp code length  temp code substring 5  temp descrip option select td td select name drug2 medication bean med entry med list  temp code med entry get ndcode  temp descrip med entry get description  escaped descrip urlencoder encode temp descrip utf 8 replace all  option temp code length  temp code temp code substring 0 5  temp code length  temp code substring 5  temp descrip option select td tr table description input type text id description name description size maxlength br br input type submit name add value add interaction input type button onclick location href trust auth admin edit ndcodes jsp value back name back id back form div br include file footer jsp
FamilyHistoryFactor edu ncsu csc itrust risk factors edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   checks patient has family history of given diagnosis range delegates straight to the dao see link patient risk factor details on what each method typically does author andy family history factor patient risk factor patient id daofactory factory icd upper icd lower family history factor  daofactory factory patient id icd lower icd upper  factory factory patient id patient id icd lower icd lower icd upper icd upper string get description  patient has family history of disease has factor  factory get risk dao  has family history patient id icd lower icd upper  dbexception e  print stack trace 
/auth/hcp/menu div menu category span add span br href trust auth hcp uap add patient jsp patient br href trust auth hcp add uap jsp uap br div div menu category span edit span br href trust auth hcp uap edit basic health jsp basic health information br href trust auth staff edit my demographics jsp my demographics br href trust auth hcp uap edit patient jsp patient information br href trust auth hcp uap edit phr jsp phr information br href trust auth hcp edit representatives jsp representatives br href trust auth staff edit personnel jsp uaps br div div menu category span appointments span br href trust auth hcp schedule appt jsp schedule appointment br href trust auth hcp view my appts jsp view my appointments br div div menu category span messaging span br href trust auth hcp message inbox jsp message inbox br href trust auth hcp message outbox jsp message outbox br div div menu category span view span br href trust auth hcp uap view patient office visit history jsp all patients br href trust auth hcp calendar jsp appointment calendar br href trust auth hcp lab proc hcp jsp laboratory procedures br href trust auth hcp uap view my report requests jsp my report requests br div div menu category span report span br href trust auth hcp er emergency report jsp emergency patient report br div div menu category span telemedicine span br href trust auth hcp edit patient list jsp edit patient list br href trust auth hcp monitor patients jsp monitor patients br div div menu category span other span br href trust auth hcp hcp consultation jsp consultations br href trust auth hcp uap chronic disease risks jsp chronic disease risks br href trust auth hcp uap document office visit jsp document office visit br href trust auth hcp uap show email history jsp email history br href trust auth hcp visit reminders jsp office visit reminders br href trust auth survey results jsp satisfaction survey results br href trust auth hcp view prescription renewal needs jsp potential prescription renewals br div
/auth/hcp uap/LabProcUAP taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page util list page edu ncsu csc itrust beans lab procedure bean page edu ncsu csc itrust action edit patient action page edu ncsu csc itrust action lab proc uapaction page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust dao mysql patient dao include file global jsp page title trust view laboratory procedures include file header jsp lab proc uapaction action lab proc uapaction prod dao logged in mid value   require patient id first string pid string string session get attribute  pid  pid string pid string length   response send redirect  trust auth get patient id jsp forward hcp uap lab proc uap jsp session remove attribute  pid the patient id doesn check out then kick em out to the exception handler edit patient action epaction edit patient action prod dao logged in mid value  pid string  pid epaction get pid  list lab procedure bean proc action view procedures pid  br table table align center tr th colspan laboratory procedures th tr tr sub header th patient th th lab code th th rights th th status th th commentary th th results th th office visit id th th updated date th th action th tr for  lab procedure bean bean proc  patient bean patient patient dao prod dao  get patient bean get pid   tr td patient get full name  td td bean get loinc  td td bean get rights  td td bean get status  td td bean get commentary  td td bean get results  td td bean get ov id  td td bean get timestamp  td td href update lab proc jsp id bean get procedure id  update td tr table br br include file footer jsp
Ethnicity edu ncsu csc itrust enums   all possible ethnicities represented in trust ethnicity caucasian  caucasian african american  african american hispanic  hispanic american indian  american indian asian  asian not specified  not specified string name ethnicity  string name  name name string get name  name override string to string  get name  ethnicity parse  string input  ethnicity ethnicity ethnicity values    ethnicity name equals input  ethnicity not specified
PatientNavigation edu ncsu csc itrust tags io ioexception javax servlet jsp jsp exception javax servlet jsp jsp writer javax servlet jsp page context javax servlet jsp tagext tag   jsp tag that is used as the patient navigation bar at the bottom of the screen to add page add to the two arrays and make sure that the page accepts pid author andy patient navigation tag page context page context tag parent more elegant solution here would be to use enums and have display name name and url string page titles health records basic health history demographics document office visit risk factors prescriptions string page urls edit phr jsp edit basic health jsp edit patient jsp document office visit jsp chronic disease risks jsp get prescription report jsp string title patient navigation  super  start tag  jsp exception jsp writer out page context get out  out write  span navigation  int page titles length  page titles equals this title  out write page titles out write  href trust auth hcp uap page urls page titles out write  out write  href trust auth hcp uap edit phr jsp patient out write  br span ioexception e  print stack trace  skip  body end tag  jsp exception skip  body release  set page context  page context page context  page context page context set parent  tag parent  parent parent tag get parent  parent string get title  title set title  string page  title page
/auth/admin/viewAllReportRequests taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util list page edu ncsu csc itrust beans report request bean page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust action view my report requests action page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust dao mysql patient dao page edu ncsu csc itrust dao mysql personnel dao include file global jsp page title trust view all report requests include file header jsp patient dao patient dao prod dao get patient dao  personnel dao personnel dao prod dao get personnel dao  personnel bean personnelb personnel dao get personnel logged in mid value   view my report requests action action view my report requests action prod dao logged in mid value   string action string request get parameter  action string id string request get parameter  id  action string action string equals    id string id string equals  action string equals  approve   id parse long id string  action approve report request  id  div align center span trust message report request approved span div exception e  div align center span trust error get message  span div  id string id string equals  action string equals  confirm   id parse long id string  string comment request get parameter  comment need validation here students did it wrong last year and we never fixed it action reject report request  id comment  div align center span trust error report request rejected span div exception e  div align center span trust error get message  span div list report request bean list action get all report requests  br table align center table tr th colspan report requests th tr tr sub header th id th th patient th th approver th th requested date th th approved date th th viewed date th th status th th comment th th action th tr report request bean bean list  patient bean patient patient dao get patient bean get patient mid   personnel bean approver  bean get approver mid  l  personnel dao get personnel bean get approver mid   tr td bean get id  td td patient get full name  td td  approver null  approver get full name    td td bean get requested date string  td td bean get approved date string  td td bean get viewed date string  td td bean get status  td td bean get comment  bean get comment  td td if bean get status  equals  report request bean requested  href view all report requests jsp action approve id bean get id  approve href view all report requests jsp action reject id bean get id  reject nbsp td tr  action string action string equals  reject   id parse long id string  id bean get id   tr td colspan please enter reason the rejection and confirm td td colspan form action view all report requests jsp method post name main form input type hidden name action value confirm input type hidden name id value bean get id  input type text name comment size input type submit value confirm form td tr table br include file footer jsp
/errors/badredirect page language content type text html charset iso 8859 1 page encoding iso 8859 1 is error page session invalidate  html head meta http equiv content type content text html charset iso 8859 1 title invalid direct reference to form login page title head body div align center h1 invalid direct reference to form login page h1 you must have hit back on your browser please log back in br href trust log back in div body html
/auth/hcp/viewMyAppts page error page auth exception handler jsp page util list page util date page text date format page text simple date format page sql timestamp page edu ncsu csc itrust action edit appt type action page edu ncsu csc itrust action view my appts action page edu ncsu csc itrust beans appt bean page edu ncsu csc itrust dao daofactory include file global jsp page title trust view my messages include file header jsp div align center h2 my appointments h2 view my appts action action view my appts action prod dao logged in mid value   edit appt type action types edit appt type action prod dao logged in mid value   list appt bean appts action get my appointments  session set attribute  appts appts   appts size  0  table fancy table tr th patient th th appointment type th th appointment date time th th duration th th th tr conflicts appts size  for int appts size  appt bean appts get i  get date  get time  types get duration by type a get appt type   timestamp time timestamp t m  for int appts size  if appts get j  get date  before time  conflicts conflicts index for  appt bean appts  string comment if a get comment  null  comment no comment comment href view appt jsp apt index read comment date date a get date  get time   date format format simple date format  mm dd yyyy hh mm string row if conflicts index row tr style font weight bold row tr row  index 1  alt td action get name a get patient   td td get appt type  td td format format d  td td types get duration by type a get appt type   minutes td td comment td tr index table div you have no appointments div br div include file footer jsp
/auth/hcp/scheduleAppt page error page auth exception handler jsp page util list page util date page sql timestamp page text date format page text simple date format page edu ncsu csc itrust beans appt bean page edu ncsu csc itrust beans appt type bean page edu ncsu csc itrust action add appt action page edu ncsu csc itrust action edit appt type action page edu ncsu csc itrust dao mysql patient dao page edu ncsu csc itrust exception trust exception page edu ncsu csc itrust exception form validation exception include file global jsp page title trust schedule an appointment string header message please fill out the form properly comments are optional include file header jsp add appt action action add appt action prod dao logged in mid value   edit appt type action types edit appt type action prod dao logged in mid value   patient dao patient dao prod dao get patient dao  patient id  session get attribute  pid null  string pid string string  session get attribute  pid patient id parse long pid string  action get name patient id   i trust exception ite  patient id session remove attribute  pid session remove attribute  pid  patient id l  response send redirect  trust auth get patient id jsp forward hcp schedule appt jsp  request get parameter  schedule null  if  request get parameter  sched date equals   appt bean appt appt bean  date format format simple date format  mm dd yyyy hh mm date date format parse request get parameter  sched date request get parameter  time1 request get parameter  time2 request get parameter  time3   appt set hcp logged in mid  appt set patient patient id  appt set appt type request get parameter  appt type   appt set date new timestamp date get time   string comment if request get parameter  comment equals   comment comment request get parameter  comment appt set comment comment  header message action add appt appt  if header message starts with  success   session remove attribute  pid response send redirect  home jsp form validation exception e  div align center span trust error get message  span div header message please input date the appointment list appt type bean appt types types get appt types  div align left h2 schedule an appointment h2 h4 with action get name patient id  href trust auth get patient id jsp forward hcp schedule appt jsp someone h4 span trust message header message span br br form id main form method post action schedule appt jsp span appointment type span select name appt type for  appt type bean appt types  option value get name  get name  get duration  minutes option select br br span schedule date span input readonly type text name sched date value input type button value select date onclick display date picker  sched date br br span schedule time span select name time1 string hour for int if i 10  hour hour option value hour hour option select select name time2 string min for int 5  if i 10  min min option value min min option select select name time3 option value am am option option value pm pm option select br br span comment span br textarea name comment cols rows textarea br br input type submit value schedule name schedule form br br div include file footer jsp
AllergyBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans allergy bean   loader allergy beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader allergy bean loader bean loader allergy bean list allergy bean load list  result set rs  sqlexception array list allergy bean list array list allergy bean    rs next   list add load single rs  list allergy bean load single  result set rs  sqlexception allergy bean allergy allergy bean  allergy set id rs get long  id   allergy set patient id rs get long  patient id   allergy set description rs get string  description   allergy set first found rs get timestamp  first found   allergy prepared statement load parameters  prepared statement ps allergy bean bean  sqlexception illegal state exception  unimplemented
SecurityQAValidator edu ncsu csc itrust validate edu ncsu csc itrust action set security question action edu ncsu csc itrust beans security qa edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception   validates the security question and answer doesn follow the same format as the others because validator is used the various states of reset password link set security question action author andy security qavalidator bean validator security qa   performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated override validate  security qa bean  form validation exception error list error list error list   null bean  form validation exception  form  null bean get confirm answer   form validation exception  confirm answer cannot be empty bean get answer  equals bean get confirm answer   form validation exception  security answers not match error list add not null check format  security question bean get question  validation format question false  error list add not null check format  security answer bean get answer  validation format answer false   error list has errors   form validation exception error list 
EditOfficeVisitValidator edu ncsu csc itrust validate text parse exception text simple date format util date edu ncsu csc itrust action edit office visit action edu ncsu csc itrust beans forms edit office visit form edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception   used to validate updating an office visit by link edit office visit action author andy edit office visit validator bean validator edit office visit form validate prescription   the constructor edit office visit validator  edit office visit validator boolean validate prescription  validate prescription validate prescription   performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated override validate  edit office visit form form  form validation exception error list error list error list  error list add not null check format  hcp id form get hcp id  validation format mid false  error list add not null check format  hospital id form get hospital id  validation format hospital  id true  error list add not null check format  notes form get notes  validation format notes true  error list add not null check format  patient id form get patient id  validation format mid false  error list add not null check format  visit date form get visit date  validation format date false   validate prescription  error list add not null check format  start date form get start date  validation format date false  error list add not null check format  end date form get end date  validation format date false  error list add not null check format  instructions form get instructions  validation format notes true  error list add not null check int  dosage form get dosage  false   check format  start date form get start date  validation format date false   check format  end date form get end date  validation format date false  date sd date ed sd simple date format  mm dd yyyy parse form get start date   ed simple date format  mm dd yyyy parse form get end date   string date error  sd after ed  date error the start date of the prescription must be before the end date error list add not null date error  parse exception e  error list add not null  validation format date get description    error list has errors   form validation exception error list 
/util/getUserFrame script type text javascript src trust js resize iframe js script script type text javascript src trust js get user js script iframe id get user frame scrolling none style position absolute display none width 450px border none height 150px iframe
MyDiagnosisAction edu ncsu csc itrust action io serializable util edu ncsu csc itrust beans diagnosis bean edu ncsu csc itrust beans hcpdiagnosis bean edu ncsu csc itrust beans office visit bean edu ncsu csc itrust beans prescription bean edu ncsu csc itrust beans medication bean edu ncsu csc itrust beans survey bean edu ncsu csc itrust beans lab procedure bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust dao mysql office visit dao edu ncsu csc itrust dao mysql survey dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql lab procedure dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception   edits the privacy levels of diagnoses used by my diagnoses jsp author laurenhayward my diagnosis action office visit dao office visit dao patient dao patient dao personnel dao personnel dao survey dao survey dao transaction dao transaction dao lab procedure dao labproc dao logged in mid   set up defaults param factory the daofactory used to create the daos used in action param logged in mid the mid of the user who is looking at their diagnoses trust exception my diagnosis action  daofactory factory logged in mid  trust exception logged in mid logged in mid patient dao factory get patient dao  office visit dao factory get office visit dao  personnel dao factory get personnel dao  survey dao factory get survey dao  transaction dao factory get transaction dao  labproc dao factory get lab procedure dao    returns list of diagnosis beans the patient the list of diagnosis beans dbexception list diagnosis bean get diagnoses  dbexception patient dao get diagnoses logged in mid    returns list of all the hcps who have particular diagnosis param icdcode the diagnosis of interest the list of hcps dbexception list hcpdiagnosis bean get hcpby diagnosis  string icdcode  dbexception med match hash map hcpdiagnosis bean hcp hash hash map hcpdiagnosis bean   hash map patient hash hash map   transaction dao log transaction  transaction type find  hcps  with  exp logged in mid  hcpdiagnosis bean diag list office visit bean beans office visit dao get all office visits diagnosis icdcode  office visit bean bean beans  check hcp patient locality based on first digits in zip patient dao get patient logged in mid  get zip1  substring 0 2  equals personnel dao get personnel bean get hcp id   get zip1  substring 0 2  check to see we already have bean the hcp associated with visit  hcp hash contains key bean get hcp id   diag hcpdiagnosis bean hcp hash get bean get hcp id   prescription bean bean get prescriptions   list medication bean mlist diag get med list  medication bean mlist   p get medication  get description  equals b get description   med match  med match 0  mlist add p get medication   diag set med list mlist  med match get lab procedures list lab procedure bean labprocs diag get lab list  list lab procedure bean lpbeans labproc dao get all lab procedures doc ov bean get visit id   lab procedure bean lpbeans  labprocs add p  diag set lab list labprocs   survey dao is survey completed bean get visit id   survey bean survey survey dao get survey data bean get visit id   diag set visit sat survey get visit satisfaction   diag set treatment sat survey get treatment satisfaction   check patient has been seen multiple times diagnosis patient hash contains key bean get patient id   patient hash put bean get patient id  bean get hcp id   diag inc num patients  diag hcpdiagnosis bean  list medication bean mlist array list medication bean   diag set hcp bean get hcp id   diag set hcpname personnel dao get name bean get hcp id    i trust exception e  diag set hcpname  diag inc num patients  prescription bean bean get prescriptions   mlist add p get medication   diag set med list mlist  diag set lab list labproc dao get all lab procedures doc ov bean get visit id    survey dao is survey completed bean get visit id   survey bean survey survey dao get survey data bean get visit id   diag set visit sat survey get visit satisfaction   diag set treatment sat survey get treatment satisfaction   patient hash put bean get patient id  bean get hcp id   hcp hash put bean get hcp id  diag  list hcpdiagnosis bean list array list hcpdiagnosis bean  hcp hash values   collections sort list hcpdiagnosis bean comparator  list   looks up all the prescriptions given by certain hcp with the same icd code param hcpid the mid of the hcp param icdcode the icd code of the prescription we are looking up util list of prescription beans made by hcp of icd code dbexception list prescription bean get prescriptions by hcpand icd long hcpid string icdcode  dbexception list prescription bean list array list prescription bean   list office visit bean ovs office visit dao get all office visits diagnosis icdcode   int ovs size   ovs get i  get hcp id  hcpid  list add all ovs get i  get prescriptions   list   checks to see what hcp has had the most experience with diagnosis hcpdiagnosis bean comparator comparator hcpdiagnosis bean serializable serial version uid  6328390386684022934   compares one hcp with another param the first hcp param the second hcp  1 has had more patients has had more patients otherwise compare  hcpdiagnosis bean hcpdiagnosis bean b  ret  a get num patients  get num patients   ret  1  a get num patients  get num patients   ret ret
ReportRequestDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util date util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans report request bean edu ncsu csc itrust beans loaders report request bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   used handling data related to report requests dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos report request dao daofactory factory report request bean loader loader   the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc report request dao  daofactory factory  factory factory loader report request bean loader    returns full bean describing given report request param id the unique id of the bean in the database the bean describing report request dbexception report request bean get report request long id  dbexception connection conn prepared statement ps  id l  sqlexception  id cannot be conn factory get connection  ps conn prepare statement  select from report requests where id ps set long 1 id  result set rs ps execute query  rs next  loader load single rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns all report requests associated with given requester param mid the mid of the personnel in question util list of report requests dbexception list report request bean get all report requests requester long mid  dbexception connection conn prepared statement ps  mid l  sqlexception  requester mid cannot be conn factory get connection  ps conn prepare statement  select from report requests where requester mid ps set long 1 mid  result set rs ps execute query  loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns all of the report requests associated with specific patient param pid the mid of the patient in question util list of report requests dbexception list report request bean get all report requests patient long pid  dbexception connection conn prepared statement ps  pid l  sqlexception  patient mid cannot be conn factory get connection  ps conn prepare statement  select from report requests where patient mid ps set long 1 pid  result set rs ps execute query  loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns every report request in the database util list of report requests dbexception list report request bean get all report requests  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from report requests result set rs ps execute query  loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    adds request report param requester mid the mid of the requester param patient mid the mid of the patient in question param date the date the request was made of the unique id of the report request dbexception add report request long requester mid patient mid date date  dbexception connection conn prepared statement ps  requester mid l  sqlexception  requester mid cannot be conn factory get connection  ps conn prepare statement  insert into report requests id requester mid patient mid requested date status  values  null requested ps set long 1 requester mid  ps set long 2 patient mid  ps set timestamp 3 sql timestamp date get time   ps execute update  dbutil get last insert conn  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    sets the status of request to approved param id the unique id of the report param approver mid the mid of the person approving the request param date the date the approval was made dbexception approve report request long id approver mid date date  dbexception connection conn prepared statement ps id l  sqlexception  id cannot be conn factory get connection  ps conn prepare statement  update report requests set approver mid approved date status approved where id ps set long 1 approver mid  ps set timestamp 2 sql timestamp date get time   ps set long 3 id  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    sets the status of report request to rejected param id the unique id of the request in question param approver mid the mid of the rejecter in question param date the date the rejection was made param comment comment describing why the request was rejected dbexception reject report request long id approver mid date date string comment  dbexception connection conn prepared statement ps id l  sqlexception  id cannot be conn factory get connection  ps conn prepare statement  update report requests set approver mid approved date status rejected comment where id ps set long 1 approver mid  ps set timestamp 2 sql timestamp date get time   ps set string 3 comment  ps set long 4 id  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    sets the status of report request to viewed param id the unique id of the request in question param date the date the request was viewed dbexception set viewed long id date date  dbexception connection conn prepared statement ps id l  sqlexception  id cannot be conn factory get connection  ps conn prepare statement  update report requests set viewed date status viewed where id ps set timestamp 1 sql timestamp date get time   ps set long 2 id  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
AllergyDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans allergy bean edu ncsu csc itrust beans loaders allergy bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos author andy allergy dao daofactory factory allergy bean loader allergy bean loader allergy bean loader    the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc allergy dao  daofactory factory  factory factory   returns list of patient allergies param pid the mid of the patient we are looking up util list of allergy beans associated with patient dbexception list allergy bean get allergies long pid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from allergies where patient id order by first found desc ps set long 1 pid  result set rs ps execute query  allergy bean loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    adds an allergy to patient list param pid the mid of the patient whose allergy we are adding param description the name of the allergen dbexception add allergy long pid string description  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into allergies  patient id description  values ps set long 1 pid  ps set string 2 description  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
/auth/getPatientID include file global jsp page util list page edu ncsu csc itrust action search users action page edu ncsu csc itrust beans patient bean page title trust please select patient include file header jsp string uid pid request get parameter  uid  patientid session set attribute  pid uid pid   null uid pid equals uid pid  response send redirect request get parameter  forward   string first name request get parameter  first  name string last name request get parameter  last  name if first name null  first name if last name null  last name include file util get user frame jsp form id main form action get patient id jsp method post table tr td patient td td style width 150px border 1px solid gray input name forward type hidden value request get parameter  forward input name uid  patientid type hidden value input name name  patientid type text readonly value select patient td td input type button onclick get user  patientid value find user td tr tr td align center colspan input type submit value select patient td tr table form table tr tr form id user search form action get patient id jsp forward request get parameter  forward method post tr td first name td td style width 150px border 1px solid gray input name first  name type text value first name td tr tr td last name td td style width 150px border 1px solid gray input name last  name type text value last name td tr tr td align center colspan input type submit value user search td tr form table if  equals first name  equals last name  search users action search action search users action prod dao logged in mid value   out println  searching users named first name last name br list patient bean patients search action search patients with name first name last name  out println  found patients size  records br out println  table border 1px tr td width 175px mid td td width 250px first name td td width 250px last name td tr for  patient bean patients  form id select patient string value of patients size   action get patient id jsp forward request get parameter  forward method post input type hidden name uid  patientid value get mid  out println  tr td input type submit width value get mid  form td td get first name  td td get last name  td tr out println  table include file footer jsp
/auth/patient/viewOfficeVisit page edu ncsu csc itrust beans office visit bean page edu ncsu csc itrust action view office visit action page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust beans diagnosis bean page edu ncsu csc itrust beans procedure bean page edu ncsu csc itrust beans prescription bean page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust dao mysql personnel dao page util array list page util list page error page auth exception handler jsp taglib prefix itrust uri web inf tags tld include file global jsp page title trust view office visit details include file header jsp session remove attribute  personnel list string ov id request get parameter  ov id string rep mid request get parameter  rep mid view office visit action action if rep mid null  constructor checks that the representative is correct action view office visit action prod dao logged in mid value  rep mid ov id  action view office visit action prod dao logged in mid value  ov id   if request get parameter  office visit bean ov action get office visit  string hcp name action get hcpname ov get hcp id   br table table align center tr th colspan office visit details th tr tr td sub header date td td ov get visit date str  td tr tr td sub header hcp td list personnel bean personnel list array list personnel bean   index td href trust auth view personnel jsp personnel index hcp name td personnel bean personnel personnel dao prod dao  get personnel ov get hcp id   personnel list add personnel  index session set attribute  personnel list personnel list  tr tr td sub header notes td td ov get notes  td tr table br br table table align center tr th colspan diagnoses th tr tr sub header th icd code th th description th tr  ov get diagnoses  size  0  tr td colspan no diagnoses visit td tr for  diagnosis bean ov get diagnoses   tr td itrust icd9cm code get icdcode  td td style white space nowrap get description  td tr table br br table table align center tr th colspan style background color silver medications th tr tr sub header td ndcode td td description td td date of usage td td dosage td td instructions td tr  ov get prescriptions  size  0  tr td colspan value cell align center no medications on record td tr for  prescription bean ov get prescriptions   tr td value cell get medication  get ndcode formatted  td td value cell get medication  get description  td td value cell get start date str  to get end date str  td td value cell get dosage  mg td td value cell get instructions  td tr table br br table table align center tr th colspan style background color silver procedures th tr tr sub header td cpt code td td description td tr  ov get procedures  size  0  tr td colspan no procedures on record td tr for  procedure bean ov get procedures   tr td get cptcode  td td get description  td tr table br include file footer jsp
ViewMyReportRequestsAction edu ncsu csc itrust action util calendar util list edu ncsu csc itrust beans personnel bean edu ncsu csc itrust beans report request bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql report request dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception trust exception   action view my reports jsp allows the user to see all their reports view my report requests action logged in mid report request dao report request dao personnel dao personnel dao transaction dao trans dao daofactory factory   set up param factory the daofactory used to create the daos used in action param logged in mid the mid of the person viewing their report requests view my report requests action  daofactory factory logged in mid  logged in mid logged in mid report request dao factory get report request dao  personnel dao factory get personnel dao  trans dao factory get transaction dao  factory factory   returns all the reports the currently logged in hcp list of all reports the logged in hcp trust exception list report request bean get all report requests requester  trust exception report request dao get all report requests requester logged in mid    returns list of  all  reports list of all reports trust exception list report request bean get all report requests  trust exception report request dao get all report requests    adds report request to the list param patient mid id of the patient that the report request is trust exception add report request long patient mid  trust exception id report request dao add report request logged in mid patient mid calendar get instance  get time   trans dao log transaction  transaction type comprehensive  report  request logged in mid patient mid added comprehensive report request id   approves report request from the list e mail is sent when the request is approved param id id of the request trust exception approve report request long id  trust exception report request bean rr report request dao get report request  id  report request dao approve report request  id logged in mid calendar get instance  get time   trans dao log transaction  transaction type comprehensive  report  request logged in mid rr get patient mid  approved comprehensive report request email util factory  send email make email app logged in mid rr get requester mid  rr get patient mid     sends e mail regarding the approved request param admin id admin who approved the request param hcp id hcp the request is param pid id of the patient the report is about the sent e mail dbexception email make email app long admin id hcp id pid  dbexception patient bean patient dao factory  get patient pid  email email email  email set from  no reply itrust com email set to list  arrays as list p get email   email set subject  report has been generated in trust email set body  string format  dear the trust health care provider s  submitted request to view your full medical records the trust administrator s  approved one time viewing of report you will be notified when the hcp chooses to view it get full name  hcp id admin id  email   rejects request from the list param id id of the rejected request param comment why the request was rejected trust exception reject report request long id string comment  trust exception report request dao reject report request  id logged in mid calendar get instance  get time  comment  trans dao log transaction  transaction type comprehensive  report  request logged in mid rejected comprehensive report request   returns the requested report param id id of the requested report the requested report trust exception report request bean get report request int id  trust exception report request dao get report request  id    sets the viewed status of the report the report is viewed the hcp must request one to see it again param id id of the report trust exception set viewed int id  trust exception report request bean rr report request dao get report request  id  report request dao set viewed  id calendar get instance  get time   trans dao log transaction  transaction type comprehensive  report  request logged in mid viewed comprehensive report email util factory  send email make email view rr get approver mid  rr get requester mid  rr get patient mid     sends e mail regarding the request to the patient param admin id admin who approved the request param hcp id hcp the request is param pid id of the patient the report is about the sent e mail dbexception email make email view long admin id hcp id pid  dbexception patient bean patient dao factory  get patient pid  email email email  email set from  no reply itrust com email set to list  arrays as list p get email   email set subject  report has been generated in trust email set body  string format  dear the trust health care provider s  has chosen to view your full medical report which was approved by an trust administrator s  report was only viewable one time and is no longer available get full name  hcp id admin id  email   gets the status of the request param id id of the request the request status trust exception string get status long id  trust exception string builder string builder  report request bean report request dao get report request id   r get status  equals  report request bean requested  personnel bean personnel dao get personnel r get requester mid   append  string format  request was requested on by get requested date string  get full name    r get status  equals  report request bean approved  personnel bean personnel dao get personnel r get requester mid   personnel bean p2 personnel dao get personnel r get approver mid   append  string format  request was requested on by get requested date string  get full name   append  string format  and approved on by get approved date string  p2 get full name    r get status  equals  report request bean rejected  personnel bean personnel dao get personnel r get requester mid   personnel bean p2 personnel dao get personnel r get approver mid   append  string format  request was requested on by get requested date string  get full name   append  string format  and rejected on by get approved date string  p2 get full name    r get status  equals  report request bean viewed  personnel bean personnel dao get personnel r get requester mid   personnel bean p2 personnel dao get personnel r get approver mid   string full name unknown if p null  full name get full name  append  string format  request was requested on by get requested date string  get full name   append  string format  approved on by get approved date string  full name  append  removed br because it caused unit test to fail and seems to have no purpose append  string format  and viewed on by get viewed date string  full name  to string 
SurveyAction edu ncsu csc itrust action util calendar edu ncsu csc itrust beans survey bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql survey dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception   is used to add patient survey data to the database the office visit id is linked with the survey id once the survey is added the transaction is logged survey action transaction dao trans dao survey dao survey dao logged in mid   sets up defaults param factory the daofactory used to create the daos used in action param logged in mid the mid of the user taking the survey survey action  daofactory factory logged in mid  trans dao factory get transaction dao  survey dao factory get survey dao  logged in mid logged in mid   pass the office vist bean along with survey bean param survey bean contains data to be added to database param visit id the office visit id corresponding to survey dbexception add survey  survey bean survey bean visit id  dbexception survey bean set visit id visit id  now set visit id in the survey bean survey dao add completed survey survey bean calendar get instance  get time   add to transaction log trans dao log transaction  transaction type add  patient  survey logged in mid office visit id completed survey is visit id 
/auth/patient/editMyDemographics page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust action edit patient action page edu ncsu csc itrust bean builder page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust action set security question action page edu ncsu csc itrust beans security qa page org apache commons validator credit card validator taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp include file global jsp page title trust edit patient include file header jsp the patient id doesn check out then kick em out to the exception handler edit patient action action edit patient action prod dao logged in mid value  logged in mid value   set security question action saction set security question action  prod dao logged in mid value   pid action get pid  now take care of updating information form is filled request get parameter  form is filled request get parameter  form is filled equals  patient bean security qa  form is filled  bean builder patient bean   build request get parameter map  patient bean   bean builder security qa   build request get parameter map  security qa   action update information p  saction update information s  div align center span trust message information successfully updated span div form validation exception e  div align center span trust error get message  span div action get patient  action get patient  saction retrieve information  form action edit my demographics jsp method post input type hidden name form is filled value input type hidden name pid value pid br table cellspacing align center cellpadding tr td valign top table table align center style width 350px tr th colspan patient information th tr tr td sub header vertical first name td td input name first name value get first name  type text td tr tr td sub header vertical last name td td input name last name value get last name  type text td tr tr td sub header vertical email td td input name email value get email  type text td tr tr td sub header vertical address td td input name street address1 value get street address1  type text br input name street address2 value get street address2  type text td tr tr td sub header vertical city td td input name city value get city  type text td tr tr td sub header vertical state td td itrust state name state value get state  td tr tr td sub header vertical zip td td input name zip1 value get zip1  maxlength type text size input name zip2 value get zip2  maxlength type text size td tr tr td sub header vertical phone td td input name phone1 value get phone1  type text size maxlength input name phone2 value get phone2  type text size maxlength input name phone3 value get phone3  type text size maxlength td tr tr td sub header vertical mother mid td td input name mother mid value get mother mid  maxlength type text td tr tr td sub header vertical father mid td td input name father mid value get father mid  maxlength type text td tr tr td sub header vertical credit card type td td select name credit card type option value select option option value mastercard get credit card type  equals  mastercard selected mastercard option option value visa get credit card type  equals  visa selected visa option option value discover get credit card type  equals  discover selected discover option option value amex get credit card type  equals  amex selected american express option select td tr tr td sub header vertical credit card number td td input name credit card number value get credit card number  maxlength type text td tr table td td width 15px nbsp td td valign top table table align center style width 350px tr th colspan insurance information th tr tr td sub header vertical name td td input name ic name value get ic name  type text td tr tr td sub header vertical address td td input name ic address1 value get ic address1  type text br input name ic address2 value get ic address2  type text td tr tr td sub header vertical city td td input name ic city value get ic city  type text td tr tr td sub header vertical state td td itrust state name ic state value get ic state  td tr tr td sub header vertical zip td td input name ic zip1 value get ic zip1  maxlength type text size input name ic zip2 value get ic zip2  maxlength type text size td tr tr td sub header vertical phone td td input name ic phone1 value get ic phone1  type text size maxlength input name ic phone2 value get ic phone2  type text size maxlength input name ic phone3 value get ic phone3  type text size maxlength td tr tr td sub header vertical insurance id td td input name ic id value get ic id  type text td tr table td tr tr height 15px td colspan nbsp td tr tr td valign top table table align center style width 350px tr th colspan authentication information th tr tr td sub header vertical security question td td input name question value get question  type text td tr tr td sub header vertical security answer td td input name answer value get answer  type password td tr tr td sub header vertical confirm security answer td td input name confirm answer value get answer  type password td tr table td td width 15px nbsp td td valign top table table align center style width 350px tr th colspan emergency contact th tr tr td sub header vertical name td td input name emergency name value get emergency name  type text td tr tr td sub header vertical phone td td input name emergency phone1 value get emergency phone1  type text size maxlength input name emergency phone2 value get emergency phone2  type text size maxlength input name emergency phone3 value get emergency phone3  type text size maxlength td tr table td tr table br div align center input type submit name action style font size 16pt font weight bold value edit patient record br br note in order to set your password use the reset password link at the login page div form include file footer jsp
ViewExpiredPrescriptionsAction edu ncsu csc itrust action util array list util list edu ncsu csc itrust email util edu ncsu csc itrust beans email edu ncsu csc itrust beans patient bean edu ncsu csc itrust beans personnel bean edu ncsu csc itrust beans prescription bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception trust exception   handles retrieving beans view prescription records jsp author laurenhayward view expired prescriptions action patient dao patient dao personnel dao personnel dao transaction dao trans dao email util emailer logged in mid   set up defaults param factory the daofactory used to create the daos used in action param logged in mid the mid of the person viewing the expired prescriptions view expired prescriptions action  daofactory factory logged in mid  emailer email util factory  patient dao factory get patient dao  personnel dao factory get personnel dao  trans dao factory get transaction dao  logged in mid logged in mid   gets patient bean from an mid param patient id mid of the patient patient bean the mid given trust exception patient bean get patient long patient id  trust exception patient dao get patient patient id    gets the logged in person representees list of patient beans holding the representees trust exception list patient bean get representees  trust exception patient dao get represented logged in mid    returns the prescribing hcp prescription param prescription item in question hcp who prescribed the prescription trust exception personnel bean get prescribing doctor  prescription bean prescription  trust exception personnel dao get prescribing doctor prescription    returns all the prescriptions given patient param patient id patient in question list of all the prescriptions that patient trust exception list prescription bean get prescriptions patient long patient id  trust exception patient bean patient patient dao get patient patient id   logged in mid patient id  trans dao log transaction  transaction type view  prescription  report logged in mid  patient dao get expired prescriptions patient id  list string to list array list string   to list add patient get email   list patient bean representatives patient dao get representing patient id  for  patient bean representative representatives   logged in mid representative get mid   trans dao log transaction  transaction type view  prescription  report logged in mid  patient dao get expired prescriptions patient id  to list add representative get email   list personnel bean dlhcps patient dao get declared hcps patient id  for  personnel bean dlhcp dlhcps   logged in mid dlhcp get mid   trans dao log transaction  transaction type view  prescription  report logged in mid  patient dao get expired prescriptions patient id  list personnel bean uaps personnel dao get uaps hcp dlhcp get mid   for  personnel bean uap uaps   logged in mid uap get mid   trans dao log transaction  transaction type view  prescription  report logged in mid  patient dao get prescriptions patient id  email email email  email set to list to list  email set from  noreply itrust com email set subject  undesignated personnel have accessed your prescription records email set body  an undesignated hcp or uap has accessed your prescription records more information please log in to trust emailer send email email  trans dao log transaction  transaction type view  prescription  report logged in mid  patient dao get prescriptions patient id 
DiagnosisBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans diagnosis bean   loader diagnosis beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader diagnosis bean loader bean loader diagnosis bean load ovdiagnosis id diagnosis bean loader  load ovdiagnosis id diagnosis bean loader boolean load ovdiagnosis id  load ovdiagnosis id load ovdiagnosis id list diagnosis bean load list  result set rs  sqlexception array list diagnosis bean list array list diagnosis bean    rs next   list add load single rs  list diagnosis bean load single  result set rs  sqlexception diagnosis bean diag diagnosis bean rs get string  code rs get string  description rs get string  chronic    load ovdiagnosis id  diag set ov diagnosis id rs get int  id   diag set visit id rs get long  visit id   diag prepared statement load parameters  prepared statement ps diagnosis bean bean  sqlexception illegal state exception  unimplemented
/util/getUser page net urlencoder page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust action get user name action page edu ncsu csc itrust exception trust exception html head title trust find user title style type text css get user body background color white border solid 2px 37609f margin 0px color 37609f white space nowrap width 446px height 146px overflow hidden get user title width text align center background color 11213b color white font weight bold font size 11pt padding 2px 0px 2px 0px get user title close right display block position absolute top 4px left 410px get user close link font size 12px color red get user close link hover text decoration none color white get user search button color white font weight bold width 180px background color 11213b border solid 2px 37609f get user search button hover background color 44546e get user name font size 14pt color black font weight bold get user correct border 1px solid 66ff66 background color eeffee color 11aa11 font weight bold get user correct hover border 1px solid 44ee44 background color bbffbb get user incorrect border 1px solid ff6666 background color ffeeee color aa1111 font weight bold get user incorrect hover border 1px solid ee4444 background color ffbbbb result table tr td padding 0px 3px 0px 3px style head body get user body div get user title trust user search div get user title close get user close link href javascript void 0  onclick parent get user close  close div div form method post string mid request get parameter  mid string param request get parameter  if mid mid trim  string user name get user name action  daofactory get production instance   get user name mid  string action if param null  action parent set user  param mid user name table align center tr td style text align center white space nowrap found user span get user name br user name span br br please confirm that is the user you wish to select br br style line height 6px input type button name correct value user is correct get user correct onclick action input type submit name incorrect value find another user get user incorrect nbsp nbsp nbsp td tr table  i trust exception e  response send redirect  get user jsp param error urlencoder encode e get message  utf 8 table align center tr td colspan style text align center padding bottom 10px please enter user id to search td tr tr td style text align right font weight bold color black user id mid  td td input name mid maxlength type text autocomplete off td tr tr td colspan style text align center padding top 2px input type submit value search user get user search button td tr if mid tr td colspan style text align center font weight bold color red please enter an mid td tr if request get parameter  error null  tr td colspan style text align center font weight bold color red request get parameter  error td tr table form body html
/auth/admin/editICDCodes page net urlencoder page util list page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust beans diagnosis bean page edu ncsu csc itrust action update icdcode list action page edu ncsu csc itrust exception form validation exception page error page auth exception handler jsp include file global jsp page title trust maintain icd codes include file header jsp string header message viewing current icd codes update icdcode list action icd updater update icdcode list action prod dao logged in mid value    request get parameter  add request get parameter  update null  diagnosis bean diag diagnosis bean request get parameter  code request get parameter  description request get parameter  classification   header message  request get parameter  add null  icd updater add icdcode diag  icd updater update information diag  catch  form validation exception e  div align center span trust error get message  span div header message validation errors string header color  header message index of  error  1  ffcccc cccc div align center form name main form method post input type hidden id update id name update id value input type hidden id old descrip name old descrip value script type text javascript function fill update code  document get element by id  code value code document get element by id  description value unescape document get element by id  upd code  value  yes document get element by id  code  value  document get element by id  classification checked checked document get element by id  classification checked script br span trust message header message span br br table table align center tr th colspan update icd code list th tr tr sub header th code th th chronic th th description th tr tr td input type text name code id code size maxlength td td input type checkbox name classification id classification value yes td td input type text name description id description size maxlength td tr table br input type submit name add value add code input type submit name update value update code br br table table align center tr th colspan current icd codes th tr tr sub header th code th th chronic th th description th tr list diagnosis bean code list prod dao get icdcodes dao  get all icdcodes  string temp code string temp descrip string temp string escaped descrip diagnosis bean code entry code list  temp code code entry get icdcode  temp descrip code entry get description  temp code entry get classification  escaped descrip urlencoder encode temp descrip utf 8 replace all  tr td align center temp code td td align center temp td td align center href javascript void 0  onclick fill update  temp code temp descrip input type hidden id upd temp code name upd temp code value escaped descrip input type hidden id temp code name temp code value temp td tr table form div br include file footer jsp
OfficeVisitLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception text simple date format util array list util date util list edu ncsu csc itrust beans office visit bean   loader office visit beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader office visit loader bean loader office visit bean list office visit bean load list  result set rs  sqlexception list office visit bean list array list office visit bean    rs next   list add load single rs  list office visit bean load single  result set rs  sqlexception office visit bean ov office visit bean rs get int  id   ov set hcp id rs get long  hcpid   ov set notes rs get string  notes   ov set patient id rs get long  patient id   ov set hospital id rs get string  hospital id   ov set visit date str new simple date format  mm dd yyyy format new date rs get date  visit date get time   ov prepared statement load parameters  prepared statement ps office visit bean p  sqlexception illegal state exception  unimplemented
SecurityQA edu ncsu csc itrust beans   bean storing data about security question and answer bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  security qa string question answer confirm answer string get question  question set question  string question  question question string get answer  answer set answer  string answer  answer answer string get confirm answer  confirm answer set confirm answer  string confirm answer  confirm answer confirm answer
SurveySearchValidator edu ncsu csc itrust validate edu ncsu csc itrust beans survey result bean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception   validator zip code that is entered when user searches hcp survey results survey search validator bean validator survey result bean   performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated override validate  survey result bean bean  form validation exception error list error list error list  error list add not null check format  zip code bean get hcpzip  validation format zipcode false   error list has errors   form validation exception error list 
ReportAdverseEventAction edu ncsu csc itrust action   used the patient to report adverse events sql sqlexception util array list util list edu ncsu csc itrust email util edu ncsu csc itrust beans email edu ncsu csc itrust beans adverse event bean edu ncsu csc itrust beans patient bean edu ncsu csc itrust beans personnel bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql adverse event dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate adverse event validator edu ncsu csc itrust exception form validation exception report adverse event action logged in mid email util emailer patient dao patient dao personnel dao personnel dao adverse event dao adverse event dao transaction dao transaction dao hcp id adverse event validator validator report adverse event action  string hcp id daofactory factory logged in mid  logged in mid logged in mid patient dao factory get patient dao  personnel dao factory get personnel dao  emailer email util factory  adverse event dao factory get adverse event dao  transaction dao factory get transaction dao  hcp id parse long hcp id  validator adverse event validator    constructor used to send e mails only report adverse event action  daofactory factory logged in mid  logged in mid logged in mid patient dao factory get patient dao  personnel dao factory get personnel dao  emailer email util factory  adverse event dao factory get adverse event dao  transaction dao factory get transaction dao  validator adverse event validator    method that sends exactly one e mail to each mid in the list of adverse events param ae list the list of adverse event beans that need to be acted upon elist the list of e mails sent testing purposes email send mails  list adverse event bean ae list  trust exception form validation exception dbexception list string midlist array list string   string patient id for  adverse event bean beaner ae list  patient id beaner get mid  string desc drug beaner get drug  beaner get code  description beaner get description  beaner set description new desc  for  adverse event bean beano ae list  if  midlist contains beano get prescriber   midlist add beano get prescriber   email email email  for  string num midlist  string message patient patient dao get name  parse long patient id  mid patient id has reported the following adverse event s  for  adverse event bean beano ae list  if beano get prescriber  equals num  message message beano get description  string from email email set from  noreply itrust com patient bean sender patient dao get patient logged in mid  personnel bean receiver personnel dao get personnel  parse long num  list string to list array list string   to list add receiver get email   from email sender get email  email set to list to list  email set from from email  email set subject  string format  adverse event report  prescription    email set body message  emailer send email email  transaction dao log transaction  transaction type send  message logged in mid  email   method used to send single e mail used in immunizations param ae bean email returns the email testing purposes email send mail adverse event bean ae bean throws trust exception form validation exception dbexception email email email  string from email email set from  noreply itrust com list string to list array list string   patient bean sender patient dao get patient logged in mid  personnel bean receiver personnel dao get personnel hcp id  to list add receiver get email   from email sender get email  email set to list to list  email set from from email  email set subject  string format  adverse event report immunization    email set body  string format  patient patient dao get name  parse long ae bean get mid   mid ae bean get mid  has reported the following adverse event drug ae bean get drug  ae bean get code  description ae bean get description    emailer send email email  transaction dao log transaction  transaction type send  message logged in mid  email   method used to add report to the data base param ae bean the adverse event to add string testing purposes only trust exception form validation exception dbexception string add report  adverse event bean ae bean throws trust exception form validation exception dbexception validator validate ae bean  form validation exception e  print stack trace  get message  adverse event dao add report ae bean hcp id  catch  dbexception trust exception e get message     old code used to send single e mail keep reference email email email  string sender name string from email email set from  noreply itrust com list string to list array list string   patient bean sender patient dao get patient logged in mid  personnel bean receiver personnel dao get personnel hcp id  to list add receiver get email   sender name sender get full name  from email sender get email  email set to list to list  email set from from email  email set subject  string format  adverse event report   email set body  string format  patient patient dao get name  parse long ae bean get mid   mid ae bean get mid  has reported the following adverse event s  drug ae bean get drug  ae bean get code  description ae bean get description    emailer send email email  transaction dao log transaction  transaction type send  message logged in mid  transaction dao log transaction  transaction type adverse  event logged in mid 
PrescriptionBean edu ncsu csc itrust beans text parse exception text simple date format util date   bean storing data about prescription bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  prescription bean id medication bean medication medication bean  visit id string start date str simple date format  mm dd yyyy format new date   string end date str simple date format  mm dd yyyy format new date   dosage string instructions prescription bean  override equals  object other   other null  get class  equals other get class   equals  prescription bean  other  equals  prescription bean other   medication other medication  medication medication equals other medication  visit id other visit id start date str equals other start date str  end date str equals other end date str  dosage other dosage instructions equals other instructions  hash code  hash code not designed any arbitrary constant will get dosage  dosage set dosage int dosage  dosage dosage date get end date  simple date format  mm dd yyyy parse end date str   java text parse exception e  set end date str  string end date  end date str end date string get instructions  instructions set instructions  string instruction  instructions instruction medication bean get medication  medication set medication  medication bean medication  medication medication date get start date  simple date format  mm dd yyyy parse start date str  parse exception e  string get start date str  start date str string get end date str  end date str set start date str  string start date  start date str start date get visit id  visit id set visit id long visit id  visit id visit id get id  id set id long id  id id
ReferralDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans referral bean edu ncsu csc itrust beans loaders referral bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   used to update referrals and fetch lists of referrals sent to and from hcps dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos referral dao daofactory factory referral bean loader referral loader   the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc referral dao  daofactory factory  factory factory referral loader referral bean loader    gets list of all referrals sent from an hcp param mid the hcp mid the list of the referrals they sent dbexception list referral bean get referrals sent from long mid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from referrals where sender id ps set long 1 mid  result set rs ps execute query  referral loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    gets list of all referrals sent to an hcp param mid the hcp mid the list of the referrals sent to them dbexception list referral bean get referrals sent to long mid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from referrals where receiver id ps set long 1 mid  result set rs ps execute query  referral loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    updates given referral in the database param the referral to update dbexception edit referral  referral bean r  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  update referrals set patient id sender id receiver id referral details consultation details status where id referral loader load parameters ps r  ps set long 7 get id   ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    adds given referral to the database param the referral to add dbexception add referral  referral bean r  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into referrals patient id sender id receiver id referral details consultation details status  values referral loader load parameters ps r  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
/errors/reboot page language content type text html charset iso 8859 1 page encoding iso 8859 1 is error page session invalidate  html head meta http equiv content type content text html charset iso 8859 1 title authorization error title head body div align center h1 server reboot h1 the server has been rebooted and you have lost your credentials br href trust log back in div body html
/auth/staff/editPersonnel taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust action edit personnel action page edu ncsu csc itrust bean builder page edu ncsu csc itrust exception form validation exception include file global jsp page title trust edit personnel include file header jsp use session variable with key pid string pid string string session get attribute  mid  null pid string pid string length    null  pid string string session get attribute  editmid   response send redirect  trust auth get personnel id jsp forward staff edit personnel jsp request set attribute  mid pid string  session remove attribute  mid session set attribute  editmid pid string  bad personnel id gets you exiled to the exception handler edit personnel action personnel editor edit personnel action prod dao logged in mid value  pid string  pid personnel editor get pid  now take care of updating information form is filled  null request get parameter  form is filled   request get parameter  form is filled equals  personnel bean personnel form  form is filled  personnel form bean builder personnel bean   build request get parameter map  personnel bean   personnel editor update information personnel form  div align center span trust message information successfully updated span div catch  form validation exception e  div align center span trust error print html page context get out   span div personnel form prod dao get personnel dao  get personnel pid  personnel form prod dao get personnel dao  get personnel pid  br form action edit personnel jsp method post input type hidden name form is filled value div align center table table align center tr th colspan personnel information th tr tr td sub header vertical first name td td input name first name value personnel form get first name  type text td tr tr td sub header vertical last name td td input name last name value personnel form get last name  type text td tr tr td sub header vertical address td td input name street address1 value personnel form get street address1  type text br input name street address2 value personnel form get street address2  type text td tr tr td sub header vertical city td td input name city value personnel form get city  type text td tr tr td sub header vertical state td td itrust state name state value personnel form get state  td tr tr td sub header vertical zip td td input name zip1 value personnel form get zip1  maxlength type text size input name zip2 value personnel form get zip2  maxlength type text size td tr tr td sub header vertical phone td td input name phone1 value personnel form get phone1  type text size maxlength input name phone2 value personnel form get phone2  type text size maxlength input name phone3 value personnel form get phone3  type text size maxlength td tr tr td sub header vertical email td td input name email value personnel form get email  type text td tr table td tr tr td colspan br input type submit name action style font size 16pt font weight bold value edit personnel record td tr table div form div align center br span style font size 14px note in order to set the password user use the reset password link at the login page span br div include file footer jsp
/auth/admin/viewReminderMessage page error page auth exception handler jsp page edu ncsu csc itrust action view my messages action page edu ncsu csc itrust beans message bean page util list include file global jsp page title trust view reminder message include file header jsp view my messages action action view my messages action prod dao logged in mid value   message bean original  request get parameter  msg null  string msg parameter request get parameter  msg msg index msg index integer parse int msg parameter  number format exception nfe  response send redirect  reminders message outbox jsp list message bean messages  session get attribute  messages null  messages list message bean session get attribute  messages response send redirect  reminders message outbox jsp original message bean messages get msg index  action set read original  session set attribute  message original  response send redirect  message inbox jsp div table width style background color dddddd tr td to action get name  parse long original get subject  substring 0 original get subject  index of   td tr tr td subject original get subject  substring original get subject  index of  2  td tr tr td date amp time original get sent date  td tr table div table tr td colspan message td tr tr td colspan original get body  td tr table include file footer jsp
/auth/hcp uap/editPHR taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util array list page util date page util list page text date format page edu ncsu csc itrust action edit phraction page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust beans allergy bean page edu ncsu csc itrust beans family member bean page edu ncsu csc itrust beans health record page edu ncsu csc itrust beans office visit bean page edu ncsu csc itrust beans procedure bean page edu ncsu csc itrust risk risk checker page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust dao mysql personnel dao page edu ncsu csc itrust dao mysql patient dao include file global jsp page title trust edit personal health record include file header jsp patient dao patient dao patient dao prod dao  personnel dao personnel dao personnel dao prod dao  personnel bean personnelb personnel dao get personnel logged in mid value   date format df date format get date instance  string string  request get parameter  null  string request get parameter  string relative string  request get parameter  relative null  relative string request get parameter  relative string patient string  request get parameter  patient null  patient string request get parameter  patient string pid string  switch string equals   pid string relative string equals   relative index integer parse int relative string  list patient bean relatives list patient bean session get attribute  relatives pid string relatives get relative index  get mid  session remove attribute  relatives session set attribute  pid pid string  patient string equals   patient index integer parse int patient string  list patient bean patients list patient bean session get attribute  patients pid string patients get patient index  get mid  session remove attribute  patients session set attribute  pid pid string  pid string string session get attribute  pid  pid string pid string length   response send redirect  get patient id jsp forward hcp uap edit phr jsp session remove attribute  pid edit phraction action edit phraction prod dao logged in mid value  pid string  pid action get pid  string confirm action update allergies pid request get parameter  description   patient bean patient action get patient  list health record records action get all health records  health record most recent records size  records get 0  list office visit bean office visits action get all office visits  list family member bean family action get family  page edu ncsu csc itrust exception no health records exception script type text javascript function show risks  document get element by id  risks style display inline document get element by id  risk button style display none script equals confirm  span confirm span br br div align center div style margin right 10px display inline table table table align center tr th colspan patient information th tr tr td sub header vertical name td td patient get full name  td tr tr td sub header vertical address td td patient get street address1  br equals patient get street address2   patient get street address2  br patient get street address3  br td tr tr td sub header vertical phone td td patient get phone  td tr tr td sub header vertical email td td patient get email  td tr tr th colspan insurance information th tr tr td sub header vertical provider name td td patient get ic name  td tr tr td sub header vertical address td td patient get ic address1  br equals patient get ic address2   patient get ic address2  br patient get ic address3  br td tr tr td sub header vertical phone td td patient get ic phone  td tr table br href edit patient jsp style text decoration none input type button value edit on click location edit patient jsp div div style margin right 10px display inline table table table align center tr th colspan basic health records th tr  null most recent  tr td colspan no basic health records are on file patient td tr tr td sub header vertical height td td most recent get height  in td tr tr td sub header vertical weight td td most recent get weight  lbs td tr tr td sub header vertical smoker td td most recent is smoker  yes no td tr tr td sub header vertical blood pressure td td most recent get blood pressure n  most recent get blood pressure d  mm hg td tr tr td sub header vertical cholesterol td td table tr td style text align right hdl td td most recent get cholesterol hdl  mg td tr tr td style text align right ldl td td most recent get cholesterol ldl  mg td tr tr td style text align right tri td td most recent get cholesterol tri  mg td tr tr td style text align right total td td span id total span style font weight bold color most recent get total cholesterol  mg span td tr table td tr closing there is most recent record patient table br href edit basic health jsp style text decoration none input type button value view edit history on click location edit basic health jsp div div style display inline table table table align center tr th office visits th tr tr td align center div style overflow auto height 200px width 200px office visit bean ov office visits  href edit office visit jsp ov id ov get visit id  df format ov get visit date   br div td tr table br href get prescription report jsp style text decoration none input type button value get prescription report on click location get prescription report jsp div div br table table align center tr th colspan family medical history th tr tr sub header td name td td relation td td high blood pressure td td high cholesterol td td diabetes td td cancer td td heart disease td td smoker td td cause of death td tr  0 family size   tr td colspan style text align center no relations on record td tr list patient bean patient relatives array list patient bean   index for  family member bean member family  patient relatives add patient dao get patient member get mid   tr td value cell href edit phr jsp relative index member get full name  td td member get relation  td td align center action does family member have high bp member  td td align center action does family member have high cholesterol member  td td align center action does family member have diabetes member  td td align center action does family member have cancer member  td td align center action does family member have heart disease member  td td align center action is family member smoker member  td td action get family member cod member  td tr index session set attribute  relatives patient relatives  table br div align center div style margin right 10px display inline table list allergy bean allergies action get allergies  table table align center tr th colspan allergies th tr tr sub header td allergy description td td first found td tr  0 allergies size   tr td colspan style text align center no allergies on record td tr allergy bean allergy allergies  tr td style text align center allergy get description  td td style text align center df format allergy get first found   td tr form name add allergy action edit phr jsp method post tr th colspan style text align center th tr tr td colspan input type text size maxlength name description input type submit name add value add allergy td tr table div div style margin right 10px display inline table table table align center tr th colspan style background color silver chronic disease risk factors th tr tr td align center div id risks style display none patient is at risk the following br list risk checker diseases action get diseases at risk  risk checker disease diseases  span disease get name  span br no health records exception e  get message  style font size href chronic disease risks jsp more information div td tr table br div id risk button input type button value show chronic diseases risk factors onclick javascript show risks  div div div style display inline table table table align center tr th colspan style background color silver immunizations th tr tr sub header td cpt code td td description td td date received td tr office visit bean ov office visits  procedure bean proc action get complete office visit ov get visit id   get procedures    null proc get attribute  proc get attribute  equals  immunization   tr td proc get cptcode  td td proc get description  td td href edit office visit jsp ov id ov get visit id  proc get date  td tr table div div br br br itrust patient nav title health records include file footer jsp
/util/blackbox/blackbox page language content type text html charset utf 8 page encoding utf 8 page io page util page util regex pattern page javax xml parsers page org xml sax page org xml sax helpers page text simple date format page text parse exception html xmlns http www w3 org xhtml head style type text css fancy table font family trebuchet ms arial helvetica sans serif width border collapse collapse fancy table td fancy table th font size 8em background color ffffff border 1px solid f708 padding 1px 2px 1px 2px fancy table th font size 1em text align center padding top 0px padding bottom 0px background color f708 color ffffff fancy table tr alt td color background color ddddff style head body style margin left 150px string path http localhost trust util blackbox test parser black box test string id string date added string date modified string author string role string use string description linked list string precondition linked list string   linked list string step linked list string   string expected results linked list string result linked list string   string actual results linked list string result linked list string   set id  string id  id id string get id  id set author  string author  author author string get author  author set role  string role  role role string get role  role set use case  string uc  use uc string get use case  use set date added  string da  date added da string get date added  date added set date modified  string dm  date modified dm string get date modified  date modified string get description  if precondition size  step size  0  description string strong preconditions strong br for  string precondition   br br strong steps strong br for int step size  step get i 1  br string get expected results  string for  string result   br string get actual results  string for  string result   br set precondition  string p  precondition add p  set step  string s  step add s  set eresult  string e  result add e  set aresult  string a  result add a  set description  string d  description sort by test id comparator black box test compare  black box test arg0 black box test arg1  string arg0 get id  string arg1 get id  compare to y  linked list black box test bbt linked list black box test   linked list string roles linked list string   black box test test string temp val linked list black box test get tests  bbt parse document  exception get factory saxparser factory spf saxparser factory instance  get instance of parser saxparser sp spf saxparser  handler handler handler  start element  string uri string local name string name attributes attributes  saxexception reset temp val if q name equals ignore case  test   create instance of employee test black box test  test set id attributes get value  id   characters char ch start length  saxexception temp val string ch start length  end element  string uri string local name string name  saxexception if q name equals ignore case  test   add it to the list bbt add test   q name equals ignore case  date added   test set date added temp val   q name equals ignore case  date modified   test set date modified temp val   q name equals ignore case  author   test set author temp val   q name equals ignore case  description   test set description temp val   q name equals ignore case  precondition   test set precondition temp val   q name equals ignore case  result   test set eresult temp val   q name equals ignore case  step   test set step temp val   q name equals ignore case  result   test set aresult temp val   q name equals ignore case  role   test set role temp val  if  roles contains temp val  roles add temp val   q name equals ignore case  use   test set use case temp val  parse the file and also register call backs sp parse path black box test plan xml handler  linked list string get roles list  roles linked list black box test get tests role  string r  linked list black box test test list linked list black box test   for  black box test bbt  if b get role  equals r  test list add b  test list linked list string get htmloutput  linked list black box test list  linked list string test list linked list string   collections sort list sort by test id   for  black box test list  string temp temp td get id  td temp td get description  td temp td get expected results  td temp td get actual results  td temp td get use case  td temp td get role  td temp td get date added  td temp td get date modified  td test list add temp  test list test parser test parser  parse document  linked list string roles list get roles list  for  string role roles list  div align left style font family verdana font size 1em name role role div table fancy table tr fancy table th style width test id th th style width description th th style width expected results th th style width actual results th th style width use th th style width role th th style width date added th th style width date modified th tr linked list string output list get htmloutput t get tests role role  for  string test output list  tr valign top if i 0  alt test tr table script document layers  document write  div id div stay top left style position absolute script layer id div stay top left  edit below code to your own menu table border width cellspacing cellpadding tr td width bgcolor ffffcc align center font size table of contents font td tr tr td width bgcolor ffffff align left href trust style font size 12px back to trust br br for  string role roles list  href role style font size 15px role br td tr table  end of edit layer script type text javascript floating menu script roy whittle  http www javascript fx com script featured on available at http www dynamicdrive com notice must stay intact use enter frombottom or fromtop var verticalpos fromtop document layers  document write  div function jsfx  top div  var start start var ns  navigator app name index of  netscape  1  var document function ml id  var el get element by id get element by id id  all all id layers id if d layers el style el el function x y  style left style top el start  verticalpos fromtop el start el ns page yoffset inner height document body scroll top document body client height el start el window stay top left function   verticalpos fromtop var ns page yoffset document body scroll top ftl obj  p start ftl obj y  var ns page yoffset inner height document body scroll top document body client height ftl obj  p start ftl obj y  ftl obj p ftl obj ftl obj y  set timeout  stay top left  10  ftl obj ml  div stay top left stay top left  jsfx  top div  script body html
DiagnosisBean edu ncsu csc itrust beans   bean storing data about diagnosis bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  diagnosis bean ov diagnosis id optional string icd code string description string classification visit id diagnosis bean    functionality will be moved elsewhere diagnosis bean  string code string description string classification  icd code code description description  null classification classification equals  yes   classification classification classification no   gets the icd code procedure the icd code procedure string get icdcode  icd code set icdcode  string code  icd code code string get classification  classification   gets the icd description procedure the icd description procedure string get description  description set description  string description  description description string get formatted description  description icd code   optional use with editing an office visit get ov diagnosis id  ov diagnosis id set ov diagnosis id long ov diagnosis id  ov diagnosis id ov diagnosis id set visit id long vid  visit id vid get visit id  visit id
/auth/hcp/hcpConsultation page error page auth exception handler jsp  imports  page edu ncsu csc itrust action referral management action page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust beans referral bean page edu ncsu csc itrust dao mysql patient dao page edu ncsu csc itrust dao mysql personnel dao page edu ncsu csc itrust enums role page edu ncsu csc itrust exception dbexception page util array list page util list  header  include file global jsp page title trust hcp consultations include file header jsp string task request get parameter  task  task task equals ignore case   center h1 hcp consultations h1 form action hcp consultation jsp method post input type submit name task value send consultation input type submit name task value view pending consultations form center br  task equals ignore case  send consultation   find all patients associated with hcp patient dao pat dao patient dao prod dao  list patient bean all patients pat dao get all patients  list patient bean my patients array list patient bean   patient bean pat all patients   pat dao check declared hcp pat get mid  logged in mid  my patients add pat  find all hcps who are not hcp personnel dao personnel personnel dao prod dao  list personnel bean all personnel personnel get all personnel  list personnel bean all hcps array list personnel bean   personnel bean per all personnel   per get role  role hcp per get mid  logged in mid  all hcps add per  center h1 send consultation h1 form action hcp consultation jsp method post input type hidden name task value form table tr td select patient td td select size name patient patient bean pat my patients  option value pat get mid  pat get full name  option select td tr tr td select hcp td td select size name hcp personnel bean per all hcps  option value per get mid  per get full name  option select td tr tr td td td input type submit value select td tr table form center  task equals ignore case  view pending consultations   referral management action ref action referral management action prod dao logged in mid  list referral bean refs from me ref action get referrals sent from me  list referral bean refs to me ref action get referrals sent to me  patient dao patient dao patient dao prod dao  personnel dao personnel dao personnel dao prod dao  center h1 view pending consultations h1 center table align center border table tr th colspan outgoing consultations th tr tr sub header td status td td patient td td sending doctor td td receiving doctor td td edit td tr  refs from me is empty   tr td colspan center no outgoing consultation requests center td tr referral bean ref refs from me  tr td  ref get status  referral bean referral status pending  pending  ref get status  referral bean referral status finished  finished declined   td td patient dao get patient ref get patient id   get full name  ref get patient id  td td personnel dao get personnel ref get sender id   get full name  ref get sender id  td td personnel dao get personnel ref get receiver id   get full name  ref get receiver id  td td href hcp consultation jsp task update to from from id ref get id  edit td tr table br br table align center border table tr th colspan incoming consultations th tr tr sub header td status td td patient td td sending doctor td td receiving doctor td td edit td tr  refs to me is empty   tr td colspan center no incoming consultation requests center td tr referral bean ref refs to me  tr td  ref get status  referral bean referral status pending  pending  ref get status  referral bean referral status finished  finished declined   td td patient dao get patient ref get patient id   get full name  ref get patient id  td td personnel dao get personnel ref get sender id   get full name  ref get sender id  td td personnel dao get personnel ref get receiver id   get full name  ref get receiver id  td td href hcp consultation jsp task update to from to id ref get id  edit td tr table br  task equals ignore case  update   string to from request get parameter  to from string id request get parameter  id test parameter errors empty parameters or options  to from to from equals ignore case  id id equals ignore case   to from equals ignore case  to to from equals ignore case  from   center h1 error missing important parameters href hcp consultation jsp again h1 center referral management action ref action referral management action prod dao logged in mid  rid parse long id  list referral bean referrals  to from equals ignore case  to   referrals ref action get referrals sent to me  referrals ref action get referrals sent from me  referral bean my ref referral bean ref referrals   ref get id  rid  my ref ref  my ref null  center h1 error referral does not exist href hcp consultation jsp choose another h1 center center h1 update consultation form h1 br center table border bordercolor darkred align center tr td table border width tr td patient td td  new patient dao prod dao  get patient my ref get patient id   get full name  td tr tr td sending hcp td td  new personnel dao prod dao  get personnel my ref get sender id   get full name  td tr tr td receiving hcp td td  new personnel dao prod dao  get personnel my ref get receiver id   get full name  td tr table form action hcp consultation jsp method post input type hidden name task value change input type hidden name pat id value my ref get patient id  input type hidden name to id value my ref get receiver id  input type hidden name from id value my ref get sender id  input type hidden name ref id value my ref get id   to from equals ignore case  to   referral details br textarea name ref details readonly rows cols style background color lightgrey my ref get referral details  textarea br consultation details br textarea name cons details rows cols my ref get consultation details  textarea br referral details br textarea name ref details rows cols my ref get referral details  textarea br consultation details br textarea name cons details rows cols readonly style background color lightgrey my ref get consultation details  textarea br select size name status option  my ref get status  referral bean referral status pending  selected selected pending option option  my ref get status  referral bean referral status finished  selected selected finished option option  my ref get status  referral bean referral status declined  selected selected declined option select td tr table center input type submit value update center form  task equals ignore case  change   pat id parse long request get parameter  pat id   to id parse long request get parameter  to id   from id parse long request get parameter  from id   ref id parse long request get parameter  ref id   string cons details request get parameter  cons details string ref details request get parameter  ref details string status request get parameter  status referral bean my ref referral bean  my ref set id ref id  my ref set patient id pat id  my ref set receiver id to id  my ref set sender id from id  my ref set consultation details cons details  my ref set referral details ref details  my ref set status  status equals ignore case  pending referral bean referral status pending status equals ignore case  finished referral bean referral status finished referral bean referral status declined referral management action ref action referral management action prod dao logged in mid  ref action update referral my ref  center h1 consultation updated h1 br center table border bordercolor darkgreen align center tr td table border width tr td patient td td  new patient dao prod dao  get patient my ref get patient id   get full name  td tr tr td sending hcp td td  new personnel dao prod dao  get personnel my ref get sender id   get full name  td tr tr td receiving hcp td td  new personnel dao prod dao  get personnel my ref get receiver id   get full name  td tr table referral details br textarea name ref details readonly rows cols style background color lightgrey my ref get referral details  textarea br consultation details br textarea name cons details readonly rows cols style background color lightgrey my ref get consultation details  textarea br td tr table br exception e  center h1 error referral couldn be updated h1 center  task equals ignore case  form   string patient request get parameter  patient string hcp request get parameter  hcp patient bean pat  new patient dao prod dao  get patient  parse long patient  personnel bean per  new personnel dao prod dao  get personnel  parse long hcp  center h1 consultation form h1 form action hcp consultation jsp method post input type hidden name task value send input type hidden name patient value patient input type hidden name hcp value hcp table border bordercolor darkred tr td table border width tr td refer patient td td pat get full name  patient td tr tr td to hcp td td per get full name  hcp td tr table textarea name msg rows cols details textarea br td tr table input type submit value submit form center  task equals ignore case  send   string patient request get parameter  patient string hcp request get parameter  hcp string msg request get parameter  msg patient bean pat  new patient dao prod dao  get patient  parse long patient  personnel bean per  new personnel dao prod dao  get personnel  parse long hcp  referral management action ref action referral management action prod dao logged in mid  create referral bean and load all the information into it referral bean ref referral bean  ref set referral details msg  ref set consultation details  ref set patient id  parse long patient  ref set receiver id  parse long hcp  ref set sender id logged in mid  ref set status  referral bean referral status pending  ref action send referral new ref  center h1 thank you your consultation request was sent h1 table border bordercolor darkgreen tr td table border width tr td refer patient td td pat get full name  patient td tr tr td to hcp td td per get full name  hcp td tr table textarea readonly name msg rows cols style background color lightgrey msg textarea br td tr table center br dbexception e  center h1 error the referral couldn be sent to string  h1 center include file footer jsp
Type2DiabetesRisks edu ncsu csc itrust risk edu ncsu csc itrust enums ethnicity african american edu ncsu csc itrust enums ethnicity american indian edu ncsu csc itrust enums ethnicity asian edu ncsu csc itrust enums ethnicity hispanic util array list util list edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception no health records exception edu ncsu csc itrust risk factors age factor edu ncsu csc itrust risk factors cholesterol factor edu ncsu csc itrust risk factors ethnicity factor edu ncsu csc itrust risk factors family history factor edu ncsu csc itrust risk factors hypertension factor edu ncsu csc itrust risk factors patient risk factor edu ncsu csc itrust risk factors prior diagnosis factor edu ncsu csc itrust risk factors weight factor   checks to see the given patient is at risk type ii diabetes details on what each method does see link risk checker author andy type2 diabetes risks risk checker type2 diabetes risks  daofactory factory patient id  dbexception no health records exception super factory patient id  override qualifies disease  patient get age  override list patient risk factor get disease risk factors  list patient risk factor factors array list patient risk factor   factors add new age factor patient 45  factors add new ethnicity factor patient hispanic african american american indian asian  factors add new weight factor current health record 25  factors add new hypertension factor current health record  factors add new cholesterol factor current health record  factors add new prior diagnosis factor factory patient get mid  0  factors add new family history factor factory patient get mid  0  factors override string get name  type diabetes
/auth/patient/viewLHCP taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util list page util array list page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust beans hcpvisit bean page edu ncsu csc itrust beans office visit bean page edu ncsu csc itrust action view visited hcps action page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust dao mysql patient dao page edu ncsu csc itrust exception trust exception include file global jsp page title lchp information include file header jsp script type text javascript function remove hcp  hcpid form id  document get element by id  remove id value hcpid document get element by id form id  submit  script index integer parse int request get parameter  index   personnel bean my lhcp   list personnel bean session get attribute  personnel list   get index  div align center table table tr th colspan my lhcp get full name  th tr tr td specialty td td my lhcp get specialty  my lhcp get specialty  td tr tr td address td td my lhcp get street address1  br my lhcp get street address2  br my lhcp get city  equals  my lhcp get city  my lhcp get state  my lhcp get zip  td tr tr td phone td td my lhcp get phone  equals   my lhcp get phone  td tr tr td email td td my lhcp get email  td tr table div include file footer jsp
HCPVisitBean edu ncsu csc itrust beans   bean storing data about visit with an hcp bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  hcpvisit bean string hcpname string hcpspecialty string hcpaddr string ovdate designated hcp mid hcpvisit bean  hcpname hcpspecialty hcpaddr ovdate set hcpmid long mid  hcp mid mid get hcpmid  hcp mid string get hcpname  hcpname set hcpname  string name   null name  hcpname name string get hcpspecialty  hcpspecialty set hcpspecialty  string specialty   null specialty  hcpspecialty specialty hcpspecialty none string get hcpaddr  hcpaddr set hcpaddr  string addr   null addr  hcpaddr addr string get ovdate  ovdate set ovdate  string date   null date  ovdate date is designated  designated set designated boolean val  designated val
HealthRecordFormValidator edu ncsu csc itrust validate edu ncsu csc itrust action edit health history action edu ncsu csc itrust beans forms health record form edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception   validator used in adding health information on basic health history link edit health history action author andy health record form validator bean validator health record form   performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated override validate  health record form bean  form validation exception error list error list error list  error list add not null check int  systolic blood pressure bean get blood pressure n  false  error list add not null check int  diastolic blood pressure bean get blood pressure d  false  error list add not null check int  cholesterol hdl bean get cholesterol hdl  false  error list add not null check int  cholesterol ldl bean get cholesterol ldl  false  error list add not null check int  cholesterol triglycerides bean get cholesterol tri  false  error list add not null check format  height bean get height  validation format height false  error list add not null check format  weight bean get weight  validation format weight false  error list add not null check boolean  smoker bean get is smoker    error list has errors   form validation exception error list 
AddHCPAction edu ncsu csc itrust action edu ncsu csc itrust random password edu ncsu csc itrust beans personnel bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql auth dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums role edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate add personnel validator   used add personnel page  add personnel jsp  just adds an empty hcp uap creates random password them very similar to link add office visit action and link add patient action author andy meneely add hcpaction personnel dao personnel dao auth dao auth dao transaction dao trans dao logged in mid   sets up the defaults the param factory factory creating the defaults param logged in mid person currently logged in author andy meneely add hcpaction  daofactory factory logged in mid  personnel dao factory get personnel dao  auth dao factory get auth dao  trans dao factory get transaction dao  logged in mid logged in mid   adds the user event is logged param bean containing the information the user mid of the user form validation exception trust exception add  personnel bean p  form validation exception trust exception add personnel validator  validate p  mid personnel dao add empty personnel  role hcp  set mid new mid  personnel dao edit personnel p  string pwd auth dao add user new mid role hcp random password get random password   set password pwd  trans dao log transaction  transaction type create  disable  patient  hcp logged in mid  trans dao log transaction  transaction type create  disable  patient  hcp logged in mid mid added hcp mid
/auth/exceptionHandler page is error page if exception null  exception print stack trace  request get session  set attribute  error message exception get class  get simple name  exception get message   response send redirect  trust auth forward user jsp
ChronicDiseaseMediator edu ncsu csc itrust risk util array list util list edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception no health records exception   figures out which risk checker strategy to use author andy chronic disease mediator list risk checker risk checkers   given factory and patient id and sets up list of all risk checkers param factory the daofactory to be used in creating the necessary daos to perform the checks param pid the mid of the patient in question dbexception no health records exception chronic disease mediator  daofactory factory pid  dbexception no health records exception risk checkers array list risk checker   risk checkers add new heart disease risks factory pid  risk checkers add new type1 diabetes risks factory pid  risk checkers add new type2 diabetes risks factory pid    list of diseases that patient is at risk list risk checker get disease at risk  list risk checker diseases array list risk checker   risk checker disease checker risk checkers   disease checker is at risk   diseases add disease checker  diseases
/errors/notfound include file global jsp page title trust login include file header jsp h2 oops your page wasn found h2 you may have tried to log in after pressing back on your browser br please feel free to again include file footer jsp
AdverseEventValidator edu ncsu csc itrust validate edu ncsu csc itrust beans adverse event bean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception   validates an adverse event bean from link adverse event action adverse event validator bean validator adverse event bean   the constructor adverse event validator    performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated override validate  adverse event bean b  form validation exception error list error list error list  error list add not null check format  comment get description  validation format adverse  event  comments false   error list has errors   form validation exception error list 
GenderFactor edu ncsu csc itrust risk factors edu ncsu csc itrust beans patient bean edu ncsu csc itrust enums gender   checks the patient gender matches the given at risk one see link patient risk factor details on what each method typically does author andy gender factor patient risk factor patient bean patient gender gender gender factor  patient bean patient gender gender  patient patient gender gender string get description  patient is patient get gender  to string  to lower case  has factor  gender equals patient get gender   gender equals  gender not specified 
LabProcedureDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans lab procedure bean edu ncsu csc itrust beans loaders lab procedure bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   dao managing lab procedure codes database access object all info coming into dao is already validated just worry about db stuff here note that all daos need to have daofactory with which to access other daos and to get connections also every dao must have constructor with daofactory as parameter lab procedure dao daofactory factory lab procedure bean loader lab procedure loader   the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc lab procedure dao  daofactory factory  factory factory lab procedure loader lab procedure bean loader    get list of the lab procedures associated with given patient param id the mid of the patient as util list of lab procedure beans dbexception list lab procedure bean get lab procedures patient long id  dbexception connection conn prepared statement ps  id l  sqlexception  patient mid cannot be conn factory get connection  ps conn prepare statement  select from lab procedure where patient mid and rights order by updated date desc ps set long 1 id  ps set string 2 lab procedure bean allow  result set rs ps execute query  lab procedure loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    gets all the lab procedures given patient that occur within the next month param id the mid of the patient as util list of lab procedure beans dbexception list lab procedure bean get lab procedures patient next month long id  dbexception connection conn prepared statement ps  id l  sqlexception  patient mid cannot be conn factory get connection  ps conn prepare statement  select from lab procedure where patient mid and rights and status and date diff  sysdate  updated date  30  order by updated date desc ps set long 1 id  ps set string 2 lab procedure bean allow  ps set string 3 lab procedure bean completed  result set rs ps execute query  lab procedure loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    gets an individual lab procedure param id the id of the lab procedure lab procedure bean representing the procedure dbexception lab procedure bean get lab procedure long id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from lab procedure where laboratory procedure id ps set long 1 id  result set rs ps execute query  rs next  lab procedure loader load single rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    gets all procedures patient param mid patient id util list of lab procedure beans dbexception list lab procedure bean get all lab procedures date long mid  dbexception connection conn prepared statement ps  mid l  sqlexception  patient mid cannot be conn factory get connection  ps conn prepare statement  select from lab procedure where patient mid order by updated date desc ps set long 1 mid  result set rs ps execute query  lab procedure loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    gets all the procedures particular patient on particular office visit param mid the mid of the patient param ovid the office visit id util list of lab procedure beans dbexception list lab procedure bean get all lab procedures doc ov long mid ovid  dbexception connection conn prepared statement ps  mid l  sqlexception  patient mid cannot be conn factory get connection  ps conn prepare statement  select from lab procedure where patient mid and office visit id order by updated date desc ps set long 1 mid  ps set long 2 ovid  result set rs ps execute query  lab procedure loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    gets all the procedures particular patient on particular office visit param mid the mid of the patient param ovid the office visit id util list of lab procedure beans dbexception list lab procedure bean get all lab procedures doc ov long ovid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from lab procedure where office visit id ps set long 1 ovid  result set rs ps execute query  lab procedure loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    gets all lab procedures period util list of lab procedure beans dbexception list lab procedure bean get all lab procedures  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from lab procedure order by updated date asc result set rs ps execute query  lab procedure loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    gets the lab procedures given lhcp that occur within the next month param ovid the office visit id conducted by the lhcp in question util list of lab procedure beans dbexception list lab procedure bean get lab procedures lhcpfor next month long ovid  dbexception connection conn prepared statement ps  ovid l  sqlexception  office visit id cannot be conn factory get connection  ps conn prepare statement  select from lab procedure where office visit id and status and date diff  sysdate  updated date  30  order by updated date desc ps set long 1 ovid  ps set string 2 lab procedure bean completed  result set rs ps execute query  lab procedure loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    inserts lab procedure into the database param the lab procedure bean to be inserted containing the id of the newly inserted lab procedure bean dbexception add lab procedure  lab procedure bean b  dbexception connection conn prepared statement ps  b get pid  l  sqlexception  patient mid cannot be conn factory get connection  ps conn prepare statement  insert into lab procedure patient mid laboratory procedure code status commentary results office visit id rights  values ps set long 1 get pid   ps set string 2 get loinc   ps set string 3 get status   ps set string 4 get commentary   ps set string 5 get results   ps set long 6 get ov id   ps set string 7 get rights   ps execute update  dbutil get last insert conn  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    updates an existing lab procedure param the lab procedure bean representing the procedure to be updated dbexception update lab procedure  lab procedure bean b  dbexception connection conn prepared statement ps  b get pid  l  sqlexception  patient mid cannot be conn factory get connection  ps conn prepare statement  update lab procedure set status commentary results updated date where laboratory procedure id ps set string 1 get status   ps set string 2 get commentary   ps set string 3 get results   ps set timestamp 4 sql timestamp  system current time millis   ps set long 5 get procedure id   ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    gets all the lab procedures that correspond to particular loinc param id the loinc in question util list of lab procedure beans dbexception list lab procedure bean get all lab procedures loinc long id  dbexception connection conn prepared statement ps  id l  sqlexception  patient mid cannot be conn factory get connection  ps conn prepare statement  select from lab procedure where patient mid order by laboratory procedure code asc ps set long 1 id  result set rs ps execute query  lab procedure loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    updates the rights of user on given lab procedure param the lab procedure bean in question dbexception update rights  lab procedure bean b  dbexception connection conn prepared statement ps  b get pid  l  sqlexception  patient mid cannot be conn factory get connection  ps conn prepare statement  update lab procedure set rights updated date where laboratory procedure id ps set string 1 get rights   ps set timestamp 2 sql timestamp  system current time millis   ps set long 3 get procedure id   ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
/util/transactionLog page edu ncsu csc itrust dao daofactory page util list page edu ncsu csc itrust beans transaction bean html head title testing purposes only title head body h1 test utilities h1 table border tr th date th th id th th type th th user mid th th secondary mid th th extra info th tr list transaction bean list daofactory get production instance  get transaction dao  get all transactions  transaction bean list  tr td get time logged  td td get transaction id  td td get transaction type  get description  td td get logged in mid  td td get secondary mid  td td get added info  td tr table br br h1 href trust back to trust h1 body html
MessageBean edu ncsu csc itrust beans sql timestamp   bean storing data about message from one user to another bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  message bean to from id parent msg id string subject string body timestamp timestamp read   gets the mids of the recipients message get to  to   sets the mids of the recipients message param to set to long to  to to get message id  id set message id long id  id id get parent message id  parent msg id set parent message id long parent msg id  parent msg id parent msg id   gets the mid of the sender message get from  from   sets the mid of the sender message param from set from long from  from from   gets the subject of message string get subject  subject   sets the subject of message param subject set subject  string subject  subject subject   gets the body of message string get body  body   sets the body of message param body set body  string body  body body   gets the time message timestamp get sent date  timestamp   sets the time message param timestamp set sent date  timestamp timestamp  timestamp timestamp   gets read message get read  read   sets read message param read set read int read  read read
/auth/hcp uap/documentOfficeVisit taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util list page edu ncsu csc itrust action add office visit action page edu ncsu csc itrust beans office visit bean include file global jsp page title trust document office visit include file header jsp require patient id first string pid string string session get attribute  pid  pid string pid string length   response send redirect  trust auth get patient id jsp forward hcp uap document office visit jsp add office visit action action add office visit action prod dao pid string  pid action get pid  list office visit bean visits action get all office visits  equals request get parameter  form is filled   ov id action add empty office visit logged in mid value   response send redirect  edit office visit jsp ov id ov id  div align center form action document office visit jsp method post id form main input type hidden name form is filled value br br are you sure you want to document em em office visit action get user name  br br input style font size font weight bold type submit value yes document office visit form br click on an old office visit to modify br for  office visit bean ov visits  href edit office visit jsp ov id ov get id  ov get visit date str  br br br br div itrust patient nav title document office visit include file footer jsp
HCPLinkBean edu ncsu csc itrust beans   mini bean to pass data between view prescription records jsp and report adverse event jsp bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  hcplink bean prescriber mid string drug checked string code is checked  checked set checked boolean checked  checked checked string get code  code set code  string code  code code   the patient mid get prescriber mid  prescriber mid   param id the patients mid set prescriber mid long id  prescriber mid id   the drug the event is being reported string get drug  drug   param drug sets the drug the event is being reported set drug  string drug  drug drug
HospitalBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans hospital bean   loader hospital beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader hospital bean loader bean loader hospital bean list hospital bean load list  result set rs  sqlexception array list hospital bean list array list hospital bean    rs next   list add load single rs  list hospital bean load single  result set rs  sqlexception hospital bean hosp hospital bean  hospital bean hosp hospital bean rs get string  hospital id rs get string  hospital name   hosp prepared statement load parameters  prepared statement ps hospital bean bean  sqlexception illegal state exception  unimplemented
/auth/er/home include file global jsp page title trust er home include file header jsp table cellpadding cellspacing tr td h3 announcements h3 features in trust td tr tr td ul li no more typing in date we now have calendar pop up that makes setting dates incredibly easy li ul td tr tr td h3 notifications h3 td tr table include file footer jsp
HCPDiagnosisBean edu ncsu csc itrust beans util list   bean storing data about the diagnosis given by an hcp bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  hcpdiagnosis bean hcpid string hcpname num patients list medication bean med list list lab procedure bean lab list visit sat treatment sat survey count hcpdiagnosis bean  num patients visit sat treatment sat survey count get hcp  hcpid set hcp long hcp  hcpid hcp string get hcpname  hcpname set hcpname  string name  hcpname name get num patients  num patients inc num patients  num patients list medication bean get med list  med list set med list  list medication bean medlist  med list medlist list lab procedure bean get lab list  lab list set lab list  list lab procedure bean lablist  lab list lablist string get visit satisfaction   visit sat survey count 0  to string double visit sat  double survey count  no results available set visit sat int sat  visit sat sat survey count string get treatment satisfaction   treatment sat survey count 0  to string double treatment sat  double survey count  no results available set treatment sat int sat  treatment sat sat
/footer div div right border id div div div style clear both div div div trust footer style padding left 200px div style left width margin left 25px if  equals  system get property  itrust production trust test navlink href trust util andystestutil jsp test data generator trust test navlink href trust util transaction log jsp transaction log trust test navlink href trust util display database jsp display database trust test navlink href trust util blackbox blackbox jsp black box test plan trust test navlink href trust util show fake emails jsp show fake emails div div style right width text align right margin right 10px trust navlink href mailto nobody itrust com contact trust navlink href trust privacy policy jsp privacy policy trust navlink href http agile csc ncsu edu trust trust v10 div div style clear both div div body html
/auth/patient/calendar page error page auth exception handler jsp page edu ncsu csc itrust action generate calendar action page edu ncsu csc itrust action view office visit action page edu ncsu csc itrust beans appt bean page edu ncsu csc itrust beans office visit bean page edu ncsu csc itrust beans lab procedure bean page edu ncsu csc itrust dao daofactory page util list page sql timestamp page util array list page util hashtable page util calendar include file global jsp page title trust appointment calendar include file header jsp generate calendar action action generate calendar action prod dao logged in mid value   list appt bean send conflicts hashtable integer array list appt bean atable hashtable integer array list office visit bean rtable hashtable integer array list lab procedure bean ptable calendar stuff string months january february march april may june july august september october november december string week days sunday monday tuesday wednesday thursday friday saturday calendar cal calendar get instance  orig day cal get  calendar day  of  month  orig month cal get  calendar month  orig year cal get  calendar year  cal set  calendar day  of  month 1  c month cal get  calendar month  change month from jsp if request get parameter  null  string cur request get parameter  c month integer parse int cur  number format exception nfe  response send redirect  calendar jsp month c month if request get parameter  null  string request get parameter  move move integer parse int m  number format exception nfe  response send redirect  calendar jsp month c month move line to set month directly cal set  calendar month month  month cal get  calendar month  year cal get  calendar year  get first day of month cal set  calendar day  of  month 1  first day of month cal get  calendar day  of  week  get last day and week of month cal add  calendar month 1  cal add  calendar day  of  month  1  last day of month cal get  calendar day  of  month  last week of month cal get  calendar week  of  month  compile appointments month atable action get appts table this month year  send action get send  conflicts action get conflicts  compile office visits month rtable action get office visits table this month year  compile lab procedures month ptable action get lab procedures table this month year  div align center table width tr td style text align left href calendar jsp month  1 last td td style text align center h3 appointments months month year h3 td td style text align right href calendar jsp month next td tr table table id calendar table border 1px style clear both out print  tr for  string week days  out print  th th out print  tr cal day calendar sunday first day of month for int last week of month out print  tr for int if cal day orig day month orig month year orig year  out print  td today div cell out print  td div cell if cal day cal day last day of month  out print  div style right cal day div out print  div blank day div add appointments to calendar if atable contains key cal day  array list appt bean atable get cal day  for  appt bean l  out print  div calendar entry  conflicts conflict get appt type  br name get appt type  cal day href view appt jsp apt read details div add office visits to calendar if rtable contains key cal day  array list office visit bean rtable get cal day  for  office visit bean l  office visit bean ov view office visit action prod dao logged in mid value  get visit id  get office visit  string in  ov get diagnoses  size  0  office visit  ov get diagnoses  get 0  get icdcode  ov get diagnoses  get 0  get description   out print  div calendar entry  ov get diagnoses  size  0  office visit in  br name in cal day href view office visit jsp ov id get visit id  read details div if ov get prescriptions  size  0  string in2 ov get prescriptions  get 0  get medication  get ndcode  ov get prescriptions  get 0  get medication  get description  out print  div calendar entry in2 br name in2 cal day href view prescription information jsp visit id get visit id  pres id ov get prescriptions  get 0  get id  read details div add lab procedures to calendar if ptable contains key cal day  array list lab procedure bean ptable get cal day  for  lab procedure bean l  out print  div calendar entry get loinc  br name get loinc  cal day href view lab proc jsp id get pid  read details div cal day out print  div td out print  tr session set attribute  appts send  table br br div include file footer jsp
HeartDiseaseRisks edu ncsu csc itrust risk edu ncsu csc itrust enums ethnicity african american edu ncsu csc itrust enums ethnicity american indian edu ncsu csc itrust enums ethnicity hispanic util array list util list edu ncsu csc itrust dao daofactory edu ncsu csc itrust enums gender edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception no health records exception edu ncsu csc itrust risk factors age factor edu ncsu csc itrust risk factors cholesterol factor edu ncsu csc itrust risk factors ethnicity factor edu ncsu csc itrust risk factors family history factor edu ncsu csc itrust risk factors gender factor edu ncsu csc itrust risk factors hypertension factor edu ncsu csc itrust risk factors patient risk factor edu ncsu csc itrust risk factors prior diagnosis factor edu ncsu csc itrust risk factors smoking factor edu ncsu csc itrust risk factors weight factor   checks to see the given patient is at risk heart disease details on what each method does see link risk checker author andy heart disease risks risk checker heart disease risks  daofactory factory patient id  dbexception no health records exception super factory patient id  override qualifies disease  override list patient risk factor get disease risk factors  list patient risk factor factors array list patient risk factor   factors add new gender factor patient gender male  factors add new age factor patient 45  factors add new ethnicity factor patient hispanic african american american indian  factors add new weight factor current health record 30  factors add new hypertension factor current health record  factors add new cholesterol factor current health record  factors add new smoking factor factory patient get mid   factors add new prior diagnosis factor factory patient get mid  0  factors add new family history factor factory patient get mid  0  factors override string get name  heart disease
AdverseEventsData edu ncsu csc itrust charts io serializable text parse exception text simple date format util calendar util date util linked list util list util map org jfree data category category dataset org jfree data category category dataset de laures cewolf dataset produce exception de laures cewolf dataset producer de laures cewolf links category item link generator de laures cewolf tooltips category tool tip generator edu ncsu csc itrust beans adverse event bean   handles the data charting in ce wolf jfree chart dataset producer category tool tip generator category item link generator and serializable author jason adverse events data dataset producer category tool tip generator category item link generator serializable   the generated serializable id serial version uid hardcoded months array to make implementation simpler adverse event charts string months jan feb mar apr may june july aug sept oct nov dec initialize the values each month to values will be the list of adverse events list adverse event bean adverse events linked list adverse event bean   will be the name of the prescription or immunization under analysis string code name   called from the jsp page to initialize the list of adverse events needed to produce the desired chart param ad events param name set adverse events list  list adverse event bean ad events string name  adverse events ad events code name name   method parses the list of adverse event beans to initialize the chart dataset suppress warnings  unchecked object produce dataset  map params  dataset produce exception the category dataset is used bar charts dataset may change based on the type of chart you wish to produce category dataset dataset category dataset    the generated serializable id serial version uid  8238489914590553747   see lang object finalize  finalize  throwable finalize  simple date format sdf simple date format  yyyy mm dd hh mm ss each adverse event in the list parse the string repreentation of the report date to date object then get the month of the date object and increment the value count that month for  adverse event bean event adverse events  calendar cal calendar get instance  cal set time sdf parse event get date   parse exception e  print stack trace  dataset produce exception e get message   month of report cal get  calendar month  values month of report each month add the monthly values to the dataset producing the chart for int values represents the number of adverse events month code name represents the given prescription immunization being analyzed month is the array of month names to be used as labels on the chart dataset add value values code name months dataset   producer data is invalidated after seconds by method the producer can influence cewolf caching behaviour the way it wants to suppress warnings  unchecked has expired  map params date since  system current time millis  since get time     returns unique id dataset producer string get producer id  adverse events data dataset producer   returns link target special data item string generate link  object data series object category  months series   see lang object finalize  finalize  throwable finalize    see org jfree chart tooltips category tool tip generator generate tool tip  category dataset int  string generate tool tip  category dataset arg0 series arg2  months series
LoginFailureAction edu ncsu csc itrust action edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql auth dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception   please note that is not the best mitigation denial of service attacks the better way would be to keep track of password failure attempts per user account not with easily spoofable ip addresses the reason feature is implemented with ip addresses is limitation in tomcat authentication  actually it technically jsp fault not specifying form of account lockout  br br all authentication in application is done by the container tomcat  which doesn support account lockout so our options would be  a  to implement our own authentication  yuck or  2  to extend the jdbcrealm in the tomcat source code and add the logic ve looked into and it actually pretty easy the only reason it not implemented here is that the code would be buried in jar in your tomcat installation not very educational those who want to learn about authentication in webapps feel free to change extending would be perfectly acceptable author andy login failure action max  login  attempts auth dao auth dao string ip addr transaction dao transaction dao   set up defaults param factory the daofactory used to create the daos used in action param ip addr the ip address of the user making the login attempt login failure action  daofactory factory string ip addr  auth dao factory get auth dao  ip addr ip addr transaction dao factory get transaction dao    calls auth dao to record the login failure in the database how many login failure attempts or dbexception message string record login failure  auth dao record login failure ip addr  login failures auth dao get login failures ip addr  transaction dao log transaction  transaction type login  failure ip ip addr  login failed attempt login failures dbexception e  print stack trace  get message    checks to see the current user can login failures 3  the user is valid to login is valid login  auth dao get login failures ip addr  dbexception e  system err println  denying access due to dbexception
ViewMyRecordsAction edu ncsu csc itrust action util array list util list edu ncsu csc itrust beans allergy bean edu ncsu csc itrust beans diagnosis bean edu ncsu csc itrust beans email edu ncsu csc itrust beans family member bean edu ncsu csc itrust beans health record edu ncsu csc itrust beans lab procedure bean edu ncsu csc itrust beans office visit bean edu ncsu csc itrust beans patient bean edu ncsu csc itrust beans personnel bean edu ncsu csc itrust beans report request bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql allergy dao edu ncsu csc itrust dao mysql fake email dao edu ncsu csc itrust dao mysql family dao edu ncsu csc itrust dao mysql health records dao edu ncsu csc itrust dao mysql lab procedure dao edu ncsu csc itrust dao mysql office visit dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql report request dao edu ncsu csc itrust dao mysql survey dao edu ncsu csc itrust dao mysql icdcodes dao edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception   handles patients viewing their own records used by view my records jsp author laurenhayward view my records action patient dao patient dao personnel dao personnel dao allergy dao allergy dao family dao family dao health records dao hr dao office visit dao ov dao survey dao survey dao lab procedure dao lab dao fake email dao email dao icdcodes dao icd dao report request dao report request dao logged in mid   set up param factory the daofactory used to create the daos used in action param logged in mid the mid of the person viewing the records view my records action  daofactory factory logged in mid  patient dao factory get patient dao  personnel dao factory get personnel dao  allergy dao factory get allergy dao  family dao factory get family dao  hr dao factory get health records dao  ov dao factory get office visit dao  survey dao factory get survey dao  lab dao factory get lab procedure dao  email dao factory get fake email dao  report request dao factory get report request dao  icd dao factory get icdcodes dao  logged in mid logged in mid   takes the patient representee as param and returns it as the patient represents the input param param input the patient representee mid representee mid as trust exception represent patient  string input  trust exception reppee mid value of input   patient dao represents logged in mid reppee mid  logged in mid reppee mid reppee mid trust exception  you not represent patient reppee mid  number format exception e  trust exception  mid is not number   returns patient bean the currently logged in patient patient bean the currently logged in patient trust exception patient bean get patient  trust exception patient dao get patient logged in mid    returns patient bean the specified mid param mid id of the requested bean patient bean the specified mid trust exception patient bean get patient long mid  trust exception patient dao get patient mid    returns personnel bean the requested mid param mid id of the requested bean personnel bean the requested mid trust exception personnel bean get personnel long mid  trust exception personnel dao get personnel mid    returns patient bean the currently logged in patient patient bean the currently logged in patient trust exception list email get email history  trust exception email dao get emails by person get patient  get email     returns list of allergy beans the currently logged in patient list of allergy beans the currently logged in patient trust exception list allergy bean get allergies  trust exception allergy dao get allergies logged in mid    returns list of parents siblings and children of the currently logged in patient list of family member beans list family member bean get family  trust exception list family member bean fam array list family member bean   list family member bean parents parents family dao get parents logged in mid  fam add all parents  fam add all family dao get siblings logged in mid  fam add all family dao get children logged in mid  dbexception e  trust exception e get message   if parents null  list family member bean grandparents array list family member bean   for  family member bean parent parents  grandparents add all family dao get parents parent get mid   dbexception e  trust exception e get message   fam add all grandparents  for  family member bean gp grandparents  gp set relation  grandparent fam   returns list of parents siblings and grand parents of the currently logged in patient list of family member beans list family member bean get family history  trust exception list family member bean fam array list family member bean   list family member bean parents parents family dao get parents logged in mid  fam add all parents  fam add all family dao get siblings logged in mid  dbexception e  trust exception e get message   if parents null  list family member bean grandparents array list family member bean   for  family member bean parent parents  grandparents add all family dao get parents parent get mid   dbexception e  trust exception e get message   fam add all grandparents  for  family member bean gp grandparents  gp set relation  grandparent fam   returns list of health records the currently logged in patient list of health records the currently logged in patient trust exception list health record get all health records  trust exception hr dao get all health records logged in mid    returns list of health records the specified family member list of health records the specified family member trust exception list health record get family health records long mid  trust exception hr dao get all health records mid    returns list of office visit beans all office visits the currently logged in patient list of office visit beans all office visits the currently logged in patient trust exception list office visit bean get all office visits  trust exception ov dao get all office visits logged in mid    returns complete office visit bean given visit id complete office visit bean given visit id trust exception office visit bean get complete office visit long visit id  trust exception ov dao get office visit visit id    returns list of patient beans of all patients the currently logged in patient represents list of patient beans of all patients the currently logged in patient represents trust exception list patient bean get represented  trust exception patient dao get represented logged in mid    returns list of patient beans of all patients the currently logged in patient represents list of patient beans of all patients the currently logged in patient represents trust exception list patient bean get representing  trust exception patient dao get representing logged in mid    has survey been created office visit param visit id id of the office visit in question the survey has been completed otherwise trust exception is survey completed long visit id  trust exception survey dao is survey completed visit id    returns list of lab procedures list of lab procedures the logged in patient dbexception list lab procedure bean get labs  trust exception lab dao get lab procedures patient logged in mid    returns all the report requests the logged in patient the report requests the logged in patient trust exception list report request bean get report requests  trust exception report request dao get all report requests patient logged in mid    checks to see family members have high blood pressure param member the family member in question the family member has the risk factor otherwise trust exception does family member have high bp  family member bean member  trust exception list health record records hr dao get all health records member get mid   if records size  0  for  health record record records  if record get blood pressure systolic  record get blood pressure diastolic    checks to see family members have high cholesterol param member the family member in question the family member has the risk factor otherwise trust exception does family member have high cholesterol  family member bean member  trust exception list health record records hr dao get all health records member get mid   if records size  0  for  health record record records  if record get cholesterol hdl  record get cholesterol ldl    checks to see family members have diabetes param member the family member in question the family member has the risk factor otherwise trust exception does family member have diabetes  family member bean member  trust exception list diagnosis bean diagnoses patient dao get diagnoses member get mid   if diagnoses size  0  for  diagnosis bean diag diagnoses  if diag get icdcode  starts with     checks to see family members have cancer param member the family member in question the family member has the risk factor otherwise trust exception does family member have cancer  family member bean member  trust exception list diagnosis bean diagnoses patient dao get diagnoses member get mid   if diagnoses size  0  for  diagnosis bean diag diagnoses  if diag get icdcode  starts with     checks to see family members have heart disease param member the family member in question the family member has the risk factor otherwise trust exception does family member have heart disease  family member bean member  trust exception list diagnosis bean diagnoses patient dao get diagnoses member get mid   if diagnoses size  0  for  diagnosis bean diag diagnoses  if diag get icdcode  starts with     checks to see family members smoke param member the family member in question the family member has the risk factor otherwise trust exception is family member smoker  family member bean member  trust exception list health record records hr dao get all health records member get mid   if records size  0  for  health record record records  if record is smoker     checks to see family member is dead and so what their cause of death was param member the family member in question the cause of death the family member trust exception string get family member cod  family member bean member  trust exception patient bean patient patient dao get patient member get mid   if patient get cause of death  null  diagnosis bean diag icd dao get icdcode patient get cause of death   if diag null  diag get description 
/auth/pha/adverseEventDetails page error page auth exception handler jsp page util list page util date page text simple date format page edu ncsu csc itrust action monitor adverse event action page edu ncsu csc itrust beans adverse event bean page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust exception dbexception page edu ncsu csc itrust exception trust exception include file global jsp page title trust adverse event details include file header jsp monitor adverse event action action monitor adverse event action prod dao logged in mid value   if request get parameter  remove null  action remove  integer parse int request get parameter  id   div align center span trust message report successfully removed span div catch  dbexception e  div align center span trust error get message  span div catch i trust exception e  div align center span trust error get message  span div if request get parameter  more info null  action send email  parse long request get parameter  patient mid   would like to know more about your experience with medication div align center span trust message request sent span div catch  dbexception e  div align center span trust error get message  span div list adverse event bean events list adverse event bean  session get attribute  events num string reporter num integer parse int request get parameter  event number   reporter action get name  parse long events get num  get mid   catch  number format exception e  div align center span trust error get message  span div string drug events get num  get drug  events get num  get code  string date events get num  get date  string description events get num  get description  form action adverse event details jsp input type hidden name id value events get num  get id  input type hidden name patient mid value parse long events get num  get mid   reporter div reporter div br session get attribute  prescription immunization div drug div br date div date div br description div style width description div br br input type submit value remove event name remove input type submit value request more information name more info form session remove attribute  events session remove attribute  prescription immunization include file footer jsp
ParameterUtil edu ncsu csc itrust util hash map util map   provides utility method that converts the map from the jsp container to type checked hashmap author andy parameter util   provides utility method that converts the map from the jsp container to type checked hashmap param params map to convert converted map suppress warnings  unchecked hash map string string convert map  map params  hash map string string my map hash map string string   object key params key set   string value   string params get key   value null  my map put key to string  value my map put key to string  null  my map
ViewOfficeVisitAction edu ncsu csc itrust action util list edu ncsu csc itrust action base office visit base action edu ncsu csc itrust beans office visit bean edu ncsu csc itrust beans prescription bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql office visit dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception edu ncsu csc itrust messages   handles viewing the office visits prescriptions and hcp name the given ov id used by view office visit jsp author laurenhayward view office visit action office visit base action office visit dao ov dao personnel dao personnel dao patient dao patient dao   handles validating the logged in mid and ov idstring param factory the daofactory used to create the daos used in action param logged in mid the mid of the person viewing their office visits param ov idstring the unique identifier of the office visit as string trust exception view office visit action  daofactory factory logged in mid string ov idstring  trust exception super factory string value of logged in mid  ov idstring  personnel dao factory get personnel dao  ov dao factory get office visit dao    handles validating the pid string and ov idstring usually used representing patient param factory the daofactory used to create the daos used in action param rep pidstring the mid of the representative viewing the records param ov idstring the unique identifier of the office visit as string trust exception view office visit action  daofactory factory logged in mid string rep pidstring string ov idstring  trust exception super factory rep pidstring ov idstring  personnel dao factory get personnel dao  patient dao factory get patient dao  ov dao factory get office visit dao  check represented logged in mid rep pidstring  check represented long logged in mid string rep pidstring  trust exception repee value of rep pidstring  patient dao represents logged in mid repee  trust exception  messages get string  view office visit action   non nls 1 number format exception e  trust exception  messages get string  view office visit action   non nls 1   returns the office visit as an office visit bean the ov id that was initially passed to the constructor the office visit bean the ov id trust exception office visit bean get office visit  trust exception ov dao get office visit ov id    returns the prescriptions associated with the ov id initially passed to the constructor list of prescription beans the ov id dbexception list prescription bean get prescriptions  dbexception ov dao get prescriptions ov id    returns the name of the hcp the hcp id passed as param param hcp id the name of the hcp trust exception string get hcpname long hcp id  trust exception string name name personnel dao get name hcp id   i trust exception e  print stack trace  name get message  name
/auth/tester/home page edu ncsu csc itrust enums transaction type page edu ncsu csc itrust beans operational profile page text number format include file global jsp page title trust tester home include file header jsp div style text align center h1 operational profile h1 operational profile op prod dao get transaction dao  get operational profile  number format formatter number format get percent instance  table fancy table align center border cellpadding cellspacing tr th operation th th colspan total th th colspan patients only th th colspan personnel only th tr transaction type type transaction type values   tr  i 0  alt td align left type get description  td td align center op get total count  get type  td td align center formatter format double op get total count  get type  op get num total transactions   td td align center op get patient count  get type  td td align center formatter format double op get patient count  get type  op get num patient transactions   td td align center op get personnel count  get type  td td align center formatter format double op get personnel count  get type  op get num personnel transactions   td tr tr td totals td td colspan align center op get num total transactions  td td colspan align center op get num patient transactions  td td colspan align center op get num personnel transactions  td tr table div exception e  span exception occurred span br get message  print stack trace  include file footer jsp
/auth/patient/viewExpiredPrescriptionRecords taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util list page edu ncsu csc itrust action view expired prescriptions action page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust beans prescription bean page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust dao mysql patient dao include file global jsp page title trust get my expired prescription reports include file header jsp patient bean patient patient dao prod dao  get patient logged in mid value   view expired prescriptions action exp action view expired prescriptions action prod dao logged in mid value   list personnel bean personnel list prod dao get personnel dao  get all personnel  session set attribute  personnel list personnel list  div align center br table table list prescription bean prescriptions exp action get prescriptions patient logged in mid value    prescriptions size  0  tr td colspan no prescriptions found td tr tr th colspan patient get full name  th tr tr sub header td nd code td td description td td duration td td prescribing hcp td tr prescription bean prescription prescriptions  personnel bean doctor exp action get prescribing doctor prescription  tr td href view prescription information jsp visit id prescription get visit id  pres id prescription get id  prescription get medication  get ndcode formatted  td td prescription get medication  get description  td td prescription get start date str  to prescription get end date str  td td href view lhcp jsp index doctor get index in personnel list  doctor get full name  td tr table br div include file footer jsp
/auth/hcp uap/viewMyReportRequests taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util array list page util list page edu ncsu csc itrust beans report request bean page edu ncsu csc itrust action view my report requests action page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust dao mysql patient dao page edu ncsu csc itrust dao mysql personnel dao include file global jsp page title trust view my report requests include file header jsp patient dao patient dao patient dao prod dao  personnel dao personnel dao personnel dao prod dao  view my report requests action action view my report requests action prod dao logged in mid value   string pid string string session get attribute  pid  null pid string equals pid string  session set attribute  pid null  patient mid parse long pid string  id action add report request patient mid  span report request accepted span exception e  span get message  span session remove attribute  pid list report request bean list action get all report requests requester  br br table table align center tr th colspan report requests th tr tr sub header td id td td patient td td requested date td td viewed date td td status td td action td tr list patient bean patients array list patient bean   patient bean patient personnel bean personnel index report request bean bean list  patient patient dao get patient bean get patient mid   patients add patient  tr td bean get id  td td patient get full name  td td bean get requested date string  td td bean get viewed date string  td td bean get status  td td href view report jsp patient index request id bean get id  view td tr index session set attribute  patients patients  table br href trust auth get patient id jsp forward hcp uap view my report requests jsp add report request include file footer jsp
/auth/pha/menu div menu category span view span br href trust auth pha monitor adverse events jsp monitor adverse events br div
GenerateCalendarAction edu ncsu csc itrust action edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception trust exception edu ncsu csc itrust action edit appt type action edu ncsu csc itrust action view my appts action edu ncsu csc itrust action view my records action edu ncsu csc itrust beans appt bean edu ncsu csc itrust beans office visit bean edu ncsu csc itrust beans lab procedure bean util list sql sqlexception sql timestamp util array list util hashtable util calendar   action calendar jsp author software engineering team project zephyr generate calendar action view my appts action a action edit appt type action types view my records action r action list appt bean send   set up defaults param factory the daofactory used to create the daos used in action param logged in mid the mid of the user who is viewing the calendar generate calendar action  daofactory factory logged in mid  a action view my appts action factory logged in mid  types edit appt type action factory logged in mid  r action view my records action factory logged in mid  send array list appt bean     the send request an appointment bean the send request an appointment bean list appt bean get send  send   check appointments appearing on the calendar conflicts with other appointments on the calendar the array from method is used to determine what appointments will appear in bold on the calendar an array of items that are in conflict with other items sqlexception get conflicts  sqlexception conflicts send size  for int send size  appt bean ab send get i  ab get date  get time  types get duration by type ab get appt type   timestamp time timestamp t m  for int send size  if send get j  get date  before time  conflicts conflicts conflicts   creates hash table with all of the appointments to be displayed on the calendar the month and year being viewed param month the month of the calendar to be rendered param year the year of the calendar to be rendered hashtable containing the appointment beans to be rendered sqlexception hashtable integer array list appt bean get appts table int month year  sqlexception list appt bean appts a action get my appointments  hashtable integer array list appt bean atable hashtable integer array list appt bean   calendar calendar get instance  for  appt bean appts  set time in millis b get date  get time   if a get  calendar month  month get  calendar year  year  if  atable contains key a get  calendar day  of  month  atable put a get  calendar day  of  month  array list appt bean    array list appt bean atable get a get  calendar day  of  month  add b  send add b  atable put a get  calendar day  of  month  l  atable   creates hash table with all of the office visits to be displayed on the calendar the month and year being viewed param month the month of the calendar to be rendered param year the year of the calendar to be rendered hashtable containing the office visit beans to be rendered sqlexception hashtable integer array list office visit bean get office visits table int month year  trust exception list office visit bean office visits r action get all office visits  hashtable integer array list office visit bean rtable hashtable integer array list office visit bean   calendar calendar get instance  for  office visit bean office visits  set time in millis b get visit date  get time   if a get  calendar month  month get  calendar year  year  if  rtable contains key a get  calendar day  of  month  rtable put a get  calendar day  of  month  array list office visit bean    array list office visit bean rtable get a get  calendar day  of  month  add b  rtable put a get  calendar day  of  month  l  rtable   creates hash table with all of the lab procedures to be displayed on the calendar the month and year being viewed param month the month of the calendar to be rendered param year the year of the calendar to be rendered hashtable containing the lab procedure beans to be rendered sqlexception hashtable integer array list lab procedure bean get lab procedures table int month year  trust exception list lab procedure bean procs r action get labs  hashtable integer array list lab procedure bean ptable hashtable integer array list lab procedure bean   calendar calendar get instance  for  lab procedure bean procs  set time in millis b get timestamp  get time   if a get  calendar month  month get  calendar year  year  if  ptable contains key a get  calendar day  of  month  ptable put a get  calendar day  of  month  array list lab procedure bean    array list lab procedure bean ptable get a get  calendar day  of  month  add b  ptable put a get  calendar day  of  month  l  ptable
ICDCodesDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans diagnosis bean edu ncsu csc itrust beans loaders diagnosis bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception   used managing all icd codes dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos the international statistical classification of diseases and related health problems  most commonly known by the abbreviation icd  provides codes to classify diseases and wide variety of signs symptoms abnormal findings complaints social circumstances and external causes of injury or disease see http www cdc gov nchs icd9 htm author andy icdcodes dao daofactory factory diagnosis bean loader diagnosis loader diagnosis bean loader    the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc icdcodes dao  daofactory factory  factory factory   returns all icd9 cm codes sorted by code util list of diagnosis beans dbexception list diagnosis bean get all icdcodes  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from icdcodes order by code result set rs ps execute query  diagnosis loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns particular description given code param code the string representation of the code diagnosis bean of the code dbexception diagnosis bean get icdcode  string code  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from icdcodes where code ps set string 1 code  result set rs ps execute query   rs next   diagnosis loader load single rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    adds an icd9 cm code returns whether or not the change was made param diag the diagnosis bean representing the changes indicating success dbexception trust exception add icdcode  diagnosis bean diag  dbexception trust exception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into icdcodes code description chronic  values ps set string 1 diag get icdcode   ps set string 2 diag get description   ps set string 3 diag get classification    1 ps execute update   sqlexception e  print stack trace   1062 get error code   trust exception  error code already exists dbexception e  dbutil close connection conn ps    changes the description of particular code param diag diagnosis bean representing the changes indicating the number of updated rows dbexception update code  diagnosis bean diag  dbexception rows connection conn prepared statement ps conn factory get connection  ps conn prepare statement  update icdcodes set description chronic where code ps set string 1 diag get description   ps set string 2 diag get classification   ps set string 3 diag get icdcode   rows ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  rows
AddApptAction edu ncsu csc itrust action sql sqlexception sql timestamp edu ncsu csc itrust beans appt bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql appt dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate appt bean validator add appt action logged in mid appt dao appt dao transaction dao trans dao patient dao patient dao personnel dao personnel dao appt bean validator validator appt bean validator  add appt action  daofactory factory logged in mid  logged in mid logged in mid appt dao factory get appt dao  trans dao factory get transaction dao  patient dao factory get patient dao  personnel dao factory get personnel dao  string add appt  appt bean appt  form validation exception sqlexception validator validate appt  if appt get date  before new timestamp  system current time millis   the scheduled date of appointment appt get date  has already passed appt dao schedule appt appt  trans dao log transaction  transaction type add  appt logged in mid added appointment appt get appt type   success appt get appt type  appt get date  added dbexception e  print stack trace  get message    gets users name from their mid param mid the mid of the user the user name trust exception string get name long mid  trust exception if mid l  patient dao get name mid  personnel dao get name mid 
LOINCbean edu ncsu csc itrust beans   bean storing data about lab procedure codes bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  loincbean string lab procedure code string component string kind of property string time aspect string system string scale type string method type loincbean  string get lab procedure code  lab procedure code set lab procedure code  string lab procedure code  lab procedure code lab procedure code string get component  component set component  string component  component component string get kind of property  kind of property set kind of property  string kind of property  kind of property kind of property string get time aspect  time aspect set time aspect  string time aspect  time aspect time aspect string get system  system set system  string system  system system string get scale type  scale type set scale type  string scale type  scale type scale type string get method type  method type set method type  string method type  method type method type
ViewPrescriptionRenewalNeedsAction edu ncsu csc itrust action util list edu ncsu csc itrust beans patient bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust messages action returns list of patients with special diagnosis history who have the logged in hcp as dhcp and whose medications are going to expire within seven days view prescription renewal needs action patient dao patient dao transaction dao trans dao logged in mid   set up defaults param factory the daofactory used to create the daos used in action param logged in mid the mid of the person viewing the prescription renewals view prescription renewal needs action  daofactory factory logged in mid  patient dao factory get patient dao  trans dao factory get transaction dao  logged in mid logged in mid   uses patient dao as helper to list of patients with special diagnosis history who have the logged in hcp as dhcp and whose medications are going to expire within seven days list of patient bean list patient bean get renewal needs patients  trans dao log transaction  transaction type view  renewal  needs  patients logged in mid logged in mid messages get string  view prescription renewal needs action   non nls 1 patient dao get renewal needs patients logged in mid  dbexception e  system out println  messages get string  view prescription renewal needs action   non nls 1 system out println e 
DeclareHCPAction edu ncsu csc itrust action util list edu ncsu csc itrust beans personnel bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql auth dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums role edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception trust exception   used by the patient to declare hcps as designated in edit hcps jsp author andy meneely declare hcpaction transaction dao trans dao patient dao patient dao auth dao auth dao logged in mid   sets up defaults param factory the dao factory to be used generating the daos action param logged in mid patient author andy meneely declare hcpaction  daofactory factory logged in mid  logged in mid logged in mid trans dao factory get transaction dao  patient dao factory get patient dao  auth dao factory get auth dao    lists the declared hcps current patient returns list of the declared hcps trust exception author andy meneely list personnel bean get declared hcps  trust exception patient dao get declared hcps logged in mid    validate an hcp mid and declare them possible param hcp str the mid of an hcp to declare status message trust exception author andy meneely string declare hcp  string hcp str  trust exception hcp id value of hcp str   auth dao get user role hcp id  role hcp  trust exception  user is not licensed healthcare professional confirm patient dao declare hcp logged in mid hcp id   confirm  trans dao log transaction  transaction type declare  hcp logged in mid hcp id patient declared hcp hcp successfully declared hcp not declared number format exception e  trust exception  hcp mid not number   validate an hcp mid and undeclare them possible param input the mid of an hcp to undeclare trust exception author andy meneely string undeclare hcp  string input  trust exception hcp id value of input  confirm patient dao undeclare hcp logged in mid hcp id   confirm  trans dao log transaction  transaction type declare  hcp logged in mid hcp id patient undeclared hcp hcp successfully undeclared hcp not undeclared number format exception e  trust exception  hcp mid not number
VisitReminderReturnForm edu ncsu csc itrust beans forms util array list edu ncsu csc itrust beans visit flag   form to contain data coming from reminding user about an upcoming office visit form is bean kinda you could say that it form of bean think of form as real life administrative form that you would fill out to get something done not necessarily making sense by itself visit reminder form hcp id patient id string last name string first name string phone number array list visit flag visit flags visit reminder form long hcp id patient id string last name string first name string phone1 string phone2 string phone3  hcp id hcp id patient id patient id last name last name first name first name set phone number phone1 phone2 phone3  get hcp id  hcp id set hcp id long hcp id  hcp id hcp id get patient id  patient id set patient id long patient id  patient id patient id string get last name  last name set last name  string last name  last name last name string get first name  first name set first name  string first name  first name first name string get phone number  phone number set phone number  string phone1 string phone2 string phone3  phone number phone1 phone2 phone3 visit flag get visit flags  visit flags to array new visit flag visit flags size  set visit flags  visit flag visit flags  visit flags array list visit flag   visit flag flag visit flags  visit flags add flag  add visit flag  visit flag flag   null visit flags  visit flags array list visit flag   visit flags add flag 
/auth/patient/viewPrescriptionRecords taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util list page edu ncsu csc itrust action view prescription records action page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust beans hcplink bean page edu ncsu csc itrust beans prescription bean page edu ncsu csc itrust exception form validation exception page util array list page util date page edu ncsu csc itrust dao mysql patient dao include file global jsp page title trust get my prescription report include file header jsp list hcplink bean link list array list hcplink bean   patient bean patient patient dao prod dao  get patient logged in mid value   view prescription records action action view prescription records action prod dao logged in mid value   list patient bean representees action get representees  show mine show other ad event show adverse button  request get parameter  mine request get parameter  mine equals  view current   show mine  request get parameter  other request get parameter  other equals  view   show other  request get parameter  representee request get parameter  representee equals   1   show other  request get parameter  adevent request get parameter  adevent equals  report adverse events   ad event check one checked for int  null request get parameter  checking i  request get parameter  checking i  to lower case  equals   check one checked list hcplink bean list hcplink bean session get attribute  beanlist for  hcplink bean l  if check 1  set checked true  set checked false  session set attribute  beanlist l  if one checked  response send redirect  report adverse event jsp prescriptions yes div align center span trust error must report on at least one prescription span div div align center form action view prescription records jsp method post table tr td span style font size 24px font weight bold view my own prescriptions span td td input type submit name mine value view current input td tr tr td span style font size 24px font weight bold view other prescriptions span td  representees size  0  td select name representee option value  1 option index patient bean representee representees  option value index representee get full name  option index select input type submit name other value view input td td you are not anyone representative td tr table form br table table  show mine  list prescription bean prescriptions action get prescriptions patient logged in mid value    prescriptions size  0  tr td colspan no prescriptions found td tr tr th colspan patient get full name  th tr tr sub header td nd code td td description td td duration td td prescribing hcp td td report adverse event n  td tr show adverse button prescription bean prescription prescriptions  date date date  date set year date get year  1  if prescription get end date  after date  tr td href view prescription information jsp visit id prescription get visit id  pres id prescription get id  prescription get medication  get ndcode formatted  td td prescription get medication  get description  td td prescription get start date str  to prescription get end date str  td td action get prescribing doctor prescription  get full name  td hcplink bean hlbean hcplink bean  hlbean set prescriber mid action get prescribing doctor prescription  get mid   hlbean set drug prescription get medication  get description   hlbean set code prescription get medication  get ndcode   link list add  hlbean  td form action view prescription records jsp method post input name checking type text value size maxlength input td tr  show other  patient bean representee representees get  integer parse int request get parameter  representee   tr th colspan representee get full name  th tr list prescription bean prescriptions action get prescriptions patient representee get mid    prescriptions size  0  tr td colspan no prescriptions found td tr tr sub header td nd code td td description td td duration td td prescribing hcp td tr prescription bean prescription prescriptions  tr td prescription get medication  get ndcode formatted  td td prescription get medication  get description  td td prescription get start date str  to prescription get end date str  td td action get prescribing doctor prescription  get full name  td tr table br  show mine show adverse button  session set attribute  beanlist link list  input type submit name adevent value report adverse events input form div include file footer jsp
AddPatientValidator edu ncsu csc itrust validate edu ncsu csc itrust action add patient action edu ncsu csc itrust beans patient bean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception   the validator used by link add patient action only checks first name last name and email author andy add patient validator bean validator patient bean   the constructor add patient validator    performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated override validate  patient bean p  form validation exception error list error list error list  error list add not null check format  first name get first name  validation format name false  error list add not null check format  last name get last name  validation format name false  error list add not null check format  email get email  validation format email false   error list has errors   form validation exception error list 
GetVisitRemindersAction edu ncsu csc itrust action util array list util hash map util list util calendar edu ncsu csc itrust beans forms visit reminder form edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust dao mysql visit reminders dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust beans procedure bean edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust beans visit flag edu ncsu csc itrust beans patient bean edu ncsu csc itrust enums gender   gets the visit reminders given patient used by visit reminders jsp author laurenhayward get visit reminders action   reminder type enumeration reminder type diagnosed  care  needers  diagnosed care needers flu  shot  needers  flu shot needers immunization  needers  immunization needers string type name reminder type  string type name  type name type name hash map string reminder type map hash map string reminder type   reminder type rt reminder type values   map put rt get type name  rt    gets the reminder type the name passed as param param name the reminder type associated with the name reminder type get reminder type  string name  map get name    returns the type name as string string get type name  type name   begin get visit reminders action code transaction dao trans dao visit reminders dao visit reminder dao patient dao patient dao logged in mid   set up defaults param factory the daofactory used to create the daos used in action param logged in mid mid of the person who is logged in trust exception get visit reminders action  daofactory factory logged in mid  trust exception trans dao factory get transaction dao  logged in mid logged in mid visit reminder dao factory get visit reminders dao  patient dao factory get patient dao    returns list of visit reminder forms the type passed in as param param type the reminder type the list of visit reminder forms trust exception form validation exception list visit reminder form get visit reminders  reminder type type  trust exception form validation exception  null type  trust exception  reminder type dne trans dao log transaction  transaction type patient  reminders logged in mid 0l type get type name    type  diagnosed  care  needers strip dupes visit reminder dao get diagnosed visit needers logged in mid  flu  shot  needers visit reminder dao get flu shot delinquents logged in mid  immunization  needers get immunization needers logged in mid  trust exception  reminder type dne   gets list of anyone who need immunizations param mid the hcp whose patients are being checked list of all the people who need immunizations  done in visit reminder trust exception list visit reminder form get immunization needers long mid  trust exception list visit reminder form form list list visit reminder form need list array list visit reminder form   string reason get list of patients that designate hcp form list visit reminder dao get patients mid  visit reminder form form list  reason check immunizations r get patient id    0 reason length   need list add r  add visit flag new visit flag  visit flag immunization reason  need list   checks patient to see what immunizations they need param pid patient to be checked patient list of those lacking immunizations according to the schedule string check immunizations long pid  trust exception string reason list procedure bean procs patient dao get procedures pid  patient bean patient patient dao get patient pid  patient age patient get age in weeks  gender gen patient get gender  hep hep btime rota rota time diptet deptet time haemoflu haemoflu time haemoflu time first pneumo pneumo time pneumoflu time first polio polio time measles measles time varicella varicella time hep hep atime hpv hpv time procedure bean proc procs  string cpt proc get cptcode  hep  90371   cpt equals   hep hep btime proc get date  get time  rotavirus  90681   cpt equals   rota rota time proc get date  get time  diptheria tetanus pertussis  90696   cpt equals   diptet deptet time proc get date  get time  haemophilus influenza  90645   cpt equals    0 haemoflu  haemoflu time first proc get date  get time  haemoflu haemoflu time proc get date  get time  pneumococcal  90669   cpt equals    0 pneumo  pneumoflu time first proc get date  get time  pneumo pneumo time proc get date  get time  poliovirus  90712   cpt equals   polio polio time proc get date  get time  measles mumps rubella  90707   cpt equals   measles measles time proc get date  get time  varicella  90396   cpt equals   varicella varicella time proc get date  get time  hep  90633   cpt equals   hep hep atime proc get date  get time  human papillomaavirus  90649   cpt equals   hpv hpv time proc get date  get time   3 hep b  reason test hep b hep patient age hep btime   3 rota  reason test rota virus rota patient age rota time   6 diptet  reason test dip tet diptet patient age deptet time   3 haemoflu  reason test haemo flu haemoflu patient age haemoflu time haemoflu time first   4 pneumo  reason test pneumo pneumo patient age pneumo time pneumoflu time first   3 polio  reason test polio polio patient age polio time   2 measles  reason test measles measles patient age measles time   2 varicella  reason test varicella varicella patient age varicella time   2 hep a  reason test hep a hep patient age hep atime   3 hpv gen get name  equals  female   reason test hpv hpv patient age hpv time  reason   checks to see patient needs the hpv immunization param count which immunization they are on param patient age how old the patient is param time what the date is when the immunization should be given string test hpv int count patient age time  string reason weeks calendar get instance  get time in millis  time   1000 7   0 count   468 patient age  reason human papillomavirus  9 years   1 count   476 patient age weeks  reason human papillomavirus  9 years months   2 count   494 patient age weeks  reason human papillomavirus  9 years months  reason   checks to see patient needs the hepatits immunization param count which immunization they are on param patient age how old the patient is param time what the current date is when the immunization should be given string test hep a int count patient age time  string reason weeks calendar get instance  get time in millis  time   1000 7   0 count   52 patient age  reason hepatits  12 months   1 count   78 patient age weeks  reason hepatits  18 months  reason   checks to see patient needs the varicella immunization param count which immunization they are on param patient age how old the patient is param time what the current date is when the immunization should be given string test varicella int count patient age time  string reason weeks calendar get instance  get time in millis  time   1000 7   0 count   52 patient age  reason varicella  12 months   1 count   208 patient age weeks  reason varicella  4 years  reason   checks to see patient needs the measles mumps and rubekka immunization param count which immunization they are on param patient age how old the patient is param time what the current date is when the immunization should be given string test measles int count patient age time  string reason weeks calendar get instance  get time in millis  time   1000 7   0 count   52 patient age  reason measles mumps rubekka  12 months   1 count   208 patient age weeks  reason measles mumps rubekka  4 years  reason   checks to see patient needs the polio immunization param count which immunization they are on param patient age how old the patient is param time what the current date is when the immunization should be given string test polio int count patient age time  string reason weeks calendar get instance  get time in millis  time   1000 7   0 count   6 patient age  reason poliovirus  6 weeks   1 count   16 patient age weeks  reason poliovirus  4 months   2 count   26 patient age  reason poliovirus  6 months  reason   checks to see patient needs the pneumococcal immunization param count which immunization they are on param patient age how old the patient is param time what the current date is when the immunization should be given string test pneumo int count patient age time first dose time  string reason weeks calendar get instance  get time in millis  time   1000 7  age first patient age  first dose time  1000 7   0 count   6 patient age  reason pneumococcal  6 weeks   1 count   16 patient age age first weeks  reason pneumococcal  4 months   16 patient age age first age first weeks  reason pneumococcal  4 months   2 count   26 patient age weeks age first  reason pneumococcal  6 months   3 count   52 patient age weeks age first  reason pneumococcal  12 months  reason   checks to see patient needs the haemophilus infulenzae immunization param count which immunization they are on param patient age how old the patient is param time what the current date is when the immunization should be given string test haemo flu int count patient age time first dose time  string reason weeks calendar get instance  get time in millis  time   1000 7  age first patient age  first dose time  1000 7   0 count   6 patient age  reason haemophilus influenzae  6 weeks   1 count   16 patient age age first weeks  reason haemophilus influenzae  4 months   16 patient age age first age first weeks  reason haemophilus influenzae  4 months   2 count   26 patient age weeks age first  reason haemophilus influenzae  6 months  reason   checks to see patient needs the diphtheria tetanus pertussis immunization param count which immunization they are on param patient age how old the patient is param time what the current date is when the immunization should be given string test dip tet int count patient age time  string reason weeks calendar get instance  get time in millis  time   1000 7   0 count   6 patient age  reason diphtheria tetanus pertussis  6 weeks   1 count   16 patient age weeks reason diphtheria tetanus pertussis  4 months   2 count   26 patient age weeks  reason diphtheria tetanus pertussis  6 months   3 count   15 patient age weeks  reason diphtheria tetanus pertussis  15 weeks   4 count   208 patient age weeks  reason diphtheria tetanus pertussis  4 years   5 count   572 patient age weeks  reason diphtheria tetanus pertussis  11 years  reason   checks to see patient needs the rotavirus immunization param count which immunization they are on param patient age how old the patient is param time what the current date is when the immunization should be given string test rota virus int count patient age time  string reason weeks calendar get instance  get time in millis  time   1000 7   0 count   6 patient age  reason rotavirus  6 weeks   1 count   16 patient age weeks  reason rotavirus  4 months   2 count   26 patient age weeks reason rotavirus  6 months  reason   checks to see patient needs the hepatitis immunization param count which immunization they are on param patient age how old the patient is param time what the current date is when the immunization should be given string test hep b int count patient age time  string reason weeks calendar get instance  get time in millis  time   1000 7   0 count   0 patient age  reason hepatitis  birth   1 count   4 patient age weeks  reason hepatitis  1 month   2 count   26 patient age weeks  reason hepatitis  6 months  reason   removes duplicates from list of visit reminder forms param patients list of visit remindersto be cleaned up cleaned up list of visit reminders list visit reminder form strip dupes  list visit reminder form patients   null patients   0 patients size   patients list visit reminder form ret patients array list visit reminder form   visit reminder form temp patients get 0  ret patients add temp  visit reminder form vr patients   vr get patient id  temp get patient id   ret patients add vr  temp vr ret patients
FamilyBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans family member bean   loader family member beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader family bean loader bean loader family member bean string relation family bean loader  string relation  relation relation list family member bean load list  result set rs  sqlexception array list family member bean list array list family member bean    rs next   list add load single rs  list prepared statement load parameters  prepared statement ps family member bean bean  sqlexception illegal state exception  unimplemented family member bean load single  result set rs  sqlexception family member bean fam family member bean  fam set relation relation  fam set first name rs get string  first name   fam set last name rs get string  last name   fam set mid rs get int  mid   fam
DiagnosisBeanValidator edu ncsu csc itrust validate edu ncsu csc itrust beans diagnosis bean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception   validates an icd9 cm code author andy diagnosis bean validator bean validator diagnosis bean   the constructor diagnosis bean validator    performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated override validate  diagnosis bean d  form validation exception error list error list error list  error list add not null check format  icd9 cm code get icdcode  validation format icd9 cm false  error list add not null check format  description get description  validation format icd  code  description false   error list has errors   form validation exception error list 
/auth/patient/viewMessageInbox page error page auth exception handler jsp page edu ncsu csc itrust action view my messages action page edu ncsu csc itrust beans message bean page util list include file global jsp page title trust view message include file header jsp view my messages action action view my messages action prod dao logged in mid value   message bean original  request get parameter  msg null  string msg parameter request get parameter  msg msg index msg index integer parse int msg parameter  number format exception nfe  response send redirect  message inbox jsp list message bean messages  session get attribute  messages null  messages list message bean session get attribute  messages if msg index messages size  msg index 0  msg index response send redirect  oops jsp response send redirect  message inbox jsp original message bean messages get msg index  action set read original  session set attribute  message original  response send redirect  message inbox jsp div table width style background color dddddd tr td from action get name original get from   td tr tr td subject original get subject  td tr tr td date amp time original get sent date  td tr table div table tr td colspan href reply jsp style font size 18px reply td tr tr td colspan message td tr tr td colspan original get body  td tr table include file footer jsp
/auth/admin/hospitalAssignments taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page edu ncsu csc itrust html encoder page edu ncsu csc itrust beans hospital bean page edu ncsu csc itrust action manage hospital assignments action page util list page net urlencoder include file global jsp page title trust hospital staffing assignments include file header jsp string pid string string session get attribute  mid require personnel id first  null pid string equals pid string  response send redirect  get personnel id jsp forward admin hospital assignments jsp session remove attribute  mid bad patient id gets you booted to error page manage hospital assignments action hos assign manager manage hospital assignments action prod dao logged in mid value   pid hos assign manager check hcpid pid string  now take care of updating information string action  null request get parameter  action   action request get parameter  action  action equals  assgn   hos assign manager assign hcpto hospital pid request get parameter  id   span hcp has been assigned request get parameter  id br span  action equals  unass   hos assign manager remove hcpassignment to hospital pid request get parameter  id   span hcp has been unassigned request get parameter  id br span br div align center table tr td valign top table table tr th colspan assigned hospitals th tr tr sub header th hospital id th th hospital name th th assignment th tr list hospital bean assigned list hos assign manager get assigned hospitals pid string  string temp id string temp name string escaped name hospital bean assigned assigned list  temp id assigned get hospital id  temp name assigned get hospital name  escaped name urlencoder encode temp name utf 8 replace all  tr td temp id td td html encoder encode temp name  td td href hospital assignments jsp pid pid string id temp id action unass unassign td tr table td td valign top table table tr th colspan available hospitals th tr tr sub header th hospital id th th hospital name th th assignment th tr list hospital bean available list hos assign manager get available hospitals pid string  temp id temp name escaped name hospital bean assigned available list  temp id assigned get hospital id  temp name assigned get hospital name  escaped name urlencoder encode temp name utf 8 replace all  tr td temp id td td html encoder encode temp name  td td href hospital assignments jsp pid pid string id temp id action assgn assign td tr table td tr table div br include file footer jsp
/util/displayWikiDatabase page sql page edu ncsu csc itrust dao daofactory html head title display database title style type text css body margin 4px font family arial font size 8em results border collapse collapse results tr th font size 9em padding 0px 5px 0px 5px background color navy color white results tr td font size 8em padding 0px 5px 0px 5px results tr th results tr td border 1px solid gray style head body href trust back to trust href display database jsp view html format h2 testing purposes only h2 connection conn daofactory get production instance  get connection  result set table rs conn create statement  execute query  show tables while table rs next   string table name table rs get string 1  result set rs conn create statement  execute query  select from table name  num col rs get meta data  get column count  table name br for int num col rs get meta data  get column name i  while rs next   br for int num col string data rs get string i  if data data equals   data data catch  sqlexception e   error in date might be empty br br conn close  body html
ViewMyAccessLogAction edu ncsu csc itrust action text parse exception text simple date format util date util list edu ncsu csc itrust beans transaction bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception   handles retrieving the log of record accesses given user used by view access log jsp author laurenhayward view my access log action transaction dao trans dao logged in mid   set up param factory the daofactory used to create the daos used in action param logged in mid the mid of the person retrieving the logs view my access log action  daofactory factory logged in mid  logged in mid logged in mid trans dao factory get transaction dao    returns list of transaction beans between the two dates passed as params param lower date the first date param upper date the second date list of transaction beans dbexception form validation exception list transaction bean get accesses  string lower date string upper date get by role  dbexception form validation exception list transaction bean accesses  lower date upper date null  trans dao get all record accesses logged in mid get by role  string message date lower simple date format  mm dd yyyy parse lower date  date upper simple date format  mm dd yyyy parse upper date   lower after upper  form validation exception  start date must be before end date message dates between lower date and upper date trans dao log transaction  transaction type view  access  log logged in mid message  accesses trans dao get record accesses logged in mid lower upper get by role  parse exception e  form validation exception  enter dates in mm dd yyyy accesses   returns the date of the first transaction in the list passed as param the list is not empty otherwise returns today date param accesses util list of transaction beans the accesses string representing the date of the first transaction string get start  list transaction bean accesses  string start date  accesses size  0  start date simple date format  mm dd yyyy format new date accesses get accesses size  1  get time logged  get time   start date simple date format  mm dd yyyy format new date   start date   returns the date of the last transaction in the list passed as param the list is not empty otherwise returns today date param accesses util list of transaction beans storing the access string representation of the date of the last transaction string get end  list transaction bean accesses  string end date  accesses size  0  end date simple date format  mm dd yyyy format new date accesses get 0  get time logged  get time   end date simple date format  mm dd yyyy format new date   end date
MedicationBeanValidator edu ncsu csc itrust validate edu ncsu csc itrust action update ndcode list action edu ncsu csc itrust beans medication bean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception   validates nd code beans from link update ndcode list action author andy medication bean validator bean validator medication bean   the constructor medication bean validator    performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated override validate  medication bean m  form validation exception error list error list error list  error list add not null check format  nd code get ndcode  validation format nd false  error list add not null check format  description get description  validation format nd  code  description false   error list has errors   form validation exception error list 
StateSelect edu ncsu csc itrust tags io ioexception javax servlet jsp jsp exception javax servlet jsp jsp writer javax servlet jsp page context javax servlet jsp tagext tag edu ncsu csc itrust enums state   jsp tag that adds an html select states from the see link state also selects the current state author andy state select tag page context page context tag parent string name string value state select  super  start tag  jsp exception jsp writer out page context get out  out write  select name get name   name equals name  out write  option value select state option state state state values   string selected state to string  equals get value   selected selected out write  option value state to string  selected state get name  option out write  select ioexception e  print stack trace  skip  body end tag  jsp exception skip  body release  set page context  page context page context  page context page context set parent  tag parent  parent parent tag get parent  parent string get name  name set name  string name  name name string get value  value set value  string value  value value
EmergencyReportAction edu ncsu csc itrust action util array list util list util calendar edu ncsu csc itrust action base patient base action edu ncsu csc itrust beans allergy bean edu ncsu csc itrust beans diagnosis bean edu ncsu csc itrust beans email edu ncsu csc itrust beans patient bean edu ncsu csc itrust beans prescription bean edu ncsu csc itrust beans office visit bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql allergy dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust dao mysql office visit dao edu ncsu csc itrust enums prescription alerts edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception edu ncsu csc itrust email util edu ncsu csc itrust beans procedure bean   creates emergency report used by emergency report jsp author laurenhayward emergency report action patient base action transaction dao trans dao patient dao patient dao allergy dao allergy dao office visit dao ov dao patient bean pb email util emailutil logged in mid   the handles validating the pid logs viewing of the report param factory the daofactory used in creating the daos action param logged in mid the mid of the user who is looking at the emergency report param pid string the id of the patient whose report is being generated trust exception emergency report action  daofactory factory logged in mid string pid string  trust exception super factory pid string  patient dao factory get patient dao  allergy dao factory get allergy dao  trans dao factory get transaction dao  ov dao factory get office visit dao  logged in mid logged in mid emailutil email util factory  pb patient dao get patient this pid  trans dao log transaction  transaction type view  emergency  report logged in mid value of pid string  viewed emergency report emailutil send email make email     returns the patient name patient full name string get patient name   pb get first name  pb get last name     returns the patient age patient age string get patient age  integer to string pb get age     returns the patient gender patient gender string get patient gender  pb get gender  to string    returns the patient emergency contact patient emergency contact string get patient emergency contact  pb get emergency name  pb get emergency phone    returns the patient blood type the patient blood type string get blood type  pb get blood type    returns list of allergies the given patient list of allergy beans trust exception list allergy bean get allergies  trust exception allergy dao get allergies this pid    returns list of prescriptions the patient is currently taking list of prescription beans which the patient is currently taking trust exception list prescription bean get current prescriptions  trust exception list prescription bean all prescriptions patient dao get current prescriptions this pid  array list prescription bean warning list array list prescription bean    int all prescriptions size  prescription alerts is alert all prescriptions get i  get medication  get ndcode   warning list add all prescriptions get i  warning list   returns list of diagnoses that are in the range indicated by the diagnosis range list of diagnosis beans trust exception list diagnosis bean get warning diagnoses  trust exception dup list diagnosis bean all diagnoses patient dao get diagnoses this pid  array list diagnosis bean warning list array list diagnosis bean   diagnosis bean bean all diagnoses  office visit bean ovb ov dao get office visit bean get visit id   if ovb null  yes equals bean get classification    ovb get visit date  get time  calendar get instance  get time in millis  1000  diagnosis bean wbean warning list   bean get description  equals wbean get description   dup dup  warning list add bean  warning list dbexception dbe  trust exception dbe get message     returns list of prescriptions the patient is currently taking list of prescription beans which the patient is currently taking trust exception list procedure bean get immunizations  trust exception list procedure bean all immunizations patient dao get immunization procedures this pid  all immunizations   creates fake e mail to notify the user that an emergency report has been created and viewed the e mail to be sent dbexception email make email  dbexception email email email  list patient bean reps patient dao get representing pb get mid   list string to addrs array list string   to addrs add pb get email   patient bean reps  to addrs add r get email   email set from  no reply itrust com email set to list to addrs  patient and personal representative email set subject  string format  emergency report viewed notification   email set body  dear pb get full name  an emergency report has been generated please login to trust to see who has viewed your records email
ViewPatientOfficeVisitHistoryAction edu ncsu csc itrust action util array list util iterator util list util scanner edu ncsu csc itrust beans office visit bean edu ncsu csc itrust beans patient bean edu ncsu csc itrust beans patient visit bean edu ncsu csc itrust beans personnel bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql office visit dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception   action view patient office visit history jsp view patient office visit history action logged in mid patient dao patient dao transaction dao trans dao personnel dao personnel dao office visit dao officevisit dao array list patient visit bean visits   set up defaults param factory the daofactory used to create the daos used in action param logged in mid the mid of the person viewing the office visits view patient office visit history action  daofactory factory logged in mid  logged in mid logged in mid personnel dao factory get personnel dao  trans dao factory get transaction dao  officevisit dao factory get office visit dao  patient dao factory get patient dao  visits array list patient visit bean     adds all the office visits the logged in hcp to list trust exception process office visits  trust exception list office visit bean ovlist officevisit dao get all office visits lhcp logged in mid  iterator office visit bean it ovlist iterator  office visit bean ov patient visit bean visit bean  it has next   visit bean patient visit bean  ov it next  patient bean pb pb patient dao get patient ov get patient id   visit bean set patient pb  visit bean set patient name pb get full name   string date ov get visit date str  scanner sc scanner date  sc use delimiter  string month sc next  string day sc next  string year sc next  visit bean set last ovdate m month  visit bean set last ovdate d day  visit bean set last ovdate y year  visit bean set last ovdate year month date  visit bean set address1 pb get street address1  pb get street address2   visit bean set address2 pb get city  pb get state  pb get zip   patient in list pb date  if b false  visits add visit bean  dbexception dbe  trust exception dbe get message     checks to see patient is in the list of visits param pb patient to check param date date of the visit the patient is in the list of visits patient in list  patient bean pb string date  iterator patient visit bean it visits iterator  patient visit bean visit bean  it has next   visit bean it next  if visit bean get patient name  equals pb get full name   if visit bean get last ovdate y  compare to date  0  visit bean set last ovdate date    get the list of patients an hcp has had office visits with the list of patients an hcp has had office visits with dbexception list patient visit bean get patients  dbexception process office visits   i trust exception ie  log transaction trans dao log transaction  transaction type view  patient  list logged in mid  visits   returns personnel bean the logged in hcp personnel bean the logged in hcp trust exception personnel bean get personnel  trust exception personnel dao get personnel logged in mid 
/util/resetPassword page edu ncsu csc itrust action reset password action page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust exception trust exception include file global jsp page title trust reset password include file header jsp h1 reset password h1 reset password action action reset password action prod dao   action is maxed out request get remote addr   response send redirect  trust auth forward error too many attempts mid action check mid request get parameter  mid   string role role action check role mid request get parameter  role    i trust exception e  span user does not exist with role and mid span form action trust util reset password jsp method post table  mid role null  tr td colspan please enter your role and mid td tr tr td role td td select name role option value patient patient option option value hcp hcp option option value uap uap option option value er er option option value pha pha option select td tr tr td mid td td input type text maxlength name mid td tr tr td colspan align center input type submit value submit td tr string answer action check answer null request get parameter  answer    answer null  tr td colspan action get security question mid  td tr tr td answer td td input type password maxlength name answer input type hidden name mid value mid input type hidden name role value role td tr tr td password td td input type password maxlength name password td tr tr td confirm td td input type password maxlength name confirm password td tr tr td colspan align center input type submit value submit td tr  i trust exception e  tr td font color red user has not set security question answer font td tr string password request get parameter  password string confirm password request get parameter  confirm password string confirm confirm action reset password mid role answer password confirm password request get remote addr   form validation exception e  print html page context get out   tr td href reset password jsp h2 please again h2 td tr tr td confirm td tr table form include file footer jsp
EditMonitoringListAction edu ncsu csc itrust action util list edu ncsu csc itrust beans remote monitoring data bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql auth dao edu ncsu csc itrust dao mysql remote monitoring dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception   handles changes  adds and removes  to the monitoring list certain hcp edit monitoring list action remote monitoring dao rm dao transaction dao trans dao auth dao auth dao logged in mid   constructor param factory the daofactory used to create the daos used in action param logged in mid the mid of the hcp editing their monitoring list edit monitoring list action  daofactory factory logged in mid  logged in mid logged in mid rm dao factory get remote monitoring dao  trans dao factory get transaction dao  auth dao factory get auth dao    adds patient to the current hcp remote monitoring list param patient mid the patient added successfully already in list dbexception add to list long patient mid  dbexception trans dao log transaction  transaction type telemedicine  monitoring logged in mid patient mid add rm dao add patient to list patient mid logged in mid    removes patient from the current hcp remote monitoring list param patient mid the patient removed successfully not in list dbexception remove from list long patient mid  dbexception trans dao log transaction  transaction type telemedicine  monitoring logged in mid patient mid delete rm dao remove patient from list patient mid logged in mid    returns whether patient is in an hcp list already param patient mid the patient in db otherwise dbexception is patient in list long patient mid  dbexception list remote monitoring data bean dataset rm dao get patients data logged in mid  for  remote monitoring data bean dataset  if d get patient mid  patient mid    returns the patient name patient name dbexception trust exception string get patient name long pid  dbexception trust exception auth dao get user name pid 
/auth/hcp/information page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust dao mysql personnel dao include file global jsp personnel bean personnelb personnel dao prod dao  get personnel logged in mid  div align center style margin bottom 30px img src trust image user logged in mid value  png alt mid picture div div align center table tr td name td td personnelb get full name  td tr tr td location td td personnelb get city  personnelb get state  td tr table div
SurveyBean edu ncsu csc itrust beans text parse exception text simple date format util date   bean storing survey data associated with an office visit bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  survey bean visit id date survey date waiting room minutes exam room minutes visit satisfaction treatment satisfaction string date format mm dd yyyy hh mm set visit id long d  visit id get visit id  visit id set survey date  date survey date  survey date  survey date date survey date clone   set survey date string  string s  set survey date new simple date format date format  parse s  parse exception ex  system out println ex get message   date get survey date   survey date date survey date clone   string get survey date string   survey date null  simple date format date format  format get survey date   set waiting room minutes int waiting room minutes  waiting room minutes waiting room minutes get waiting room minutes  waiting room minutes set exam room minutes int exam room minutes  exam room minutes exam room minutes get exam room minutes  exam room minutes set visit satisfaction int visit satisfaction  visit satisfaction visit satisfaction get visit satisfaction  visit satisfaction set treatment satisfaction int treatment satisfaction  treatment satisfaction treatment satisfaction get treatment satisfaction  treatment satisfaction
ViewPersonnelAction edu ncsu csc itrust action util list edu ncsu csc itrust beans email edu ncsu csc itrust beans personnel bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql fake email dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception trust exception edu ncsu csc itrust messages   handles retrieving personnel beans given personnel used by view personnel jsp author laurenhayward view personnel action personnel dao personnel dao transaction dao trans dao fake email dao email dao logged in mid   set up defaults param factory the daofactory used to create the daos used in action param logged in mid the mid of the person retrieving personnel beans view personnel action  daofactory factory logged in mid  email dao factory get fake email dao  personnel dao factory get personnel dao  trans dao factory get transaction dao  logged in mid logged in mid   retrieves personnel bean the mid passed as param param input the mid which the personnel bean will be returned personnel bean trust exception personnel bean get personnel  string input  trust exception mid value of input  personnel bean personnel personnel dao get personnel mid   personnel null  trans dao log transaction  transaction type enter  edit  demographics logged in mid mid messages get string  view personnel action mid  non nls 1 personnel trust exception  messages get string  view personnel action   non nls 1 number format exception e  print stack trace  trust exception  messages get string  view personnel action   non nls 1   returns patient bean the currently logged in personnel the patient bean trust exception list email get email history  trust exception email dao get emails by person personnel dao get personnel logged in mid  get email  
SmokingFactor edu ncsu csc itrust risk factors edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   risk factor delegates to the dao to see patient has ever smoked in their life see link patient risk factor details on what each method typically does author andy smoking factor patient risk factor patient id daofactory factory smoking factor  daofactory factory patient id  factory factory patient id patient id string get description  patient is or was smoker has factor  factory get risk dao  has smoked patient id  dbexception e  print stack trace 
NoHealthRecordsException edu ncsu csc itrust exception   error message is thrown when checking health risk indicators and the patient has had no health records entered it is separate than an trust exception because the error handling is slightly different no health records exception trust exception string message the patient did not have any health records recorded no risks can be calculated no records exist serial version uid   the constructor which just passes pre specified message to an trust exception no health records exception  super  message 
/auth/hcp uap/editBasicHealth taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util list page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust action edit health history action page edu ncsu csc itrust beans health record page edu ncsu csc itrust bean builder page edu ncsu csc itrust beans forms health record form page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust dao mysql personnel dao include file global jsp page title trust edit basic health record include file header jsp require patient id first string pid string string session get attribute  pid  pid string pid string length   response send redirect  trust auth get patient id jsp forward hcp uap edit basic health jsp session remove attribute  pid edit health history action action edit health history action prod dao logged in mid value  pid string  pid action get pid  string patient name action get patient name  string confirm equals request get parameter  form is filled   confirm action add health record pid bean builder health record form   build request get parameter map  health record form   catch  form validation exception e  div align center span trust error print html page context get out   span div br list health record records action get all health records pid  health record most recent  records size  0  records get 0  health record  the values script type text javascript function show add row  document get element by id  add row style display inline document get element by id  add row button style display none document forms height focus  script equals confirm  div align center span trust message confirm span div br div align center table align center table tr th colspan basic health history th tr tr sub header td height td td weight td td smokes td td blood pressure td td hdl td td ldl td td triglycerides td td total cholesterol td td last recorded td td by personnel td tr health record hr records  tr td align center hr get height  in td td align center hr get weight  lbs td td align center hr is smoker  td td align center hr get blood pressure  mm hg td td align center hr get cholesterol hdl  mg td td align center hr get cholesterol ldl  mg td td align center hr get cholesterol tri  mg td td align center hr get total cholesterol  mg td td align center hr get date recorded  td personnel bean prod dao get personnel dao  get personnel hr get personnel id   td align center get full name  td tr table br href javascript show add row  id add row button style text decoration none input type button value add record on click show add row  div br div id add row style display none align center form action edit basic health jsp method post input type hidden name form is filled value table table align center tr th colspan style background color silver record information th tr tr td sub header height  in td td input name height value most recent get height  style width 50px type text maxlength td tr tr td sub header weight  lbs td td input name weight value most recent get weight  style width 50px type text maxlength td tr tr td sub header smoker td td input type radio name is smoker value checked no input type radio name is smoker value yes td tr tr td sub header blood pressure  mm hg  td td input name blood pressure value most recent get blood pressure n  style width 40px maxlength type text input name blood pressure value most recent get blood pressure d  style width 40px maxlength type text td tr tr td sub header cholesterol  mg l  td td table tr td style text align right hdl td td input name cholesterol hdl value most recent get cholesterol hdl  style width 38px maxlength type text td tr tr td style text align right ldl td td input name cholesterol ldl value most recent get cholesterol ldl  style width 38px maxlength type text td tr tr td style text align right tri td td input name cholesterol tri value most recent get cholesterol tri  style width 38px maxlength type text td tr table td tr table br input type submit value add record form div br br br itrust patient nav title basic health history include file footer jsp
EditHealthHistoryAction edu ncsu csc itrust action util list edu ncsu csc itrust action base patient base action edu ncsu csc itrust beans health record edu ncsu csc itrust beans forms health record form edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql auth dao edu ncsu csc itrust dao mysql health records dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate health record form validator   edits the health history of patient used by edit basic health jsp author laurenhayward edit health history action patient base action transaction dao trans dao health records dao hr dao auth dao auth dao logged in mid health record form validator validator health record form validator    the patient id is validated by the superclass param factory the daofactory which will be used to generate the daos used action param logged in mid the user authorizing action param pid string the patient  or other user  who is being edited trust exception edit health history action  daofactory factory logged in mid string pid string  trust exception super factory pid string  hr dao factory get health records dao  auth dao factory get auth dao  trans dao factory get transaction dao  logged in mid logged in mid   returns the patient name patient name dbexception trust exception string get patient name  dbexception trust exception auth dao get user name pid    adds health record the given patient param pid the patient record who is being edited param hr the filled out health record form to be added message information recorded or exception message form validation exception string add health record long pid health record form hr  form validation exception trust exception validator validate hr  health record record transfer form pid hr  hr dao add record  trans dao log transaction  transaction type enter  edit  phr logged in mid pid edit health history add record information recorded   moves the information from the form to health record param pid patient of interest param form form to be translated health record containing all the information in the form form validation exception health record transfer form long pid health record form form  form validation exception health record record health record  record set patient id pid  record set personnel id logged in mid  record set blood pressure d  integer value of form get blood pressure d   record set blood pressure n  integer value of form get blood pressure n   record set cholesterol hdl  integer value of form get cholesterol hdl   record set cholesterol ldl  integer value of form get cholesterol ldl   record set cholesterol tri  integer value of form get cholesterol tri    record get total cholesterol  record get total cholesterol  600  form validation exception  total cholesterol must be in record set height  value of form get height   record set weight  value of form get weight   record set smoker  value of form get is smoker   record   returns list of all health records the given patient param pid the id of the patient to look up list of health records trust exception list health record get all health records long pid  trust exception trans dao log transaction  transaction type view  health  records logged in mid pid edit health history view records hr dao get all health records pid 
AddOfficeVisitAction edu ncsu csc itrust action util list edu ncsu csc itrust action base patient base action edu ncsu csc itrust beans office visit bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql office visit dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception   used document office visit page  document office visit jsp  just adds an empty office visit and provides list of office visits in you want to edit an old office visit very similar to link add patient action author andy meneely add office visit action patient base action daofactory factory office visit dao ov dao transaction dao trans dao   sets up the defaults the param factory param pid string patient id to be validated by the superclass link patient base action trust exception add office visit action  daofactory factory string pid string  trust exception super factory pid string  factory factory trans dao factory get transaction dao  ov dao factory get office visit dao    adds an empty office visit param logged in mid logging purposes office visit id  primary key  of the office visit dbexception add empty office visit long logged in mid  dbexception office visit bean ov office visit bean  ov set hcp id logged in mid  ov set patient id pid  visit id ov dao add ov  trans dao log transaction  transaction type document  office  visit logged in mid pid visit id visit id  visit id   lists all office visits particular patient regardless of who originally documented the office visit list of office visits trust exception list office visit bean get all office visits  trust exception ov dao get all office visits pid    returns the full name of the patient with mid name in the form of string dbexception trust exception string get user name  dbexception trust exception factory get auth dao  get user name pid 
HtmlEncoder edu ncsu csc itrust   escapes few key html characters and does some other checking author andy html encoder   escapes few key html characters param input string to check and escape string encode  string input   input null  input string str input replace all  lt str str replace all  gt str str replace all  br str   checks url param input url to check the input contains http otherwise urlon site  string input   input contains  http  
/auth/tester/menu div menu category span view span br href trust auth tester home jsp operational profile br div
MessageBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans message bean   loader message beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader message bean loader bean loader message bean list message bean load list  result set rs  sqlexception list message bean list array list message bean    rs next   list add load single rs  list prepared statement load parameters  prepared statement ps message bean message  sqlexception ps set long 1 message get from   ps set long 2 message get to   ps set string 3 message get body   ps set string 4 message get subject   ps set int 5 message get read    message get parent message id  l  ps set long 6 message get parent message id   ps message bean load single  result set rs  sqlexception message bean message message bean  message set message id rs get long  message id   message set from rs get long  from id   message set to rs get long  to id   message set subject rs get string  subject   message set body rs get string  message   message set sent date rs get timestamp  sent date   message set read rs get int  been read   message set parent message id rs get long  parent msg id   message
/redirect page language content type text html charset iso 8859 1 page encoding iso 8859 1 response send redirect  auth forward user jsp
SendMessageAction edu ncsu csc itrust action sql sqlexception util array list util list edu ncsu csc itrust email util edu ncsu csc itrust beans email edu ncsu csc itrust beans message bean edu ncsu csc itrust beans patient bean edu ncsu csc itrust beans personnel bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql message dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate email validator edu ncsu csc itrust validate message validator   send message jsp send message action logged in mid email util emailer patient dao patient dao personnel dao personnel dao message dao message dao transaction dao transaction dao email validator email val message validator mess val   sets up defaults param factory the daofactory used to create the daos used in action param logged in mid the mid of the user sending the message send message action  daofactory factory logged in mid  logged in mid logged in mid patient dao factory get patient dao  personnel dao factory get personnel dao  emailer email util factory  message dao factory get message dao  transaction dao factory get transaction dao  email val email validator  mess val message validator    sends message param bean message to be sent trust exception sqlexception send message  message bean bean  trust exception sqlexception form validation exception mess val validate m bean  email val validate m bean  message dao add message m bean  email email email  string sender name string from email email set from  noreply itrust com list string to list array list string    8999999999 bean get from  bean get to   personnel bean sender personnel dao get personnel logged in mid  personnel bean receiver personnel dao get personnel m bean get to   to list add receiver get email   sender name sender get full name  from email sender get email   6999999999 bean get from   personnel bean sender personnel dao get personnel logged in mid   6999999999 bean get to   personnel bean receiver personnel dao get personnel m bean get to   to list add receiver get email   patient bean receiver patient dao get patient m bean get to   to list add receiver get email   sender name sender get full name  from email sender get email  patient bean sender patient dao get patient logged in mid   6999999999 bean get to   personnel bean receiver personnel dao get personnel m bean get to   to list add receiver get email   patient bean receiver patient dao get patient m bean get to   to list add receiver get email   sender name sender get full name  from email sender get email  email set to list to list  email set from from email  email set subject  string format  message from sender name  email set body  string format  you have received message from in trust to view it log in to trust and go to view my messages sender name  emailer send email email  transaction dao log transaction  transaction type send  message logged in mid    returns the patient name param mid mid of the patient the name of the patient trust exception string get patient name long mid  trust exception patient dao get name mid    returns the personnel name param mid mid of the personnel the name of the personnel trust exception string get personnel name long mid  trust exception personnel dao get name mid    returns list of the patients that the logged in hcp represents list of the patients that the logged in hcp represents trust exception list patient bean get my representees  trust exception list patient bean representees array list patient bean   representees patient dao get represented logged in mid  dbexception e  print stack trace  representees   returns the designated hcps the logged in patient designated hcps the logged in patient trust exception list personnel bean get my dlhcps  trust exception get dlhcps for logged in mid    returns the designated hcps the given patient designated hcps the given patient trust exception list personnel bean get dlhcps for long pid  trust exception list personnel bean dlhcps array list personnel bean   dlhcps patient dao get declared hcps pid  dbexception e  print stack trace  dlhcps
AllergyBeanValidator edu ncsu csc itrust validate edu ncsu csc itrust action edit office visit action edu ncsu csc itrust beans allergy bean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception   validator used to validate adding allergy in link edit office visit action author andy allergy bean validator bean validator allergy bean   the constructor allergy bean validator    performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated override validate  allergy bean m  form validation exception error list error list error list  error list add not null check format  allergy description get description  validation format allergy  description false   error list has errors   form validation exception error list 
ApptBeanValidator edu ncsu csc itrust validate edu ncsu csc itrust beans appt bean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception appt bean validator bean validator appt bean validate  appt bean bean  form validation exception error list error list error list  if bean get comment  null  error list add not null check format  appointment comment bean get comment  validation format appt  comment false   error list has errors   form validation exception error list 
AddPatientAction edu ncsu csc itrust action edu ncsu csc itrust random password edu ncsu csc itrust beans patient bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql auth dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums role edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust validate add patient validator   used add patient page  add patient jsp  just adds an empty patient creates random password that patient very similar to link add office visit action author andy meneely add patient action transaction dao trans dao patient dao patient dao auth dao auth dao logged in mid   just the factory and logged in mid param factory param logged in mid add patient action  daofactory factory logged in mid  patient dao factory get patient dao  trans dao factory get transaction dao  logged in mid logged in mid auth dao factory get auth dao    creates patient returns the mid adds user to the table along with random password the mid of the patient dbexception form validation exception add patient  patient bean p  dbexception form validation exception add patient validator  validate p  mid patient dao add empty patient  set mid new mid  string pwd auth dao add user new mid role patient random password get random password   set password pwd  patient dao edit patient p  trans dao log transaction  transaction type create  disable  patient  hcp logged in mid mid patient added mid
/auth/patient/viewVisitedHCPs taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util list page util array list page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust beans hcpvisit bean page edu ncsu csc itrust beans office visit bean page edu ncsu csc itrust action view visited hcps action page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust dao mysql patient dao page edu ncsu csc itrust exception trust exception include file global jsp page title trust my providers include file header jsp script type text javascript function remove hcp  hcpid form id  document get element by id  remove id value hcpid document get element by id form id  submit  script patient bean patient patient dao prod dao  get patient logged in mid value   string designate hcps request get parameter values  doctor string filter name request get parameter  filter name string filter specialty request get parameter  filter specialty string filter zip request get parameter  filter zip string remove id request get parameter  remove id filtered view visited hcps action action view visited hcps action  daofactory get production instance  logged in mid value   list hcpvisit bean hcp visits action get visited hcps  string confirm  remove id remove id equals   confirm action undeclare hcp remove id   designate hcps designate hcps equals   string designate hcp designate hcps  confirm action declare hcp designate hcp   i trust exception ie  span ie get message  span if  equals confirm  span confirm span list personnel bean personnel  filter name filter name equals   filtered personnel action filter hcplist filter name filter specialty filter zip  br div align center filtered  h3 provider list patient get full name  h3 br form name main form id main form action view visited hcps jsp method post on submit target  top input type hidden id remove id name remove id value table id hcp table table style text align center tr th hcp name th th specialty th th address th th date of office visit th th designated hcp th tr hcpvisit bean vb hcp visits  tr td vb get hcpname  td td vb get hcpspecialty  td td vb get hcpaddr  td td vb get ovdate  td td input name doctor value vb get hcpname  type checkbox vb is designated  checked checked on click if document get elements by name  doctor checked  form submit  remove hcp  vb get hcpname  main form td tr tr td colspan style color cc3333 text align right font weight bold font size 12px select checkbox to update designated hcp td tr table form form name filter form id filter form action view visited hcps jsp method post on submit target  top table id filter hcp table table tr th hcp name th th specialty th th address th th designated hcp th tr list personnel bean added  null personnel  personnel bean ele personnel  tr td ele get full name  td td ele get specialty  none ele get specialty  td td string ele get street address1  ele get street address2  ele get city  ele get state  ele get zip   td td input name doctor value ele get full name  type checkbox action check declared ele get mid   checked checked on click if document get elements by name  doctor checked  form submit  remove hcp  ele get full name  filter form td tr tr td colspan style color cc3333 text align right font weight bold font size 12px select checkbox to update designated hcp td tr table input type hidden id remove id name remove id value form div br br form id search form action view visited hcps jsp method post div align center table table style border none border tr th colspan search hcps th tr tr style text align left td sub header vertical last name td td input type text name filter name size maxlength td tr tr style text align left td sub header vertical specialty td td input type text name filter specialty size maxlength td tr tr style text align left td sub header vertical zip code td td input type text name filter zip size maxlength td tr table br input type submit name update filter value search div form include file footer jsp
/auth/admin/editLOINCCodes page error page auth exception handler jsp page util list page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust beans loincbean  page edu ncsu csc itrust action update lab proc list action  page edu ncsu csc itrust action update loinclist action page edu ncsu csc itrust exception form validation exception include file global jsp page title trust maintain loinc codes include file header jsp string header message viewing current loinc codes update lab proc list action icd updater update lab proc list action prod dao logged in mid value   update loinclist action icd updater update loinclist action prod dao logged in mid value    request get parameter  add request get parameter  update null  loincbean diag loincbean  diag set lab procedure code request get parameter  code   diag set component request get parameter  comp   diag set kind of property request get parameter  kop   diag set time aspect request get parameter  time   diag set system request get parameter  system   diag set scale type request get parameter  scale   diag set method type request get parameter  method   header message  request get parameter  add null  icd updater add diag  icd updater update information diag  catch  form validation exception e  div align center span trust error get message  span div header message validation errors string header color  header message index of  error  1  ffcccc cccc div align center form name main form method post input type hidden id update id name update id value input type hidden id old descrip name old descrip value script type text javascript function fill update comp  document get element by id  code value comp function fill update2 comp  document get element by id  comp value comp function fill update3 comp  document get element by id  kop value comp function fill update4 comp  document get element by id  time value comp function fill update5 comp  document get element by id  system value comp function fill update6 comp  document get element by id  scale value comp function fill update7 comp  document get element by id  method value comp script br span trust message header message span br br table table align center tr th colspan update loinc code list th tr tr sub header th colspan code th tr tr td align center colspan input type text name code id code size maxlength td tr tr sub header th component th th kind of property th th time aspect th tr tr td input type text name comp id comp size maxlength td td input type text name kop id kop size maxlength td td input type text name time id time size maxlength td tr tr sub header th system th th scale type th th method type th tr tr td input type text name system id system size maxlength td td input type text name scale id scale size maxlength td td input type text name method id method size maxlength td tr table span style font size 14px note when updating please enter original information in fields you not want to change span br br input type submit name add value add code input type submit name update value update code br br table table align center tr th colspan current loinc codes th tr tr sub header td code td td component td td kind of property td td time aspect td td system td td scale type td td method type td tr list loincbean code list prod dao get loincdao  get all loinc  string temp code string tempcomp string tempkop string temptime string tempsystem string tempscale string tempmethod loincbean code entry code list  temp code code entry get lab procedure code  tempcomp code entry get component  tempkop code entry get kind of property  temptime code entry get time aspect  tempsystem code entry get system  tempscale code entry get scale type  tempmethod code entry get method type  tr td href javascript void 0  onclick fill update  temp code temp code td href javascript void 0  onclick fill update2  tempcomp tempcomp td href javascript void 0  onclick fill update3  tempkop tempkop td href javascript void 0  onclick fill update4  temptime temptime td href javascript void 0  onclick fill update5  tempsystem tempsystem td nowrap href javascript void 0  onclick fill update6  tempscale tempscale td nowrap href javascript void 0  onclick fill update7  tempmethod tempmethod tr table form div br include file footer jsp
PatientBean edu ncsu csc itrust beans io serializable text parse exception text simple date format util date edu ncsu csc itrust enums blood type edu ncsu csc itrust enums ethnicity edu ncsu csc itrust enums gender   bean storing data about patient bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  patient bean serializable serial version uid  6474182977342257877 mid string first name string last name string email string security question string security answer string password string confirm password string street address1 string street address2 string city string state ak string zip1 string zip2 string phone1 string phone2 string phone3 string emergency name string emergency phone1 string emergency phone2 string emergency phone3 string ic name string ic address1 string ic address2 string ic city string ic state ak string ic zip1 string ic zip2 string ic phone1 string ic phone2 string ic phone3 string ic id string credit card type string credit card number topical health information string date of birth str simple date format  mm dd yyyy format new date   string date of death str string cause of death string mother mid string father mid blood type blood type blood type ns ethnicity ethnicity ethnicity not specified gender gender gender not specified string topical notes string message filter string get message filter  message filter set message filter  string message filter  message filter message filter blood type get blood type  blood type set blood type str  string blood type  blood type blood type parse blood type  set blood type  blood type blood type  blood type blood type string get cause of death  cause of death set cause of death  string cause of death  cause of death cause of death string get city  city set city  string city  city city string get date of birth str  date of birth str date get date of birth  simple date format  mm dd yyyy parse date of birth str  parse exception e  print stack trace  date get date of death  simple date format  mm dd yyyy parse date of death str  parse exception e  print stack trace  set date of birth str  string date of birth str  date of birth str date of birth str get age  age in ms system current time millis  simple date format  mm dd yyyy parse date of birth str  get time  age age in ms  1000 l   int  age parse exception e  print stack trace   1 get age in days  age age in ms age in ms system current time millis  simple date format  mm dd yyyy parse date of birth str  get time  age age in ms  1000 l  parse exception e  print stack trace   1 age get age in weeks  age age in ms age in ms system current time millis  simple date format  mm dd yyyy parse date of birth str  get time  age age in ms  1000 l  parse exception e  print stack trace   1 age string get date of death str  date of death str set date of death str  string date of death str  date of death str date of death str string get email  email set email  string email  email email string get emergency name  emergency name set emergency name  string emergency name  emergency name emergency name ethnicity get ethnicity  ethnicity set ethnicity str  string ethnicity  ethnicity ethnicity parse ethnicity  set ethnicity  ethnicity ethnicity  ethnicity ethnicity string get father mid  father mid set father mid  string father mid  father mid father mid string get full name  get first name  get last name  string get first name  first name set first name  string first name  first name first name gender get gender  gender set gender str  string gender  gender gender parse gender  set gender  gender gender  gender gender string get ic address1  ic address1 set ic address1  string ic address1  ic address1 ic address1 string get ic address2  ic address2 set ic address2  string ic address2  ic address2 ic address2 composition of city state and zip string get ic address3  get ic city  get ic state  get ic zip  string get ic city  ic city set ic city  string ic city  ic city ic city string get ic id  ic id set ic id  string ic id  ic id ic id string get credit card type  credit card type set credit card type  string credit card type  credit card type credit card type string get credit card number  credit card number set credit card number  string credit card number  credit card number credit card number string get ic name  ic name set ic name  string ic name  ic name ic name string get ic zip   get ic zip2  equals get ic zip2   get ic zip1  get ic zip2  get ic zip1  string get ic zip1  ic zip1 set ic zip1  string ic zip1  ic zip1 ic zip1 string get ic zip2  ic zip2 set ic zip2  string ic zip2  ic zip2 ic zip2 string get ic state  ic state set ic state  string ic state  ic state ic state string get last name  last name set last name  string last name  last name last name get mid  mid set mid long mid  mid mid string get mother mid  mother mid set mother mid  string mother mid  mother mid mother mid note that there is no setter it stored in the database as separate columns string get phone  get phone1  get phone2  get phone3  string get phone1  phone1 string get phone2  phone2 string get phone3  phone3 set phone1  string phone1  phone1 phone1 set phone2  string phone2  phone2 phone2 set phone3  string phone3  phone3 phone3 string get security answer  security answer set security answer  string security answer  security answer security answer string get security question  security question set security question  string security question  security question security question string get state  state set state  string state  state state string get street address1  street address1 set street address1  string street address1  street address1 street address1 string get street address2  street address2 set street address2  string street address2  street address2 street address2 composition of the city state zip string get street address3  get city  get state  get zip  string get topical notes  topical notes set topical notes  string topical notes  topical notes topical notes string get zip   get zip2  equals get zip2   get zip1  get zip2  get zip1  string get zip1  zip1 set zip1  string zip1  zip1 zip1 string get zip2  zip2 set zip2  string zip2  zip2 zip2 same idea as phone string get emergency phone  get emergency phone1  get emergency phone2  get emergency phone3  string get emergency phone1  emergency phone1 set emergency phone1  string emergency phone1  emergency phone1 emergency phone1 string get emergency phone2  emergency phone2 set emergency phone2  string emergency phone2  emergency phone2 emergency phone2 string get emergency phone3  emergency phone3 set emergency phone3  string emergency phone3  emergency phone3 emergency phone3 same idea as phone string get ic phone  get ic phone1  get ic phone2  get ic phone3  string get ic phone1  ic phone1 set ic phone1  string ic phone1  ic phone1 ic phone1 string get ic phone2  ic phone2 set ic phone2  string ic phone2  ic phone2 ic phone2 string get ic phone3  ic phone3 set ic phone3  string ic phone3  ic phone3 ic phone3 string get confirm password  confirm password set confirm password  string confirm password  confirm password confirm password string get password  password set password  string password  password password
AddPHAAction edu ncsu csc itrust action edu ncsu csc itrust random password edu ncsu csc itrust beans personnel bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql auth dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums role edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate add personnel validator   used add personnel page  add personnel jsp  just adds an empty pha creates random password them very similar to link add office visit action and link add patient action add phaaction personnel dao personnel dao auth dao auth dao transaction dao trans dao logged in mid   sets up the defaults the param factory factory creating the defaults param logged in mid person currently logged in author andy meneely add phaaction  daofactory factory logged in mid  personnel dao factory get personnel dao  auth dao factory get auth dao  trans dao factory get transaction dao  logged in mid logged in mid   adds the user event is logged param bean containing the information the user mid of the user form validation exception trust exception add  personnel bean p  form validation exception trust exception add personnel validator  validate p  mid personnel dao add empty personnel  role pha  set mid new mid  personnel dao edit personnel p  string pwd auth dao add user new mid role pha random password get random password   set password pwd  trans dao log transaction  transaction type create  disable  patient  hcp logged in mid  trans dao log transaction  transaction type create  disable  pha logged in mid mid added pha mid
/auth/hcp/reply page error page auth exception handler jsp page edu ncsu csc itrust action send message action page edu ncsu csc itrust beans message bean page util list include file global jsp page title trust reply include file header jsp send message action action send message action prod dao logged in mid  message bean original  session get attribute  message null  original message bean session get attribute  message session set attribute  original original  session remove attribute  message  request get parameter  message body null   session get attribute  original null  original message bean session get attribute  original message bean message message bean  message set body request get parameter  message body   message set from logged in mid  message set to original get from   message set subject request get parameter  subject   message set read 0  message set parent message id original get message id   action send message message new  response send redirect  message inbox jsp response send redirect  message inbox jsp h2 reply h2 h4 to message from action get patient name original get from   h4 form id main form method post action reply jsp span subject span input type text name subject size value re original get subject  br br span message span br textarea name message body cols rows textarea br br input type submit value send name send message form br br include file footer jsp
/auth/hcp/calendar page error page auth exception handler jsp page edu ncsu csc itrust action generate calendar action page edu ncsu csc itrust beans appt bean page edu ncsu csc itrust dao daofactory page util list page sql timestamp page util array list page util hashtable page util calendar include file global jsp page title trust appointment calendar include file header jsp generate calendar action action generate calendar action prod dao logged in mid value   list appt bean send conflicts hashtable integer array list appt bean list calendar calendar get instance  calendar stuff string months january february march april may june july august september october november december string week days sunday monday tuesday wednesday thursday friday saturday calendar cal calendar get instance  orig day cal get  calendar day  of  month  orig month cal get  calendar month  orig year cal get  calendar year  cal set  calendar day  of  month 1  c month cal get  calendar month  change month from jsp if request get parameter  null  string cur request get parameter  c month integer parse int cur  number format exception nfe  response send redirect  calendar jsp month c month if request get parameter  null  string request get parameter  move move integer parse int m  number format exception nfe  response send redirect  calendar jsp month c month move line to set month directly cal set  calendar month month  month cal get  calendar month  year cal get  calendar year  get first day of month cal set  calendar day  of  month 1  first day of month cal get  calendar day  of  week  get last day and week of month cal add  calendar month 1  cal add  calendar day  of  month  1  last day of month cal get  calendar day  of  month  last week of month cal get  calendar week  of  month  compile appointments month list action get appts table this month year  send action get send  conflicts action get conflicts  div align center table width tr td style text align left href calendar jsp month  1 last td td style text align center h3 appointments months month year h3 td td style text align right href calendar jsp month next td tr table table id calendar table style clear both out print  tr for  string week days  out print  th th out print  tr cal day calendar sunday first day of month for int last week of month out print  tr for int if cal day orig day month orig month year orig year  out print  td today div cell out print  td div cell if cal day cal day last day of month  out print  div style right cal day div out print  div blank day div if list contains key cal day  array list appt bean list get cal day  for  appt bean l  set time in millis b get date  get time   string get  calendar hour   a get  calendar minute  10  get  calendar minute  get  calendar minute   a get  calendar am  pm  0  am pm out print  div calendar entry  conflicts conflict get appt type  br name get appt type  cal day style font size 12px href view appt jsp apt read details div cal day out print  div td out print  tr session set attribute  appts send  table br br div include file footer jsp
BeanValidator edu ncsu csc itrust validate edu ncsu csc itrust enums gender edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception   used by all validators that provides utility methods checking formatting of particular field specify the bean to be validated author andy param the bean type to be validated bean validator validate  bean  form validation exception   check the format against the given is nullable will check the string is empty or otherwise an error message will be returned use in conjunction with link error list param name param value param format param is nullable string check format  string name string value validation format format is nullable  string error message name format get description   value equals value  is nullable error message  format get regex  matcher value  matches   error message   check value against particular format is nullable will check it is empty or otherwise an error message will be returned use in conjunction with link error list param name param value param format param is nullable string check format  string name value validation format format is nullable  string str  long value null  str string value of long value  check format name str format is nullable    check the format against the given is nullable will check it is otherwise an error message will be returned use in conjunction with link error list param name param value param format param is nullable string check format  string name value validation format format is nullable  string str  double value null  str string value of double value  check format name str format is nullable    check against the proper gender param name param gen param format param is nullable string check gender  string name gender gen validation format format is nullable  string str  gen null  str gen to string  check format name str format is nullable    the that an integer is the proper format and is in the correct range param name param value param lower param upper param is nullable string check int  string name string value lower upper is nullable   is nullable  value equals value  value integer value of value   lower value value upper  number format exception e  just fall through to returning the error message name must be an integer in lower upper   check that is in the proper format and is in the correct range param name param value param lower param upper string check double  string name string value lower upper  value value of value   lower value value upper  number format exception e  just fall through to returning the error message name must be decimal in lower upper   check that the value fits the or param name param value string check boolean  string name string value  equals value  equals value  name must be either or
ProcedureBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans procedure bean   loader procedure beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader procedure bean loader bean loader procedure bean load ovprocedure id procedure bean loader  load ovprocedure id procedure bean loader boolean load ovprocedure id  load ovprocedure id load ovprocedure id list procedure bean load list  result set rs  sqlexception array list procedure bean list array list procedure bean    rs next   list add load single rs  list procedure bean load single  result set rs  sqlexception procedure bean procedure procedure bean rs get string  code   procedure set description rs get string  description   procedure set attribute rs get string  attribute    load ovprocedure id  procedure set ov procedure id rs get long  id   procedure set date rs get date  visit date   procedure prepared statement load parameters  prepared statement ps procedure bean bean  sqlexception ps set string 1 bean get description   ps
Localization edu ncsu csc itrust util locale   provides singleton accessing the current locale of trust could possibly load the country and language from file localization locale current locale localization  current locale locale  en us   returns the current locale the current locale locale get current locale  current locale localization current instance   singleton method may want to make thread safe as far as know trust doesn any multithreading though localization instance localization instance  if current instance null  current instance localization  current instance
HealthRecordsDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans health record edu ncsu csc itrust beans loaders health records bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   used all health records where whole history is kept dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos author andy health records dao health records bean loader loader health records bean loader  daofactory factory   the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc health records dao  daofactory factory  factory factory   returns list of all health records particular patient param mid the mid of the patient to look up util list of health records dbexception list health record get all health records long mid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from personal health information where patient id order by asofdate desc ps set long 1 mid  result set rs rs ps execute query  loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    adds health record particular patient param record the health record object to insert indicating whether the insert was successful dbexception add  health record record  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into personal health information  patient id height weight smoker blood pressure blood pressure cholesterol hdl cholesterol ldl cholesterol tri hcpid  values  loader load parameters ps record  num inserted ps execute update   num inserted 1  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
AccessDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception edu ncsu csc itrust dbutil edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   access dao is all queries related to authorization dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos author andy access dao daofactory factory   the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc access dao  daofactory factory  factory factory   returns the number of minutes it would take session to time out is done by effectively using the database table as hash table row in global variables does not exist one is inserted with the value an the number of minutes dbexception get session timeout mins  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select value from global variables where name timeout result set rs ps execute query   rs next   rs get int  value insert timeout conn 20  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    sets the number of minutes it would take session to timeout param mins an specifying the number of minutes dbexception set session timeout mins int mins  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  update global variables set value where name timeout ps set int 1 mins  num updated ps execute update   num updated 0  no value in the table insert timeout conn mins  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  insert timeout  connection conn mins  sqlexception prepared statement ps ps conn prepare statement  insert into global variables  name value  values timeout ps set int 1 mins  ps execute update 
DrugInteractionAction edu ncsu csc itrust action util list edu ncsu csc itrust beans drug interaction bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql drug interaction dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate drug interaction validator   used by edit drug interaction jsp to edit and get information about drug interactions drug interaction action drug interaction dao drug dao transaction dao tran dao drug interaction validator validator logged in mid   sets up defaults param factory the dao factory to be used generating the daos action drug interaction action  daofactory factory logged in mid  drug dao factory get drug interaction dao  tran dao factory get transaction dao  validator drug interaction validator  logged in mid logged in mid   method to report an interaction param first drug param second drug param description string report interaction  string first drug string second drug string description  trust exception form validation exception  first drug equals second drug  interactions can only be recorded between two different drugs drug interaction bean drug drug interaction bean  drug set first drug first drug  drug set second drug second drug  drug set description description  validator validate drug int   drug dao report interaction first drug second drug description  tran dao log transaction  transaction type drug  interaction logged in mid  interaction recorded successfully interaction could not be added dbexception e  print stack trace  get message    method to delete an interaction param first drug param second drug string delete interaction  string first drug string second drug  trust exception form validation exception drug interaction bean drug drug interaction bean  drug set first drug first drug  drug set second drug second drug  drug set description  blank validator validate drug int   drug dao delete interaction first drug second drug  tran dao log transaction  transaction type drug  interaction logged in mid  interaction deleted successfully interaction could not be deleted dbexception e  print stack trace  trust exception e get message     method to list of drug interactions given drug param drug code the nd code of the drug list drug interaction bean get interactions  string drug code  trust exception drug dao get interactions drug code  dbexception e  trust exception e get message  
/login include file global jsp page title trust login note there are better ways of implementing feature see the comment in login failure action login failure action action login failure action prod dao request get remote addr   if  equals request get parameter  login error   login message action record login failure  include file header jsp if action is valid login   div style text align center font size 2em welcome to trust div div style margin top 15px margin right 40px height 150px trust is medical application that provides patients with means to keep up with their medical history and records as well as communicate with their doctors including selecting which doctors to be their primary caregiver seeing and sharing satisfaction results and other tasks trust is also an medical staff from various locations trust allows the staff to keep track of their patients through messaging capabilities scheduling of office visits diagnoses prescribing medication ordering and viewing lab results among other functions div you have too many failed logins times in span of time br please wait minutes before logging in again include file footer jsp
LabProcedureBean edu ncsu csc itrust beans sql timestamp   bean storing data about lab procedure bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  lab procedure bean string not  received not yet received string pending pending string completed completed string allow allowed string restrict restricted   unique 10 digit number that does not start with pid   unique identifier laboratory procedure of patient procedure id   digits of the format nnnnn n string loinc   one of not yet received pending completed  string status   up to alphanumeric characters string commentary   up to alphanumeric characters string results   office visit id identifier that specifies the office visit in which the laboratory procedure was ordered ov id   date time of last status update timestamp timestamp timestamp   permission granted by lhcp who ordered test allowed restricted string rights allow lab procedure bean    unique 10 digit number that does not start with get pid  pid   unique 10 digit number that does not start with set pid long pid  pid pid   unique identifier laboratory procedure of patient get procedure id  procedure id   unique identifier laboratory procedure of patient set procedure id long procedure id  procedure id procedure id   digits of the format nnnnn n string get loinc  loinc   digits of the format nnnnn n set loinc  string loinc  loinc loinc   one of not yet received pending completed  string get status  status   one of not yet received pending completed  set status  string status  status status   up to alphanumeric characters string get commentary  commentary   up to alphanumeric characters set commentary  string commentary  commentary commentary   up to alphanumeric characters string get results  results   up to alphanumeric characters set results  string results  results results   office visit id identifier that specifies the office visit in which the laboratory procedure was ordered get ov id  ov id   office visit id identifier that specifies the office visit in which the laboratory procedure was ordered set ov id long ov id  ov id ov id timestamp get timestamp  timestamp set timestamp  timestamp timestamp  timestamp timestamp   permission granted by lhcp who ordered test allowed restricted string get rights  rights   permission granted by lhcp who ordered test allowed restricted set rights  string rights  rights rights allow  rights allow restrict  rights restrict status complete  status completed status pending  status pending status not received  status not  received
AdverseEventBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans adverse event bean   loader adverse event beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader adverse event bean loader bean loader adverse event bean list adverse event bean load list  result set rs  sqlexception array list adverse event bean list array list adverse event bean    rs next   list add load single rs  list adverse event bean load single  result set rs  sqlexception adverse event bean adverse event adverse event bean  adverse event set mid rs get string  patient mid   adverse event set drug rs get string  pres immu   adverse event set description rs get string  comment   adverse event set code rs get string  code   adverse event set date rs get timestamp  time logged to string   adverse event set id rs get int  id   adverse event set status rs get string  status   adverse event prepared statement load parameters  prepared statement ps adverse event bean bean  sqlexception illegal state exception  unimplemented
VisitRemindersDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust dbutil edu ncsu csc itrust date util edu ncsu csc itrust beans visit flag edu ncsu csc itrust beans forms visit reminder form edu ncsu csc itrust beans loaders visit reminder form loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   used queries related to patient reminders dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos author andy visit reminders dao daofactory factory   the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc visit reminders dao  daofactory factory  factory factory   returns list of patients associated with given hcp param hcpid the mid of the hcp in question util list of visit reminder forms list visit reminder form get patients long hcpid  dbexception visit reminder form temp visit reminder form loader loader visit reminder form loader  list visit reminder form patients array list visit reminder form   connection conn prepared statement ps result set rs conn factory get connection  ps conn prepare statement  select distinct as hid dhcp patientid last name first name phone1 phone2 phone3 from patients declaredhcp dhcp where dhcp hcpid and mid dhcp patientid and dateofdeath is and dateofbirth date  sub  curdate  interval year  ps set long 1 hcpid  ps set long 2 hcpid  rs ps execute query   rs next   temp loader load single rs  patients add temp  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  patients   returns list of patients who need visit hcp means alive patient no office visit yr diagnosed diabetes xx asthma xx circulatory system disease param hcpid the mid of the hcp in question util list of visit reminders list visit reminder form get diagnosed visit needers long hcpid  dbexception connection conn prepared statement ps result set rs conn factory get connection  ps conn prepare statement  select distinct as hid ov patient id last name first name phone1 phone2 phone3 ovd icdcode ov visit date from patients office visits ov ovdiagnosis ovd where mid ov patient id and ov id ovd visit id and date of death is and ov visit date date  sub  curdate  interval year  and ovd icdcode between and and or ovd icdcode between and and or ovd icdcode between and and group by mid order by last name first name ov patient id ps set long 1 hcpid  ps set float 2 0f  ps set float 3 99f  ps set float 4 0f  ps set float 5 99f  ps set float 6 0f  ps set float 7 99f  rs ps execute query  list visit reminder form patients array list visit reminder form   visit reminder form temp visit reminder form loader loader visit reminder form loader   rs next   temp loader load single rs  temp add visit flag new visit flag  visit flag diagnosed rs get string 8  temp add visit flag new visit flag  visit flag last  visit rs get string 9  patients add temp  patients sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns list of old people who need flu shot current spec alive patient over years old no flu shot a  during the months of current calendar year in b  during the months of last calendar year not in determines current date and calls one of two methods these methods different sets of people people who haven had flu shot yet year and need one people who missed last year flu shot and need check up util list of visit reminder forms param hcpid the mid of the hcp in question param patient birthday the birthday of the patient in question dbexception list visit reminder form get flu shot delinquents long hcpid  dbexception connection conn prepared statement ps result set rs fall bug fix use the correct range zero based calendar  eg january is 0  year date util currently in month range 8 11  string flag type year visit flag missing  medication visit flag missed  medication sql date september sql date 0l  december sql date 0l  date util set sqlmonth range september year december year 1  conn factory get connection  ps conn prepare statement  select distinct as hid ov patientid lastname firstname phone1 phone2 phone3 from office visits ov patients where ov patientid mid and dateofdeath is and dateofbirth date  sub  curdate  interval year  and patientid not in select patientid from office visits ov ovmedication om where ov id om visitid and ndcode in  90656 90660  and   start date between and or end date between and   order by lastname firstname ov patientid ps set long 1 hcpid  ps set date 2 september  ps set date 3 december  ps set date 4 september  ps set date 5 december  rs ps execute query  list visit reminder form patients array list visit reminder form   visit reminder form temp visit reminder form loader loader visit reminder form loader   rs next   temp loader load single rs  temp add visit flag new visit flag flag type flu shot   patients add temp  patients sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
Role edu ncsu csc itrust enums   the trust user roles patient er hcp uap pha administrator and tester consult the requirements the contextual meanings of these individual choices role patient  patient patients er  er personnel hcp  hcp personnel uap  uap personnel admin  admin personnel pha  pha personnel tester  tester string user roles string string db table role  string user roles string string db table  user roles string user roles string db table db table string get dbtable  db table string get user roles string  user roles string role parse  string str  role role values    role user roles string equals str  role illegal argument exception  role str does not exist
PatientRiskFactor edu ncsu csc itrust risk factors   risk factors the has risk factor delegates to the version caches the result in it gets checked more than once author andy patient risk factor has risk   textual description of what the patient status is that causing the risk string get description    indicating whether the patient has the increased risk has factor    indicating whether the patient has the increased risk has risk factor   has risk null  has risk has factor  has risk
PatientBaseAction edu ncsu csc itrust action base edu ncsu csc itrust html encoder edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception trust exception   an dealing with actions that require an associated patient the concrete functionality provided by allows asserting the correctness and existence of patients mids use whenever your jsp requires patient id when it loads  e edit patient jsp  the patient string is passed to the constructor of and is checked both format and existence the patient id is wrong in any way an exception is thrown resulting in the user getting kicked out to the home page very similar to link personnel base action and link office visit base action subclasses need not rewrite functionality and they are not held to any strict contract to extend patient base action   the database access object factory to associate with runtime context daofactory factory   stores the mid of the patient associated with action pid   the constructor param factory factory to create database access object param pid string the patient id to associate with action trust exception the patient id is incorrect or there is db problem patient base action  daofactory factory string pid string  trust exception factory factory pid check patient id pid string    asserts whether the input is valid existing patient mid param input the presumed mid the existing patient id as trust exception the patient does not exist or there is db problem check patient id  string input  trust exception pid value of input   factory get patient dao  check patient exists pid  pid trust exception  patient does not exist number format exception e  trust exception  patient id is not number html encoder encode input    retrieves the identifier of the patient as the patient mid get pid  pid
PersonnelDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util vector util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans hospital bean edu ncsu csc itrust beans personnel bean edu ncsu csc itrust beans prescription bean edu ncsu csc itrust beans loaders hospital bean loader edu ncsu csc itrust beans loaders personnel loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception edu ncsu csc itrust enums role   used managing information related to personnel hcps uaps admins dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos author andy personnel dao daofactory factory personnel loader personnel loader hospital bean loader hospital bean loader   the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc personnel dao  daofactory factory  factory factory personnel loader personnel loader  hospital bean loader hospital bean loader    returns the name given mid param mid the mid of the personnel in question string representing the name of the personnel trust exception dbexception string get name long mid  trust exception dbexception connection conn prepared statement pstmt conn factory get connection  pstmt conn prepare statement  select first name last name from personnel where mid pstmt set long 1 mid  result set rs rs pstmt execute query   rs next   rs get string  first name rs get string  last name trust exception  user does not exist sqlexception e  print stack trace  dbexception e  dbutil close connection conn pstmt    adds an empty personnel and returns the mid indicating the mid param role link role indicating the personnel specific role dbexception trust exception add empty personnel  role role  dbexception trust exception connection conn prepared statement ps id conn factory get connection  ps conn prepare statement  insert into personnel  role  values  ps set string 1 role name   ps execute update  id dbutil get last insert conn  id sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    retrieves personnel bean with all of the specific information given employee param mid the mid of the personnel in question personnel bean representing the employee dbexception personnel bean get personnel long mid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from personnel where mid ps set long 1 mid  result set rs ps execute query   rs next   personnel loader load single rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    updates the demographics personnel param the personnel bean with the updated information dbexception edit personnel  personnel bean p  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  update personnel set amid first name last name phone1 phone2 phone3 address1 address2 city state zip zip1 zip2 email message filter where mid personnel loader load parameters ps p  ps set long 16 get mid   ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    indicates whether certain personnel is in the database param pid the mid of the personnel in question indicating whether personnel exists dbexception check personnel exists long pid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from personnel where mid ps set long 1 pid  result set rs ps execute query  rs next  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns all of the hospitals lhcp is associated with param mid the mid of the personnel in question util list of hospital beans dbexception list hospital bean get hospitals long mid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from hcpassigned hos hah hospitals where hah hcpid and hah hos id hospital id order by hospital name asc ps set long 1 mid  result set rs ps execute query  hospital bean loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns all personnel in the database util list of personnel dbexception list personnel bean get all personnel  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from personnel where role in hcp uap er result set rs ps execute query  personnel loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns list of uaps who work lhcp param hcpid the mid of the personnel in question util list of uaps dbexception list personnel bean get uaps hcp long hcpid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from personnel where mid in select uap from hcprelations where hcp ps set long 1 hcpid  result set rs ps execute query  personnel loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    given prescription that has been given method returns all the information the doctor who authorized that prescription param prescription the prescription bean describing the prescription in question the personnel bean describing the doctor who authorized it dbexception personnel bean get prescribing doctor  prescription bean prescription  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from personnel where mid in select hcpid from office visits where id ps set long 1 prescription get visit id   result set rs ps execute query  personnel loader load list rs  get 0  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    matches all personnel who have names like  as in sql  the first and last names passed in param first the first name to be searched param last the last name to be searched util list of personnel who match these names dbexception list personnel bean search personnel with name  string first string last  dbexception connection conn prepared statement ps  first equals  last equals   vector personnel bean   conn factory get connection  ps conn prepare statement  select from personnel where first name like and last name like ps set string 1 first  ps set string 2 last  result set rs ps execute query  personnel loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
/logout include file global jsp page title trust logout session invalidate  valid session response send redirect  trust
/auth/hcp uap/editPatientList taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page edu ncsu csc itrust action edit monitoring list action include file global jsp page title trust edit patient list include file header jsp require patient id first string pid string string session get attribute  pid string add or remove add  pid string pid string length  equals request get parameter  confirm action   session remove attribute  pid response send redirect  trust auth get patient id jsp forward hcp uap edit patient list jsp session remove attribute  pid edit monitoring list action action edit monitoring list action prod dao logged in mid value   pid parse long pid string  string patient name action get patient name pid   action is patient in list pid  add or remove remove string confirm conf bool equals request get parameter  confirm action   if add or remove equals  add   conf bool action add to list pid  if conf bool  confirm patient patient name added conf bool action remove from list pid  if conf bool  confirm patient patient name removed session remove attribute  pid equals confirm  div align center span trust message confirm span div br form action edit patient list jsp method post input type hidden name confirm action value input input type submit value add or remove patient name input type submit value choose different patient on click javascript different patient  form script type text javascript function different patient  document get elements by name  confirm action value document forms submit  script br br br include file footer jsp
ICD9CMLink edu ncsu csc itrust tags io ioexception javax servlet jsp jsp exception javax servlet jsp jsp writer javax servlet jsp page context javax servlet jsp tagext tag   jsp tag used as utility to link to the actual icd9 cm site author andy icd9 cmlink tag page context page context tag parent string code icd9 cmlink  super  start tag  jsp exception jsp writer out page context get out  out write  href http icd9cm chrisendres com index php srchtype diseases srchtext code submit search action search code ioexception e  print stack trace  skip  body end tag  jsp exception skip  body release  set page context  page context page context  page context page context set parent  tag parent  parent parent tag get parent  parent string get code  code set code  string code  code code set code double code  code string value of code 
MailValidator edu ncsu csc itrust validate edu ncsu csc itrust exception form validation exception org apache commons validator mail validator email validator   the constructor mail validator    performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated validate email  string email  form validation exception mail validator val mail validator  val is valid email 
PersonnelBean edu ncsu csc itrust beans edu ncsu csc itrust enums role io serializable util list   bean storing data about hospital employee bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  personnel bean serializable serial version uid mid amid role role string first name string last name string password string confirm password string security question string security answer string street address1 string street address2 string city string state string zip1 string zip2 string phone1 string phone2 string phone3 string email string specialty string message filter string get message filter  message filter set message filter  string message filter  message filter message filter string get email  email set email  string email  email email get amid  amid set amid long amid  amid amid string get city  city set city  string city  city city string get confirm password  confirm password set confirm password  string confirm password  confirm password confirm password string get first name  first name set first name  string first name  first name first name string get last name  last name set last name  string last name  last name last name string get full name  get first name  get last name  get mid  mid set mid long mid  mid mid string get password  password set password  string password  password password string get phone  phone1 phone2 phone3 string get phone1  phone1 set phone1  string phone1  phone1 phone1 string get phone2  phone2 set phone2  string phone2  phone2 phone2 string get phone3  phone3 set phone3  string phone3  phone3 phone3 role get role  role set role  role role  role role string get security answer  security answer set security answer  string security answer  security answer security answer string get security question  security question set security question  string security question  security question security question string get state  state set state  string state  state state string get street address1  street address1 set street address1  string street address1  street address1 street address1 string get street address2  street address2 set street address2  string street address2  street address2 street address2 string get zip   get zip2  equals get zip2   get zip1  get zip2  get zip1  string get zip1  zip1 set zip1  string zip1  zip1 zip1 string get zip2  zip2 set zip2  string zip2  zip2 zip2 string get specialty  specialty set specialty  string specialty  specialty specialty compare to  personnel bean other  mid other get mid   mid other get mid    1 get index in  list personnel bean list   int list size   list get i  mid mid   1
/auth/admin/visitGraph page sql edu ncsu csc itrust edu ncsu csc itrust users edu ncsu csc itrust beans page util com lowagie text html html encoder doctype html w3 dtd html transitional en html head title trust visit trends title include file resources head jsp head body calendar today calendar get instance  cur month today get  calendar month  cur year today get  calendar year  string start month request get parameter  start month string start year request get parameter  start year string end month request get parameter  end month string end year request get parameter  end year is post back request get parameter  action string date end str end year end month string date start str start year start month string first visit records get earliest visit  if null first visit  equals first visit  out println  br br out println  h3 style text align center there are no visits registered h3 out println  br br string first month first visit substring 5 7  string first year first visit substring 0 4  string months january february march april may june july august september october november december form method post id form main script type text javascript src resources scripts date picker js script table align center tr th colspan style background color silver visit trends th tr tr td colspan style text align center border solid 1px silver select starting and ending month and click generate report td tr tr style background color ffcccc td style text align right starting month td td select name start month out println  option value first month months integer parse int first month  1 option option value january option option value february option option value march option option value april option option value may option option value june option option value july option option value august option option value september option option value october option option value november option option value december option select br select name start year out println  option value first year first year option  int cnt cur year cnt integer parse int first year  cnt  out println  option value cnt cnt option select td tr style background color ffcccc td style text align right ending month td td select name end month out println  option value  cur month 1  months cur month option option value january option option value february option option value march option option value april option option value may option option value june option option value july option option value august option option value september option option value october option option value november option option value december option select br select name end year out println  option value cur year cur year option  int cnt cur year 1 cnt integer parse int first year  cnt  out println  option value cnt cnt option select td tr td align center colspan input type submit name action value generate report td tr table  start month start year end month end year null  integer parse int start year  integer parse int end year  integer parse int start year  integer parse int end year  integer parse int start month  integer parse int end month  table align center style background color ffeeee border 1px solid ff6666 tr td align center an error has occured br br start date is after end date td tr table br integer parse int end year  cur year integer parse int end year  cur year integer parse int end month  cur month 1  table align center style background color ffeeee border 1px solid ff6666 tr td align center an error has occured br br end date is in the future td tr table br  start month length  2  start month start month  end month length  2  end month end month visit report vr vr visit report start year start month end year end month  vr compute visits  user data exception e  out println  table align center bgcolor red tr td font color white out println  an error has occured br out println e get error message   out println  font td tr table vector integer minors vr get minors  vector integer adults vr get adults  most visits least visits  minors element at 0  adults element at 0  most visits adults element at 0  least visits minors element at 0  most visits minors element at 0  least visits adults element at 0  num  days vr get num months  num  days minors element at i  most visits most visits minors element at i  minors element at i  least visits least visits minors element at i  adults element at i  most visits most visits adults element at i  adults element at i  least visits least visits adults element at i  graph  width graph  height graph  values graph  values most visits  graph  values most visits graph  values 0  graph  values value  height graph  height graph  values day  spacing graph  width num  days 2  day  width day  spacing value range most visits least visits buffer the values most visits  int  value range 0 1f  least visits  int  value range 0 1f  least visits least visits value range most visits least visits value inc  double  value range  double  graph  values br table align center tr td align right valign bottom style font size of visits td td align center valign top visits per month br br td tr tr  value legend  td valign top div style position relative val graph  values val  int   value inc i  top graph  values value  height div style position absolute text align right width height value  height px top top px val div div td  actual graph  td valign top style font size width graph  width px height graph  height px br div style position relative font size 1px graph  values top graph  values value  height div style position absolute background color width height 1px top top px div num  days left  i 2 1  day  spacing day  width height  int   graph  height   minors element at i  least visits  float  value range  height height inv height graph  height height div style position absolute top inv height px left left px height height px width day  width px background color ff border solid 1px ff border right solid 1px border bottom solid 1px div left2  i 2 2  day  spacing day  width height2  int   graph  height   adults element at i  least visits  float  value range  height2 height2 inv height2 graph  height height2 div style position absolute top inv height2 px left left2 px height height2 px width day  width px background color cc66 ff border solid 1px cc99 ff border right solid 1px cc3366 border bottom solid 1px cc3366 div div td tr tr td align right br br date start str td td align right br br date end str td tr table end day counts form include file resources footer jsp body html
EmailBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util arrays util list edu ncsu csc itrust beans email   loader fake emails loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader email bean loader bean loader email list email load list  result set rs  sqlexception list email list array list email    rs next   list add load single rs  list prepared statement load parameters  prepared statement ps email email  sqlexception ps set string 1 email get to list str   ps set string 2 email get from   ps set string 3 email get subject   ps set string 4 email get body   ps email load single  result set rs  sqlexception email email email  email set from rs get string  from addr   email set to list  arrays as list rs get string  to addr split   email set body rs get string  body   email set subject rs get string  subject   email set time added rs get timestamp  added date   email
/auth/patient/viewMyMessages page edu ncsu csc itrust action view my messages action page edu ncsu csc itrust beans message bean page edu ncsu csc itrust dao daofactory page util list taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp include file global jsp page title trust view my messages include file header jsp div align center h2 my messages h2 view my messages action action view my messages action prod dao logged in mid value   list message bean messages action get all my messages  session set attribute  messages messages   messages size  0  table table tr th sender th th message th th received th th nbsp th tr index for  message bean message messages  tr td action get personnel name message get from   td td message get body  td td message get sent date  td td href reply jsp msg index reply td tr index table div you have no messages div br br div include file footer jsp
OfficeVisitBaseAction edu ncsu csc itrust action base edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql office visit dao edu ncsu csc itrust exception trust exception   an which contains functionalities common among all actions relating to inserting and editing office visits because all office visits are with certain patient office visit base action patient base action use whenever you have page which not only requires patient mid but an office visit id pass those ids to the constructor and an exception will be thrown they are not valid ids  which should kick the user out to the home page  the concrete methods created by allow its association with the unique identifier of given office visit these identifiers can also be verified their correctness and existence very similar to link patient base action and link personnel base action office visit base action patient base action   database access object dealing with office visits office visit dao ov dao   the unique identifier of the office visit action is associated with ov id   the constructor param factory database access object factory supplying runtime context param pid string the patient mid as string to be passed to the constructor  for patient base action  param ov idstring the unique identifier of the office visit as string trust exception any of the supplied parameters is incorrect or there is db problem office visit base action  daofactory factory string pid string string ov idstring  trust exception super factory pid string  ov dao factory get office visit dao  ov id check office visit id ov idstring    asserts whether unique office visit identifier both exists and is associated with the patient in the database param input the presumed identifier as string the same identifier as of the existing office visit trust exception the visit does not exist or there is db problem check office visit id  string input  trust exception encode input  ov id value of input   ov dao check office visit exists ov id pid  ov id trust exception  office visit ov id with patient mid pid does not exist number format exception e  trust exception  office visit id is not number get message     obtaining the unique identifier of the office visit action is associated with of the identifier get ov id  ov id   converts all characters of the input string to their html special characters equivalent representation explicitly the less than symbol becomes lt the greater than symbol becomes gt and newline feed becomes br param input the string to encode the encoded string string encode  string input  string str input replace all  lt str str replace all  gt str str replace all  br str
/auth/patient/viewPrescriptionInformation taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page edu ncsu csc itrust action edit prescription action page edu ncsu csc itrust action edit office visit action page edu ncsu csc itrust beans office visit bean page edu ncsu csc itrust beans prescription bean page edu ncsu csc itrust dao mysql office visit dao page edu ncsu csc itrust dao mysql personnel dao include file global jsp page title trust edit prescription information include file header jsp personnel dao docs personnel dao prod dao  office visit dao my dao office visit dao prod dao  id integer parse int request get parameter  pres id   prescription bean prescription prescription bean pres my dao get prescriptions  parse long request get parameter  visit id    pres get id  id  prescription pres  prescription null  center h1 error prescription not found please again later h1 center table align center border table tr th colspan prescription information th tr tr sub header td align center perscribing doctor td td align center medication td td align center dosage td td align center dates td td align center colspan instructions td tr tr td align center docs get name my dao get office visit  parse long request get parameter  visit id   get hcp id   td td align center prescription get medication  get description  prescription get medication  get ndcode  td td align center prescription get dosage  mg td td align center prescription get start date str  to prescription get end date str  td td align center prescription get instructions  td tr table center form action home jsp method get input type submit name home value home form center include file footer jsp
ApptTypeDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans appt type bean edu ncsu csc itrust beans loaders appt type bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception appt type dao daofactory factory appt type bean loader at loader appt type dao  daofactory factory  factory factory at loader appt type bean loader  list appt type bean get appt types  sqlexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from appointmenttype result set rs ps execute query  list appt type bean at list at loader load list rs  dbutil close connection conn ps  at list add appt type  appt type bean appt type  sqlexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into appointmenttype  appt type duration  values at loader load parameters ps appt type  ps execute update  dbutil close connection conn ps  if x 0  edit appt type  appt type bean appt type  sqlexception dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  update appointmenttype set duration where appt type ps set int 1 appt type get duration   ps set string 2 appt type get name   ps execute update  dbutil close connection conn ps  if x 0 
/privacyPolicy taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp include file global jsp page title trust privacy policy login message include file header jsp br h3 trust privacy policy h3 last modified april hr table border cellpadding tr valign top td h3 notice awareness h3 td td privacy policy complies with the privacy rule standards set forth by the united states department of health and human services office of civil rights hippa please review privacy policy before using the trust system system was designed to collect and securely store personally identifiable health information pihi  our goal is to ensure that we follow the privacy rules as stated by the ushhs these privacy rules are in place to protect the privacy of individuals and their health care information allowing access and dissemination to medical professionals who need it to provide care hr td tr tr valign top td h3 choice consent h3 td td the privacy rule states that obtaining written permission from an individual to collect and use their health information is optional therefore it is our policy that we will collect and use your pihi based on the categories and uses below by using the trust system you grant us permission to collect and store your information the treatment and ongoing operations of our health practice you would prefer not to have your information available in the trust system you must indicate so in writing to our offices as stated in the privacy rules we are permitted to use your pihi in the following situations without written authorization ol li disclosure to the individual patient li treatment of sickness and diseases li the collection of payment services rendered li the ongoing operation of facility and our medical practice li to provide an opportunity the patient to agree or object to treatment options li in way that supports other permitted uses li in ways that are beneficial to the interest and health care and li in other limited ways the purposes of research or health ol we rely on our judgment and generally accepted professional ethics to decide whether our actions are consistent with the above stated allowable uses we will obtain written authorization from the patient or patient authorized representative prior to disclosing any pihi that is outside the scope of the above listed categories hr td tr tr valign top td h3 integrity security h3 td td the integrity and security of your pihi is very important to us we strive to maintain the best security and access policies to prevent the accidental or intentional disclosure of information that would be in violation of the uses stated above hr td tr tr valign top td h3 access participation h3 td td the privacy policy requires us to allow you access to your medical records please contact the trust system administrator our your medical professional you feel any information is incorrect or needs to be changed td tr table include file footer jsp
/auth/forwardUser page language content type text html charset iso 8859 1 page encoding iso 8859 1 error page logout jsp page edu ncsu csc itrust enums transaction type page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust dbutil include file global jsp include file authenticate jsp if request get user principal  null  mid value of request get user principal  get name   daofactory get production instance  get transaction dao  log transaction  transaction type authenticate  user mid authenticated requesting home page prod dao get transaction dao  log transaction  transaction type authenticate  user mid authenticated requesting home page  request is user in role  patient   response send redirect  patient home jsp  request is user in role  uap   response send redirect  uap home jsp  request is user in role  hcp   response send redirect  hcp home jsp  request is user in role  er   response send redirect  er home jsp  request is user in role  pha   response send redirect  pha home jsp  request is user in role  admin   response send redirect  admin home jsp  request is user in role  tester   response send redirect  tester home jsp operationprofile if  valid session  session invalidate  response send redirect  trust  mid 0  session invalidate  response send redirect  errors noaccess jsp
LOINCBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans loincbean   loader loincbeans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader loincbean loader bean loader loincbean list loincbean load list  result set rs  sqlexception array list loincbean list array list loincbean    rs next   list add load single rs  list loincbean load single  result set rs  sqlexception loincbean loinc loincbean  loinc set lab procedure code rs get string  laboratory procedure code   loinc set component rs get string  component   loinc set kind of property rs get string  kind of property   loinc set time aspect rs get string  time aspect   loinc set system rs get string  system   loinc set scale type rs get string  scale type   loinc set method type rs get string  method type   loinc prepared statement load parameters  prepared statement ps loincbean bean  sqlexception illegal state exception  unimplemented
/auth/admin/editCPTProcedureCodes page error page auth exception handler jsp page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust beans procedure bean page edu ncsu csc itrust action update cptcode list action page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust html encoder page net urlencoder page util list include file global jsp page title trust maintain cpt codes include file header jsp string header message viewing current cpt procedure codes update cptcode list action cpt updater update cptcode list action prod dao logged in mid value   string attribute  request get parameter  add request get parameter  update null   null request get parameter  attribute   attribute string  immunization procedure bean proc procedure bean request get parameter  code request get parameter  description attribute header message  request get parameter  add null  cpt updater add cptcode proc  cpt updater update information proc  catch  form validation exception e  div align center span trust error get message  span div header message validation errors string header color  header message index of  error  1  ffcccc cccc script type text javascript function fill update code  document get element by id  code value code document get element by id  description value unescape document get element by id  upd code  value  document get element by id  old descrip value unescape document get element by id  upd code  value  immunization document get element by id  code  value  document get element by id  attribute checked checked document get element by id  attribute checked script div align center br span trust message header message span br br form name main form action edit cptprocedure codes jsp method post input type hidden id update id name update id value input type hidden id old descrip name old descrip value table table align center tr td colspan update cpt procedure code list td tr tr sub header td code td td description td td immunization td tr tr td input type text name code id code size maxlength td td input type text name description id description size maxlength td td input type checkbox name attribute id attribute value yes td tr table input type submit name add value add code input type submit name update value update code br br table table align center tr th colspan current cpt procedure codes th tr tr sub header td code td td description td td immunization td tr list procedure bean code list prod dao get cptcodes dao  get all cptcodes  string temp code string temp descrip string escaped descrip string temp procedure bean code entry code list  temp code code entry get cptcode  temp descrip code entry get description  temp code entry get attribute  escaped descrip urlencoder encode temp descrip utf 8 replace all  tr td temp code td td href javascript void 0  onclick fill update  temp code html encoder encode temp descrip  input type hidden id upd temp code name upd temp code value escaped descrip input type hidden id temp code name temp code value temp td td immunization equals code entry get attribute   yes no td tr table form div br include file footer jsp
EditRepresentativesAction edu ncsu csc itrust action util list edu ncsu csc itrust action base patient base action edu ncsu csc itrust beans patient bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql auth dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums role edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception trust exception   edits patient personal representatives used by hcp edit representatives jsp author laurenhayward edit representatives action patient base action patient dao patient dao transaction dao trans dao auth dao auth dao logged in mid   validates the patient mid param factory the daofactory used in creating the daos action param logged in mid the mid of the patient editing his her representatives param pid string the mid of the representative in question trust exception edit representatives action  daofactory factory logged in mid string pid string  trust exception super factory pid string  logged in mid logged in mid trans dao factory get transaction dao  patient dao factory get patient dao  auth dao factory get auth dao    list of patients that pid represents param pid the id of the personnel we are looking up representees list of patient beans trust exception list patient bean get represented long pid  trust exception patient dao get represented pid    makes the patient  pid  represent the input mid parameter param pid string the mid of the person who will be represented  the representee  message trust exception string add representative  string pid string  trust exception representee value of pid string   auth dao get user role representee  role patient  trust exception  user is not patient  super pid representee  trust exception  user cannot represent themselves confirm patient dao add representative pid representee   confirm  trans dao log transaction  transaction type declare  representative logged in mid pid patient pid now represents patient representee  patient represented no change made number format exception e  mid not number   makes the patient  pid  no longer represent the input mid param param input the mid of the person be represented  representee  message trust exception string remove representative  string input  trust exception representee value of input  confirm patient dao remove representative pid representee   confirm  trans dao log transaction  transaction type declare  representative logged in mid pid patient pid no longer represents patient representee  patient represented no change made number format exception e  mid not number
OperationalProfile edu ncsu csc itrust beans util hash map edu ncsu csc itrust enums transaction type   bean storing operational profile data bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  operational profile num total transactions num patient transactions num personnel transactions hash map transaction type integer total count hash map transaction type integer personnel count hash map transaction type integer patient count operational profile  total count create empty map  personnel count create empty map  patient count create empty map  hash map transaction type integer create empty map  hash map transaction type integer map hash map transaction type integer transaction type values  length  transaction type type transaction type values   map put type 0  map hash map transaction type integer get total count  total count set total count  hash map transaction type integer total count  total count total count hash map transaction type integer get personnel count  personnel count set personnel count  hash map transaction type integer personnel count  personnel count personnel count hash map transaction type integer get patient count  patient count set patient count  hash map transaction type integer patient count  patient count patient count set num total transactions int num transactions  num total transactions num transactions get num total transactions  num total transactions get num patient transactions  num patient transactions set num patient transactions int num patient transactions  num patient transactions num patient transactions get num personnel transactions  num personnel transactions set num personnel transactions int num personnel transactions  num personnel transactions num personnel transactions
/auth/patient/menu div menu category span edit span br href trust auth patient edit my demographics jsp my demographics br div div menu category span view span br href trust auth patient view access log jsp access log br href trust auth patient calendar jsp full calendar br href trust auth patient my diagnoses jsp my diagnoses br href trust auth patient view visited hcps jsp my providers br href trust auth patient view my records jsp view my records br href trust auth patient view prescription records jsp prescription records br href trust auth patient view expired prescription records jsp my expired prescription reports br div div menu category span appointments span br href trust auth patient view my appts jsp view my appointments br div div menu category span messaging span br href trust auth patient message inbox jsp message inbox br href trust auth patient message outbox jsp message outbox br div div menu category span telemedicine span br href trust auth patient add telemedicine data jsp report status br div div menu category span other span br href trust auth survey results jsp satisfaction survey results br href trust auth patient show email history jsp show email history br div
MonitorAdverseEventAction edu ncsu csc itrust action   used by phas to view the reported adverse events sql sqlexception text parse exception util array list util list edu ncsu csc itrust email util edu ncsu csc itrust beans adverse event bean edu ncsu csc itrust beans email edu ncsu csc itrust beans message bean edu ncsu csc itrust beans patient bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql adverse event dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception monitor adverse event action logged in mid email util emailer patient dao patient dao adverse event dao adverse event dao transaction dao transaction dao send message action messenger   constructor param factory param logged in mid monitor adverse event action  daofactory factory logged in mid  logged in mid logged in mid transaction dao factory get transaction dao  patient dao factory get patient dao  emailer email util factory  adverse event dao factory get adverse event dao  messenger send message action factory logged in mid    returns list of reports between specified dates param is prescription to prescriptions or immunizations param start the starting date param end the ending date the list of events trust exception form validation exception sqlexception parse exception list adverse event bean get reports boolean is prescription string start string end throws trust exception form validation exception sqlexception parse exception if is prescription  transaction dao log transaction  transaction type adverse  event logged in mid adverse prescription reports requested adverse event dao get perscriptions start end  is immunization transaction dao log transaction  transaction type adverse  event logged in mid adverse immunization report requested adverse event dao get immunizations start end    returns the patient name param mid the mid of the patient to the name string get name long mid  patient dao get name  mid  catch  dbexception e  catch i trust exception e  patient no longer exists   sends an e mail to patient requesting more information param patient mid the patient to receive the message param message the message string testing purposes dbexception string send email long patient mid string message  dbexception string value list string to list array list string   patient bean receiver patient dao get patient patient mid  to list add receiver get email   email mail email  mail set body message  mail set from logged in mid mail set to list to list  emailer send email mail  transaction dao log transaction  transaction type adverse  event logged in mid requested more information value mail get from  mail get body  value   method used to remove an adverse event report param id the id of the report to be removed dbexception trust exception remove int id  dbexception trust exception form validation exception hcpmid adverse event bean ae bean adverse event dao get report id  adverse event dao remove report id  hcpmid adverse event dao get hcpmid id  message bean bean two message bean  message bean bean one message bean  string body an adverse event ae bean get drug  perscribed to patient dao get name  parse long ae bean get mid   with description ae bean get description  was removed bean one set to  parse long ae bean get mid   bean two set to  hcpmid  bean one set subject  subject bean two set subject  subject bean one set body body  bean two set body body  bean one set from logged in mid  bean two set from logged in mid  messenger send message m bean one  messenger send message m bean two  transaction dao log transaction  transaction type adverse  event logged in mid adverse event report removed catch  sqlexception e  dbexception e 
ProcedureBean edu ncsu csc itrust beans sql date   bean storing data about procedure bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  procedure bean ov procedure id string cptcode string description string attribute date date string hcpid procedure bean  procedure bean  string code  cptcode code procedure bean  string code string description  cptcode code description description procedure bean  string code string description string attribute  cptcode code description description attribute attribute procedure bean  string code string description string attribute string hcpid  cptcode code description description attribute attribute hcpid hcpid   gets the cpt code procedure the cpt code procedure string get cptcode  cptcode set cptcode  string code  cptcode code   gets the cpt description procedure the cpt description procedure string get description  description set description  string description  description description   gets the hcp id of the hcp administering the immunization string string get hcpid  hcpid set hcpid  string hcpid  hcpid hcpid   gets the cpt attribute used to determine is an immunization string string get attribute  attribute   sets the cpt attribute used to determine is an immunization param string set attribute  string attrib  attribute attrib get ov procedure id  ov procedure id set ov procedure id long ov procedure id  ov procedure id ov procedure id date get date  date set date  date d  date
AgeFactor edu ncsu csc itrust risk factors edu ncsu csc itrust beans patient bean   the risk factor associated with checking person is over particular age see link patient risk factor details on what each method typically does author andy age factor patient risk factor patient bean patient age age factor  patient bean patient age  age age patient patient string get description  patient is over age has factor  patient get age  age
/auth/hcp/editRepresentatives taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page util list page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust action edit representatives action page edu ncsu csc itrust exception trust exception include file global jsp page title trust manage representatives include file header jsp br require patient id first string pid string string session get attribute  pid  pid string pid string length   response send redirect  trust auth get patient id jsp forward hcp edit representatives jsp edit representatives action action list patient bean representees pid action edit representatives action prod dao logged in mid value  pid string  pid action get pid  string representee request get parameter  uid rep id string confirm if representee representee equals   confirm action add representative representee  string remove id request get parameter  remove id if remove id remove id equals   confirm action remove representative remove id  if  equals confirm  div align center span trust message confirm span div br catch i trust exception ite  div align center span trust error ite get message  span div br representees action get represented pid  form method post name main form input type hidden name pid value pid input type hidden id remove id name remove id value script type text javascript function remove rep rep mid  document get element by id  remove id value rep mid document main form submit  script table table align center tr th colspan current representatives th tr tr sub header td name td td style width 30px action td tr if representees size  0  tr td colspan style text align center no representatives specified td tr for  patient bean representees  tr  td get mid  td  td get full name  td td href javascript remove rep  get mid  remove td tr tr td colspan br td tr tr td colspan table tr td patient td td style width 150px border 1px solid gray input name uid rep id value type hidden span id name rep id name name rep id not specified span td td include file util get user frame jsp input type button onclick get user  rep id value find user td tr table td tr table br div align center input name action type submit value represent patient div form br br br itrust patient nav include file footer jsp
ManageHospitalAssignmentsAction edu ncsu csc itrust action util list edu ncsu csc itrust beans hospital bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql hospitals dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception trust exception   manages the assignment of hcps to hospitals used by hospital assignments jsp author laurenhayward manage hospital assignments action transaction dao trans dao personnel dao personnel dao hospitals dao hospitals dao logged in mid   set up defaults param factory the daofactory used to create the daos used in action param logged in mid the mid of the user managing hospitals manage hospital assignments action  daofactory factory logged in mid  logged in mid logged in mid trans dao factory get transaction dao  personnel dao factory get personnel dao  hospitals dao factory get hospitals dao    returns list of hospitals to which the given mid is not currently assigned param mid string list of hospital beans trust exception list hospital bean get available hospitals  string mid string  trust exception mid value of mid string  list hospital bean all hospitals hospitals dao get all hospitals  list hospital bean our hospitals personnel dao get hospitals mid  our hospitals is empty   all hospitals remove our hospitals remove 0  all hospitals number format exception e  trust exception  hcp mid not number   returns list of hospitals to which the given mid is currently assigned param mid string list of hosptial beans trust exception list hospital bean get assigned hospitals  string mid string  trust exception mid value of mid string  personnel dao get hospitals mid  number format exception e  trust exception  hcp mid not number   assigns the mid to the hospital param mid string the mid of the person assigned to the hospital as string param hospital id the id of the hospital message indicating the status of the assignment trust exception string assign hcpto hospital  string mid string string hospital id  trust exception hcp id value of mid string  confirm hospitals dao assign hospital hcp id hospital id   confirm  only patient is mentioned transaction type but spec looks like personnel should be included too trans dao log transaction  transaction type enter  edit  demographics logged in mid hcp id hcp assigned to hospital hcp successfully assigned assignment did not occur number format exception e  trust exception  hcp mid not number   removes hcps assignment to the designated hospital param mid string the hcp mid param hospital id the hospital id to be removed status message trust exception string remove hcpassignment to hospital  string mid string string hospital id  trust exception hcp id value of mid string  confirm hospitals dao remove hospital assignment hcp id hospital id   confirm  trans dao log transaction  transaction type enter  edit  demographics logged in mid hcp id hcp unassigned from hospital hcp successfully unassigned hcp not unassigned number format exception e  trust exception  hcp mid not number   removes all hospital assignments the given hcp mid param mid string hcp mid status message trust exception remove all assignments from hcp  string mid string  trust exception hcp id value of mid string  num assignments hospitals dao remove all hospital assignments from hcp id   0 num assignments  trans dao log transaction  transaction type enter  edit  demographics logged in mid hcp id hcp unassigned from all hospital num assignments number format exception e  trust exception  hcp mid not number   checks the hcp id param is hcp param hcp id the string to be checked the mid as the hcp id is hcp mid trust exception check hcpid  string hcp id  trust exception pid value of hcp id   personnel dao check personnel exists pid  pid trust exception  hcp does not exist number format exception e  trust exception  hcp id is not number get message  
DBException edu ncsu csc itrust exception sql sqlexception   the reasoning behind wrapper exception is security when an sql exception gets thrown all the way back to the jsp we begin to reveal details about our database  even knowing that it my sql is bad so we make wrapper exception with vague description but we also keep track of the sql exception debugging and testing purposes author andy dbexception trust exception serial version uid  6554118510590118376 sqlexception sql exception dbexception  sqlexception e  super  database exception has occurred please see the log in the console stacktrace sql exception   the sql exception that was responsible error sqlexception get sqlexception  sql exception override string get extended message   sql exception null  sql exception get message  get extended message 
DrugInteractionValidator edu ncsu csc itrust validate edu ncsu csc itrust beans drug interaction bean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception   validates drug interaction bean from link drug interaction action drug interaction validator bean validator drug interaction bean   the constructor drug interaction validator    performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated override validate  drug interaction bean d  form validation exception error list error list error list  error list add not null check format  first drug get first drug  validation format nd false  error list add not null check format  second drug get second drug  validation format nd false  error list add not null check format  description get description  validation format drug  int  comments false   error list has errors   form validation exception error list 
/auth/getPersonnelID include file global jsp page util list page edu ncsu csc itrust action search users action page edu ncsu csc itrust beans personnel bean page title trust please select personnel include file header jsp h1 please select personnel h1 string mid request get parameter  uid  personnelid session set attribute  mid mid   null mid equals mid  response send redirect request get parameter  forward   string first name request get parameter  first  name string last name request get parameter  last  name if first name null  first name if last name null  last name table form method post input type hidden name forward value request get parameter  forward tr td personnel td td style width 150px border 1px solid gray input name uid  personnelid value type hidden input id name  personnelid name name  personnelid type text value select user readonly td td include file util get user frame jsp input type button onclick get user  personnelid value find user td tr tr td align center colspan input type submit value select personnel td tr form tr tr form id user search form action get personnel id jsp forward request get parameter  forward method post tr td first name td td style width 150px border 1px solid gray input name first  name type text value first name td tr tr td last name td td style width 150px border 1px solid gray input name last  name type text value last name td tr tr td align center colspan input type submit value user search td tr form table if  equals first name  equals last name  search users action search action search users action prod dao logged in mid value   out println  searching users named first name last name br list personnel bean personnel search action search personnel with name first name last name  out println  found personnel size  records br out println  table border 1px tr td width 175px mid td td width 250px first name td td width 250px last name td tr for  personnel bean personnel  form action get personnel id jsp forward request get parameter  forward method post input type hidden name uid  personnelid value get mid  out println  tr td input type submit width value get mid  form td td get first name  td td get last name  td tr out println  table include file footer jsp
/auth/pha/information page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust dao mysql personnel dao include file global jsp personnel bean personnelb personnel dao prod dao  get personnel logged in mid  div align center style margin bottom 30px img src trust image user logged in mid value  png alt mid picture div div align center table tr td name td td personnelb get full name  td tr tr td location td td personnelb get city  personnelb get state  td tr table div
/auth/hcp/viewMessageInbox page error page auth exception handler jsp page edu ncsu csc itrust action view my messages action page edu ncsu csc itrust beans message bean page util list include file global jsp page title trust view message include file header jsp view my messages action action view my messages action prod dao logged in mid value   message bean original  request get parameter  msg null  string msg parameter request get parameter  msg msg index msg index integer parse int msg parameter  number format exception nfe  response send redirect  message inbox jsp list message bean messages  session get attribute  messages null  messages list message bean session get attribute  messages if msg index messages size  msg index 0  msg index response send redirect  oops jsp response send redirect  message inbox jsp original message bean messages get msg index  action set read original  session set attribute  message original  response send redirect  message inbox jsp div table width style background color dddddd tr td from action get name original get from   td tr tr td subject original get subject  td tr tr td date amp time original get sent date  td tr table div table tr td colspan href reply jsp style font size 18px reply td tr tr td colspan message td tr tr td colspan original get body  td tr table include file footer jsp
FakeEmailDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans email edu ncsu csc itrust beans loaders email bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos author andy fake email dao daofactory factory email bean loader email bean loader email bean loader    the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc fake email dao  daofactory factory  factory factory   all emails that have been sent  inserted into the database  util list of email objects representing fake e mails dbexception list email get all emails  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from fake email order by added date desc result set rs ps execute query  email bean loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    all emails that person has sent param email the from email address as string util list of fake emails dbexception list email get emails by person  string email  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from fake email where to addr like order by added date desc ps set string 1 email result set rs ps execute query  email bean loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    send an email which just inserts it into the database param email the email object to insert dbexception send email record  email email  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into fake email to addr from addr subject body  values email bean loader load parameters ps email  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns list of emails that have the given string as substring of the body param string the string to search within the body util list of fake emails dbexception list email get email with body  string body substring  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from fake email where instr  body order by added date desc ps set string 1 body substring  result set rs ps execute query  email bean loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
PrescriptionReportBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans prescription report bean   loader prescription report beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader prescription report bean loader bean loader prescription report bean prescription bean loader pres loader office visit loader ov loader prescription report bean loader  ov loader office visit loader  pres loader prescription bean loader  list prescription report bean load list  result set rs  sqlexception array list prescription report bean list array list prescription report bean    rs next   list add load single rs  list prescription report bean load single  result set rs  sqlexception prescription report bean pres prescription report bean  pres set office visit ov loader load single rs  pres set prescription pres loader load single rs  pres prepared statement load parameters  prepared statement ps prescription report bean pres  sqlexception illegal state exception  unimplemented
EmailUtil edu ncsu csc itrust edu ncsu csc itrust beans email edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   sends email to users since we don want to train spammers in just inserts into database we put into an actual system we would replace with stuff from javax mail author andy email util daofactory factory email util  daofactory factory  factory factory not send real emails sending emails even to throwaway account is waste of bandwidth and looks very suspicious you want to know how to send emails from just google it on your own time send email  email email  dbexception factory get fake email dao  send email record email 
VisitReminderReturnFormLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans forms visit reminder form   loader visit reminder forms loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader visit reminder form loader bean loader visit reminder form list visit reminder form load list  result set rs  sqlexception array list visit reminder form list array list visit reminder form    rs next   list add load single rs  list visit reminder form load single  result set rs  sqlexception visit reminder form rs get long  i  hcpid rs get long  i  patient id rs get string  i  last name rs get string  i  first rs get string  i  phone1 rs get string  i  phone2 rs get string  i  phone3 diagnosis rs get string  i  last visit rs get string  i  prepared statement load parameters  prepared statement ps visit reminder form bean  sqlexception illegal state exception  unimplemented
HospitalBean edu ncsu csc itrust beans   bean storing data about hospital bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  hospital bean string hospital id string hospital name hospital bean  hospital bean  string id  hospital id id hospital bean  string id string name  hospital id id hospital name name string get hospital id  hospital id set hospital id  string hospital id  hospital id hospital id string get hospital name  hospital name set hospital name  string hospital name  hospital name hospital name override equals  object obj  obj obj get class  equals this get class   equals  hospital bean  obj  hash code  hash code not designed any arbitrary constant will equals  hospital bean other  hospital id equals other hospital id  hospital name equals other hospital name 
ChangeSessionTimeoutAction edu ncsu csc itrust action edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql access dao edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception   used to change the session timeout session timeout jsp note that change to timeout only gets reflected on sessions author andy meneely change session timeout action access dao access dao   sets up defualts param factory author andy meneely change session timeout action  daofactory factory  access dao factory get access dao    changes the session timeout the complicated logic of is somewhat regrettably in the dao link access dao param minute string pass the number of minutes in the form of string greater than form validation exception dbexception author andy meneely change session timeout  string minute string  form validation exception dbexception integer minutes integer value of minute string   minutes 1  form validation exception  must be number greater than access dao set session timeout mins minutes  number format exception e  form validation exception  that is not number   returns the current session timeout in minutes as reflected in the database the number of minutes it would take an inactive session to timeout dbexception author andy meneely get session timeout  dbexception access dao get session timeout mins 
BeanBuilder edu ncsu csc itrust beans introspector beans property descriptor lang reflect method util hash map util map   takes parameter map and creates bean from that map of the appropriate type param the type to be returned from the appropriate parameter map bean builder   the code here is not obvious but method should not need rewriting unless bug is found param map typically request get parameter map also can be hash map param bean an instantiated bean to be loaded loaded bean is returned loaded bean exception several exceptions are thrown here so promotion seemed fitting warning is only suppressed because map isn parameterized  old jsp  suppress warnings  unchecked build  map map bean  exception beans should not have overloaded methods according to their api  a stupid limitation nevertheless we should check it check overloaded methods bean  use an introspector to find all of the get xxx or set xxx we only want the set xxx property descriptor property descriptors introspector get bean info bean get class   get property descriptors  property descriptor descriptor property descriptors  object is either it was ignored or empty just go with bean string value string map get descriptor get name   method write method descriptor get write method  equals descriptor get name   value write method null  descriptor name is the name of your property like first name only take the first string skip the setters enumerations  write method get parameter types  get constants  null  write method invoke bean object value illegal argument exception e  more informative exception illegal argument exception e get message  with write method get name  and value bean   checks overloaded methods param bean item to check check overloaded methods  bean  method methods bean get class  get declared methods  hash map string string name map hash map string string  methods length  method method methods   name map get method get name   null  illegal argument exception bean get class  get name  should not have any overloaded methods like method get name   equals equals method get name   allow an equals override name map put method get name  exists
ReferralBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans referral bean edu ncsu csc itrust beans referral bean referral status   loader referral beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader referral bean loader bean loader referral bean referral bean loader  list referral bean load list  result set rs  sqlexception array list referral bean list array list referral bean    rs next   list add load single rs  list referral bean load single  result set rs  sqlexception referral bean ref referral bean  eric fixed to correct the mysql database bug plaguing ref set id long  rs get int  id   ref set id rs get long  id   ref set sender id rs get long  sender id   ref set receiver id rs get long  receiver id   ref set patient id long  rs get int  patient id   ref set referral details rs get string  referral details   ref set consultation details rs get string  consultation details    rs get string  status equals  pending   ref set status  referral status pending   rs get string  status equals  finished   ref set status  referral status finished  ref set status  referral status declined  ref prepared statement load parameters  prepared statement ps referral bean ref  sqlexception ps set long 1 ref get patient id   ps set long 2 ref get sender id   ps set long 3 ref get receiver id   ps set string 4 ref get referral details   ps set string 5 ref get consultation details   ps set string 6 ref get status  to string   ps
LabProcedureValidator edu ncsu csc itrust validate edu ncsu csc itrust beans lab procedure bean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception lab procedure validator   performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated validate  lab procedure bean b  form validation exception error list error list error list  error list add not null check format  loinc get loinc  validation format loinc false  error list add not null check format  commentary get commentary  validation format comments true  error list add not null check format  results get commentary  validation format comments true  error list add not null check format  status get status  validation format lab  status false  error list add not null check format  rights get rights  validation format lab  rights false   error list has errors   form validation exception error list  string check format  string name string value validation format format is nullable  string error message name format get description   value equals value  is nullable error message  format get regex  matcher value  matches   error message
/auth/hcp uap/editPrescription taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page edu ncsu csc itrust action edit prescription action page edu ncsu csc itrust action edit office visit action page edu ncsu csc itrust beans office visit bean page edu ncsu csc itrust beans prescription bean include file global jsp page title trust edit prescription information include file header jsp make change  request get parameter  change null   request get parameter  change equals ignore case   make change edit prescription action prescription action edit prescription action prod dao  string ov idstring request get parameter  ov id string pid string string session get attribute  pid pres id integer parse int request get parameter  pres id   edit office visit action office action edit office visit action prod dao logged in mid pid string ov idstring  office visit bean ov office action get office visit  prescription bean prescription prescription bean pres ov get prescriptions    pres get id  pres id  prescription pres  prescription null  h1 error prescription not found h1 make change  portion prints form to edit the prescription information form action edit prescription jsp ov id ov idstring pres id pres id change method post table align center border table tr th colspan edit prescription instructions th tr tr sub header td align center medication td td align center dosage td td align center dates td td align center colspan instructions td tr tr td align center prescription get medication  get description  prescription get medication  get ndcode  td td align center input type text name dosage value prescription get dosage  size in mg  td td align center prescription get start date str  to prescription get end date str  td td align center textarea name instructions rows cols prescription get instructions  textarea td tr table br center input type submit value change input type reset value reset center form portion prints out the recently edited prescription information and provides link to the home page prescription set dosage  integer parse int request get parameter  dosage   prescription set instructions request get parameter  instructions   prescription action edit prescription prescription  table align center border table tr th colspan prescription updated th tr tr sub header td align center medication td td align center dosage td td align center dates td td align center colspan instructions td tr tr td align center prescription get medication  get description  prescription get medication  get ndcode  td td align center prescription get dosage  mg td td align center prescription get start date str  to prescription get end date str  td td align center prescription get instructions  td tr table catch  exception e  center the prescription could not be edited due to an internal error br please again later br to string  center include file footer jsp
/auth/patient/addTelemedicineData page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust action add remote monitoring data action page edu ncsu csc itrust action edit representatives action page edu ncsu csc itrust beans patient bean page util list taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp include file global jsp page title trust report status include file header jsp require patient id first patient mid representative reporting string reporting string request get parameter  reporting if reporting reporting length  reporting equals   patient mid logged in mid value  self reporting patient mid parse long reporting for  representative reporting add remote monitoring data action action add remote monitoring data action  prod dao logged in mid value  patient mid  update information form is filled request get parameter  form is filled request get parameter  form is filled equals   form is filled   request get parameter  glucose level equals request get parameter  glucose level   action add remote monitoring data  integer parse int request get parameter  systolic blood pressure   integer parse int request get parameter  diastolic blood pressure    request get parameter  systolic blood pressure equals request get parameter  systolic blood pressure   action add remote monitoring data  integer parse int request get parameter  glucose level   action add remote monitoring data  integer parse int request get parameter  systolic blood pressure   integer parse int request get parameter  diastolic blood pressure   integer parse int request get parameter  glucose level   div align center span trust message information successfully added span div form validation exception e  form is filled div align center span trust error get message  span div catch  number format exception e  form is filled div align center span trust error invalid entry get message  please enter whole number span div if  form is filled  form action add telemedicine data jsp method post input type hidden name form is filled value input type hidden name reporting value string request get parameter  reporting br table cellspacing align center cellpadding tr th  patient mid logged in mid value   self reporting report action get patient name patient mid  th tr tr td valign top table table align center style width 350px tr td sub header vertical systolic blood pressure td td input name systolic blood pressure value type text td tr tr td sub header vertical diastolic blood pressure td td input name diastolic blood pressure value type text td tr tr td sub header vertical glucose level td td input name glucose level value type text td tr table td td width 15px nbsp td td valign top td tr table br div align center input type submit name action style font weight bold value report br br br if  representative reporting  table table align center th patient representative reporting th edit representatives action reps action edit representatives action  prod dao to string patient mid  list patient bean patients reps action get represented patient mid  if patients size  0  tr sub header th no patients represented th tr tr sub header th patient th tr for  patient bean patients  tr td href onclick javascript document get elements by name  form is filled value document get elements by name  reporting value get mid  document forms submit  get full name  td tr table div form br br include file footer jsp
HealthRecordsBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans health record   loader health records loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader health records bean loader bean loader health record list health record load list  result set rs  sqlexception array list health record list array list health record    rs next   list add load single rs  list prepared statement load parameters  prepared statement ps health record bean  sqlexception ps set long i bean get patient id   ps set double i bean get height   ps set double i bean get weight   ps set int i bean is smoker  0  ps set int i bean get blood pressure n   ps set int i bean get blood pressure d   ps set int i bean get cholesterol hdl   ps set int i bean get cholesterol ldl   ps set int i bean get cholesterol tri   ps set long i bean get personnel id   ps health record load single  result set rs  sqlexception health record hr health record  hr set blood pressure n rs get int  blood pressure   hr set blood pressure d rs get int  blood pressure   hr set cholesterol hdl rs get int  cholesterol hdl   hr set cholesterol ldl rs get int  cholesterol ldl   hr set cholesterol tri rs get int  cholesterol tri   hr set date recorded rs get timestamp  as of date   hr set smoker rs get int  smoker 1  hr set height rs get double  height   hr set weight rs get double  weight   hr set personnel id rs get long  hcpid   hr set patient id rs get long  patient id   hr
SetSecurityQuestionAction edu ncsu csc itrust action edu ncsu csc itrust beans security qa edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql auth dao edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate security qavalidator   handles setting and retrieving the security questions answers users used by patient edit my demographics jsp staff edit my demographics jsp staff edit personnell jsp author laurenhayward set security question action auth dao auth dao logged in mid   sets up defaults param factory the daofactory used to create the daos used in action param logged in mid the mid of the user who is setting their security question trust exception set security question action  daofactory factory logged in mid  trust exception auth dao factory get auth dao  logged in mid check mid r logged in mid    updates information in the database from the information held in the security qa bean passed as param param security question bean that holds information exception update information  security qa a  exception security qavalidator sqav security qavalidator  sqav validate a  auth dao set security question answer a get question  get answer  logged in mid    returns security qa bean holding the security info the currently logged in user security qa logged in mid trust exception security qa retrieve information  trust exception security qa to ret security qa  to ret set answer auth dao get security answer logged in mid  to ret set question auth dao get security question logged in mid  to ret   checks to make sure the mid exists in trust param mid mid to check returns the mid the user is valid otherwise an exception trust exception check mid long mid  trust exception auth dao check user exists mid  trust exception  mid mid is not user mid
/auth/hcp er/emergencyReport taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust beans diagnosis bean page edu ncsu csc itrust action emergency report action page edu ncsu csc itrust beans prescription bean page edu ncsu csc itrust beans allergy bean page edu ncsu csc itrust beans procedure bean page edu ncsu csc itrust dao mysql report request dao page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust dao mysql patient dao page edu ncsu csc itrust dao mysql personnel dao page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust beans email page edu ncsu csc itrust email util page util list page util array list page util date include file global jsp page title trust er report string pid string print  null request get parameter  print request get parameter  print equals   print  require patient id first pid string string session get attribute  pid  null pid string pid string length   response send redirect  trust auth get patient id jsp forward hcp er emergency report jsp session set attribute  print pid pid string  session remove attribute  pid pid string string session get attribute  print pid  null pid string pid string length   response send redirect  trust auth get patient id jsp forward hcp er emergency report jsp session remove attribute  print pid the patient id doesn check out then kick em out to the exception handler emergency report action action emergency report action prod dao logged in mid value  pid string  now take care of updating information  print  include file print header jsp include file header jsp print  generate report to the hcp of patient todo possibly change to use messages and different display format on hcp home screen report request dao make report report request dao prod dao  patient dao patients patient dao prod dao  patient bean patient patients get patient action get pid   personnel dao hcps personnel dao prod dao  list personnel bean peeps hcps get all personnel  list string emails array list string   personnel bean peeps   patients check declared hcp patient get mid  get mid   make report add report request p get mid  patient get mid  date   emails add p get email   email my email email  my email set body  patient patient get full name  medical record was viewed by an er my email set subject  patient records viewed my email set to list emails  my email set from  noreply itrust com email util emailer email util prod dao  emailer send email my email  form action emergency report jsp method post input type hidden name print id print value input type submit value print form ul li name action get patient name  li li age action get patient age  li li gender action get patient gender  li li emergency contact action get patient emergency contact  li li allergies  0 action get allergies  size   strong no allergies on record strong ul allergy bean bean action get allergies   out print  li bean get description  bean get first found str  li ul li li blood type action get blood type  li li diagnoses  0 action get warning diagnoses  size   strong no critical diagnoses on record strong ul for  diagnosis bean bean action get warning diagnoses   out print  li bean get icdcode  bean get description  li ul li li prescriptions  0 action get current prescriptions  size   strong no current prescriptions on record strong ul for  prescription bean bean action get current prescriptions   out print  li bean get medication  get ndcode  bean get medication  get description  li ul li li immunizations  0 action get immunizations  size   strong no immunizations on record strong ul procedure bean bean action get immunizations    null bean get attribute  bean get attribute  equals  immunization   out print  li bean get description  bean get cptcode  li ul li include file footer jsp
CholesterolFactor edu ncsu csc itrust risk factors edu ncsu csc itrust beans health record   checks cholesterol is over given threshold given patient see link patient risk factor details on what each method typically does author andy cholesterol factor patient risk factor hdl threshold ldl threshold tri threshold health record record cholesterol factor  health record current health record  record current health record string get description  patient has bad cholesterol has factor   record get cholesterol hdl  hdl threshold   record get cholesterol ldl  ldl threshold   record get cholesterol tri  tri threshold 
/auth/uap/home include file global jsp page title trust uap home include file header jsp div style text align center height 300px h2 welcome user name h2 div include file footer jsp
/auth/pha/monitorAdverseEvents page error page auth exception handler jsp page util list page util date page text simple date format page edu ncsu csc itrust action monitor adverse event action page edu ncsu csc itrust beans adverse event bean page edu ncsu csc itrust exception form validation exception include file global jsp page title trust monitor adverse events include file header jsp script function show bar chart id  id id substring 5 id index of  button   window open  barchart jsp id id barchart width height resizable yes script monitor adverse event action action monitor adverse event action prod dao logged in mid value   list adverse event bean events string prescription immunization if request get parameter  prescriptions null  events action get reports true request get parameter  start date request get parameter  end date   prescription immunization prescription catch  form validation exception e  div align center span trust error get message  span div if request get parameter  immunizations null  events action get reports false request get parameter  start date request get parameter  end date   prescription immunization immunization catch  form validation exception e  div align center span trust error get message  span div if prescription immunization session set attribute  events events  session set attribute  prescription immunization prescription immunization  form action adverse event details jsp method post input type hidden name event number value table table align center tr header th prescription immunization th th reporter th th date th th details th th prescription immunization reports by month th tr code count string current code if events size  0  current code events get 0  get code  tr td colspan align center no adverse events reported td tr for  adverse event bean event events  if  removed equals event get status   tr td if current code equals event get code   code count script document get element by id  chart current code row span code count script code count current code event get code  event get drug  event get code  td td action get name  parse long event get mid   td catch  number format exception e  td invalid patient id td td event get date  td td href adverse event details jsp event number get details td if code count 1  td id chart current code rowspan href adverse event chart jsp code current code view chart td tr table script document get element by id  chart current code row span code count script form string start date simple date format  mm dd yyyy format new date   string end date simple date format  mm dd yyyy format new date   form action monitor adverse events jsp method post table table align center tr sub header td start date td td input name start date value start date size input type button value select date td td end date td td input name end date value end date size input type button value select date td tr table br br div align center input type submit value prescriptions name prescriptions input type submit value immunizations name immunizations div br form include file footer jsp
/auth/hcp/viewAppt page error page auth exception handler jsp page util date page text date format page text simple date format page edu ncsu csc itrust action edit appt type action page edu ncsu csc itrust action view my appts action page edu ncsu csc itrust beans appt bean page util list include file global jsp page title trust view message include file header jsp view my appts action action view my appts action prod dao logged in mid value   edit appt type action types edit appt type action prod dao logged in mid value   appt bean original  request get parameter  apt null  string apt parameter request get parameter  apt apt index apt index integer parse int apt parameter  number format exception nfe  response send redirect  view my appts jsp list appt bean appts  session get attribute  appts null  appts list appt bean session get attribute  appts if apt index appts size  apt index 0  apt index response send redirect  oops jsp response send redirect  view my appts jsp original appt bean appts get apt index  response send redirect  view my appts jsp date date original get date  get time   date format format simple date format  mm dd yyyy hh mm div table width style background color dddddd tr th appointment info th tr tr td patient action get name original get patient   td tr tr td type original get appt type  td tr tr td date time format format d  td tr tr td duration types get duration by type original get appt type   minutes td tr table div table tr td colspan comments td tr tr td colspan  original get comment  null  no comment original get comment  td tr table include file footer jsp
/auth/patient/information page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust dao mysql patient dao include file global jsp patient bean patient patient dao  daofactory get production instance   get patient logged in mid  div align center style margin bottom 30px img src trust image user logged in mid value  png alt mid picture div div align center table tr td name td td patient get full name  td tr tr td gender td td patient get gender  td tr tr td location td td patient get city  patient get state  td tr tr td dob td td patient get date of birth str  td tr tr td blood type nbsp nbsp nbsp nbsp nbsp td td patient get blood type  td tr table div
BloodType edu ncsu csc itrust enums   all possible blood types author andy blood type apos  aneg  a bpos  bneg  b abpos  ab abneg  ab opos  oneg  o ns  string name blood type  string name  name name string get name  name override string to string  get name  blood type parse  string blood type str  blood type type blood type values    type get name  equals blood type str  type ns
CPTCodesDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans procedure bean edu ncsu csc itrust beans loaders procedure bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception   used managing cpt codes dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos the cpt code set accurately describes medical surgical and diagnostic services and is designed to communicate uniform information about medical services and procedures among physicians coders patients accreditation organizations and payers administrative financial and analytical purposes see http www ama assn org ama pub physician resources solutions managing your practice coding billing insurance cpt about cpt shtml author andy cptcodes dao daofactory factory procedure bean loader procedure bean loader procedure bean loader    the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc cptcodes dao  daofactory factory  factory factory   returns list of all cpt codes util list of procedure beans the cpt codes dbexception list procedure bean get all cptcodes  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from cptcodes order by code result set rs ps execute query  procedure bean loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns list of all cpt codes util list of all immunization related cpt codes dbexception list procedure bean get immunization cptcodes  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from cptcodes where attribute immunization order by code result set rs ps execute query  procedure bean loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns particular procedure description code param code the string representation of the code the textual description of the code dbexception procedure bean get cptcode  string code  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from cptcodes where code ps set string 1 code  result set rs ps execute query   rs next   procedure bean loader load single rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    adds cpt code returns that it was added successfully param proc procedure bean representing the code information whether the operation was successful dbexception trust exception add cptcode  procedure bean proc  dbexception trust exception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into cptcodes code description attribute  values ps set string 1 proc get cptcode   ps set string 2 proc get description   ps set string 3 proc get attribute    1 ps execute update   sqlexception e  print stack trace   1062 get error code   trust exception  error code already exists dbexception e  dbutil close connection conn ps    change the procedure description particular cpt code param proc procedure bean representing the code information whether the operation was successful dbexception update code  procedure bean proc  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  update cptcodes set description attribute where code ps set string 1 proc get description   ps set string 2 proc get attribute   ps set string 3 proc get cptcode   ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
RemoteMonitoringDataBean edu ncsu csc itrust beans sql timestamp   bean storing remote monitoring data patients bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  remote monitoring data bean patient mid timestamp time systolic blood pressure diastolic blood pressure glucose level string reporter role reporter mid   constructor with no parameters remote monitoring data bean    constructor with logged in mid parameter remote monitoring data bean long patient mid  patient mid patient mid get reporter mid  reporter mid set reporter mid long reporter mid  reporter mid reporter mid get patient mid  patient mid set logged in mid long patient mid  patient mid patient mid timestamp get time  time set time  timestamp time  time time get systolic blood pressure  systolic blood pressure set systolic blood pressure int systolic blood pressure  systolic blood pressure systolic blood pressure get diastolic blood pressure  diastolic blood pressure set diastolic blood pressure int diastolic blood pressure  diastolic blood pressure diastolic blood pressure get glucose level  glucose level set glucose level int glucose level  glucose level glucose level string get reporter role  reporter role set reporter role  string reporter role  reporter role reporter role
/auth/hcp/messageOutbox page error page auth exception handler jsp page util list page edu ncsu csc itrust action view my messages action page edu ncsu csc itrust beans message bean page edu ncsu csc itrust dao daofactory include file global jsp page title trust view my sent messages include file header jsp div align center h2 my sent messages h2 href trust auth hcp send message jsp compose message br br view my messages action action view my messages action prod dao logged in mid value   list message bean messages if request get parameter  sortby null  if request get parameter  sortby equals  name   if request get parameter  sorthow equals  asce   messages action get all my sent messages name ascending  messages action get all my sent messages name descending  if request get parameter  sortby equals  time   if request get parameter  sorthow equals  asce   messages action get all my sent messages time ascending  messages action get all my sent messages  messages action get all my sent messages  session set attribute  messages messages   messages size  0  form method post action message outbox jsp table tr td select name sortby option value time sort option option value name name option option value time time option select td td select name sorthow option value desc order option option value asce ascending option option value desc descending option select td td input type submit value sort td tr table form br table fancy table tr th to th th subject th th sent th th th tr index for  message bean message messages  tr  index 1  alt td action get name message get to   td td message get subject  td td message get sent date  td td href view message outbox jsp msg index read td tr index table div you have no messages div br div include file footer jsp
RandomPassword edu ncsu csc itrust util random   generates random string of characters author andy random password random rand random    returns string of random characters string of random characters string get random password  string str  int str  char   rand next int 26  str
RemoteMonitoringDataBeanValidator edu ncsu csc itrust validate edu ncsu csc itrust action add remote monitoring data action edu ncsu csc itrust beans remote monitoring data bean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception   validator used to validate adding remote monitoring data in link add remote monitoring data action remote monitoring data bean validator bean validator remote monitoring data bean   the constructor remote monitoring data bean validator    performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated override validate  remote monitoring data bean m  form validation exception error list error list error list  error list add not null check format  systolic blood pressure get systolic blood pressure  validation format systolic  blood  pressure false  error list add not null check format  diastolic blood pressure get diastolic blood pressure  validation format diastolic  blood  pressure false  error list add not null check format  glucose level get glucose level  validation format glucose  level false   error list has errors   form validation exception error list 
ProcedureBeanValidator edu ncsu csc itrust validate edu ncsu csc itrust action update ndcode list action edu ncsu csc itrust beans procedure bean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception   validates an nd code from link update ndcode list action author andy procedure bean validator bean validator procedure bean   the constructor procedure bean validator    performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated override validate  procedure bean p  form validation exception error list error list error list  error list add not null check format  cpt code get cptcode  validation format cpt false  error list add not null check format  description get description  validation format cpt  code  description false   error list has errors   form validation exception error list 
/util/showFakeEmails page sql page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust dao mysql fake email dao page edu ncsu csc itrust beans email page util list html head title fake emails sent title style type text css body margin 4px font family arial font size 8em results border collapse collapse results tr th font size 9em padding 0px 5px 0px 5px background color navy color white results tr td font size 8em padding 0px 5px 0px 5px results tr th results tr td border 1px solid gray style head body href trust back to trust h2 testing purposes only h2 list email emails daofactory get production instance  get fake email dao  get all emails  fake emails br table results tr th to list th th from th th subject th th body th tr email email emails  tr td email get to list str  td td email get from  td td email get subject  td td email get body  td tr table br br body html
AddUAPAction edu ncsu csc itrust action edu ncsu csc itrust random password edu ncsu csc itrust beans personnel bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql auth dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums role edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate add personnel validator   used add personnel page  add personnel jsp  just adds an empty hcp uap creates random password them very similar to link add office visit action and link add patient action author andy meneely add uapaction personnel dao personnel dao auth dao auth dao transaction dao trans dao logged in mid   sets up the defaults the param factory factory creating the defaults param logged in mid person currently logged in author andy meneely add uapaction  daofactory factory logged in mid  personnel dao factory get personnel dao  auth dao factory get auth dao  trans dao factory get transaction dao  logged in mid logged in mid   adds the user event is logged param bean containing the information the user mid of the user form validation exception trust exception add  personnel bean p  form validation exception trust exception add personnel validator  validate p  mid personnel dao add empty personnel  role uap  set mid new mid  personnel dao edit personnel p  string pwd auth dao add user new mid role uap random password get random password   set password pwd  trans dao log transaction  transaction type create  disable  patient  hcp logged in mid mid uap added mid
/auth/patient/viewLabProc taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page util list page edu ncsu csc itrust beans lab procedure bean page edu ncsu csc itrust action view my records action include file global jsp page title trust view laboratory procedures include file header jsp view my records action action view my records action prod dao logged in mid value   list lab procedure bean proc action get labs  id if request get parameter  id null  id integer parse int request get parameter  id   number format exception nfe  response send redirect  calendar jsp lab procedure bean bean for  lab procedure bean proc  if b get pid  id  bean if bean null  response send redirect  calendar jsp br table table align center tr th colspan lab procedures th tr tr sub header td lab code td td status td td commentary td td results td td office visit id td td updated date td tr tr td bean get loinc  td td bean get status  td td bean get commentary  td td bean get results  td td bean get ov id  td td bean get timestamp  td tr table br br include file footer jsp
HospitalBeanValidator edu ncsu csc itrust validate edu ncsu csc itrust action update hospital list action edu ncsu csc itrust beans hospital bean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception   validates the input hospital beans link update hospital list action author andy hospital bean validator bean validator hospital bean   the constructor hospital bean validator    performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated override validate  hospital bean h  form validation exception error list error list error list  error list add not null check format  hospital id get hospital id  validation format hospital  id false  error list add not null check format  hospital name get hospital name  validation format hospital  name false   error list has errors   form validation exception error list 
/auth/admin/hospitalListing page error page auth exception handler jsp page net urlencoder page util list page edu ncsu csc itrust page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust beans hospital bean page edu ncsu csc itrust action update hospital list action page edu ncsu csc itrust exception form validation exception include file global jsp page title trust maintain hospital listing and assignments include file header jsp string header message current hospital listing update hospital list action hosp updater update hospital list action  daofactory get production instance  logged in mid   request get parameter  add request get parameter  update null  hospital bean hosp bean builder hospital bean   build request get parameter map  hospital bean   header message  request get parameter  add null  hosp updater add hospital hosp  hosp updater update information hosp  catch  form validation exception e  div align center span trust error get message  span div header message validation errors string header color  header message index of  error  1  ffcccc cccc div align center form name main form method post input type hidden id update id name update id value input type hidden id old name name old name value script type text javascript function fill update id  document get element by id  hospital id value id document get element by id  hospital name value unescape document get element by id  upd id  value  document get element by id  old descrip value unescape document get element by id  upd id  value  script h3 hospital listing h3 span trust message header message span br br table table align center tr th colspan update hospital list th tr tr sub header th hospital id th th hospital name th tr tr td input type text name hospital id id hospital id size maxlength td td input type text name hospital name id hospital name size maxlength td tr table br input type submit name add value add hospital input type submit name update value update hospital information br br table table align center tr th colspan current hospitals th tr tr sub header th hospital id th th hospital name th tr list hospital bean hosp list daofactory get production instance  get hospitals dao  get all hospitals  string temp id string temp name string escaped name hospital bean hosp entry hosp list  temp id hosp entry get hospital id  temp name hosp entry get hospital name  escaped name urlencoder encode temp name utf 8 replace all  tr td temp id td td href javascript void 0  onclick fill update  temp id temp name input type hidden id upd temp id name upd temp id value escaped name td tr table form div br include file footer jsp
/auth/hcp/visitReminders page error page auth exception handler jsp page util list page edu ncsu csc itrust action get visit reminders action page edu ncsu csc itrust action get visit reminders action reminder type page edu ncsu csc itrust beans visit flag page edu ncsu csc itrust beans forms visit reminder form page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust dao mysql personnel dao include file global jsp page title trust visit reminders include file header jsp get visit reminders action action get visit reminders action prod dao logged in mid value   div align center h2 patients needing visits h2 form action visit reminders jsp method post id reminder form input type hidden id form is filled value select id reminder type name reminder type reminder type rt reminder type values   option rt get type name  equals request get parameter  reminder type   selected value rt get type name  rt get type name  option select br br input type submit id get reminders name get reminders value get reminders form br if  get reminders equals request get parameter  get reminders   list visit reminder form reminders action get visit reminders  reminder type get reminder type request get parameter  reminder type   visit reminder form reminder reminders  table table tr th colspan patient information th tr tr td sub header vertical name td td href send email notification jsp mid reminder get patient id  reminder get first name  reminder get last name  td tr tr td sub header vertical phone number td td reminder get phone number  td tr tr td sub header vertical reasons td td for  visit flag vf reminder get visit flags   vf get type  nbsp nbsp vf get value  br td tr table  is the original table format which has the first and last name on separate lines in favor of making the link to send an email to patient more friendly ve changed to the above table which puts both names together table table tr th colspan patient information th tr tr td sub header vertical last name td td href send email notification jsp mid reminder get patient id  reminder get last name  td tr tr td sub header vertical first name td td reminder get first name  td tr tr td sub header vertical phone number td td reminder get phone number  td tr tr td sub header vertical reasons td td for  visit flag vf reminder get visit flags   vf get type  nbsp nbsp vf get value  br td tr table  br div include file footer jsp
/loginMenu div menu category form method post action trust j security check if login message null  div style align center margin bottom 10px span trust error style font size 16px login message span div span mid span br input type text maxlength name j username br span password span br input type password maxlength name j password br br input type submit value login br br style font size href trust util reset password jsp reset password form if  equals  system get property  itrust production  section is testing purposes only  trust test navlink href trust j security check j username j password pw patient trust test navlink href trust j security check j username j password pw patient br trust test navlink href trust j security check j username j password pw hcp trust test navlink href trust j security check j username j password uappass1 uap trust test navlink href trust j security check j username j password pw er br trust test navlink href trust j security check j username j password pw pha trust test navlink href trust j security check j username j password pw admin trust test navlink href trust j security check j username j password pw tester div script type text javascript document forms j username focus  script
/auth/pha/barchart page util list page util array list page edu ncsu csc itrust beans adverse event bean include file global jsp head title adverse event reports by month title head body list adverse event bean events list adverse event bean  session get attribute  events if events null  list adverse event bean id events array list adverse event bean   string month names jan feb mar apr may june july aug sept oct nov dec for  adverse event bean ae bean events  if ae bean get code  equals request get parameter  id    ae bean get status  equals ae bean get status   id events add ae bean  if this id events size  0  id events get 0  get drug  id events get 0  get code  adverse events by month br br table width border cellpadding cellspacing heights id events size  string months string id events size  string current month id events get 0  get date  substring 0 7  height count month count max height for  adverse event bean ae bean id events  if  ae bean get date  substring 0 7  equals current month  heights month count height count if height count max height  max height height count height count current month ae bean get date  substring 0 7  month count string date ae bean get date  substring 0 7  month integer parse int date substring 5  string month name month names month months month count month name date substring 0 4  height count heights month count height count if height count max height  max height height count month count string current color for int max height tr height td width bgcolor ffffff style text align right max height td td width table border cellpadding cellspacing tr td width style border bottom 1px solid aaaaaa border right 2px solid aaaaaa nbsp td tr tr td width style border top 1px solid aaaaaa border right 2px solid aaaaaa nbsp td tr table td for int month count if heights max height i  td width bgcolor current color td td width bgcolor ffffff td td width td if current color equals   current color cc0000 current color tr tr height td width td td width style border top 2px solid aaaaaa nbsp td for int month count td style border top 2px solid aaaaaa months td td style border top 2px solid aaaaaa nbsp td tr table body
OfficeVisitBean edu ncsu csc itrust beans text parse exception text simple date format util array list util date util list   bean storing data about an office visit at the hospital bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  office visit bean visit id patient id hcp id string notes string visit date str simple date format  mm dd yyyy format new date   string hospital id list diagnosis bean diagnoses array list diagnosis bean   list prescription bean prescriptions array list prescription bean   list procedure bean procedures array list procedure bean   office visit bean    use only by daos param visit id office visit bean long visit id  visit id visit id get id  visit id get patient id  patient id get hcp id  hcp id string get notes  notes date get visit date  date simple date format  mm dd yyyy parse visit date str  parse exception e  system out println e to string   string get visit date str  visit date str list diagnosis bean get diagnoses  diagnoses list prescription bean get prescriptions  prescriptions list procedure bean get procedures  procedures get visit id  visit id set diagnoses  list diagnosis bean diagnoses  diagnoses diagnoses set hcp id long hcp id  hcp id hcp id set prescriptions  list prescription bean prescriptions  prescriptions prescriptions set notes  string notes  notes notes set patient id long patient id  patient id patient id set procedures  list procedure bean procedures  procedures procedures set visit date str  string visit date  visit date str visit date string get hospital id  hospital id set hospital id  string hospital id  hospital id hospital id
/authenticate page edu ncsu csc itrust dbutil if  dbutil can obtain production instance   response send error  http servlet response sc  service  unavailable  if request get user principal  null  mid value of request get user principal  get name   user name auth dao get user name mid   null user role  user role response send redirect  trust errors reboot jsp  request get auth type  null   request get session false  null  is valid login login failure action is valid login  if  is valid login  session invalidate  logged in mid long  value of request get user principal  get name   session set attribute  logged in mid logged in mid 
SurveyDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util date edu ncsu csc itrust dbutil edu ncsu csc itrust beans survey bean edu ncsu csc itrust beans loaders survey loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   dao handling all survey data dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos survey dao daofactory factory survey loader survey loader   the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc survey dao  daofactory factory  factory factory survey loader survey loader    insert survey data into database param survey bean the bean representing the user responses which will be inserted param date the date the survey was completed add completed survey  survey bean survey bean date date  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into ovsurvey visit id survey date  values ps set long 1 survey bean get visit id   ps set timestamp 2 sql timestamp date get time   ps execute update   survey bean get waiting room minutes  0  ps conn prepare statement  update ovsurvey set waiting room minutes where visit id ps set float 1 survey bean get waiting room minutes   ps set long 2 survey bean get visit id   ps execute update   survey bean get exam room minutes  0  ps conn prepare statement  update ovsurvey set exam room minutes where visit id ps set float 1 survey bean get exam room minutes   ps set long 2 survey bean get visit id   ps execute update   survey bean get visit satisfaction  0  ps conn prepare statement  update ovsurvey set visit satisfaction where visit id ps set float 1 survey bean get visit satisfaction   ps set long 2 survey bean get visit id   ps execute update   survey bean get treatment satisfaction  0  ps conn prepare statement  update ovsurvey set treatment satisfaction where visit id ps set float 1 survey bean get treatment satisfaction   ps set long 2 survey bean get visit id   ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    gets survey data from the database by the office visit id creates an instance of an survey bean with data and returns it param id the unique id of the survey in question bean containing the survey bean dbexception survey bean get survey data long id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from ovsurvey where visit id ps set long 1 id  result set rs ps execute query  rs next  survey loader load single rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    has survey been completed param visit id the unique id of the office visit we are wondering about indicating whether survey is completed dbexception is survey completed long visit id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select count  from ovsurvey where visit id ps set long 1 visit id  result set rs ps execute query  rs next   rs get int 1  0  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
/auth/uap/addTelemedicineData page util list page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust action add remote monitoring data action taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp include file global jsp page title trust report status include file header jsp string string  request get parameter  null  string request get parameter  string patient string  request get parameter  patient null  patient string request get parameter  patient string pid string  switch string equals   pid string patient string equals   patient index integer parse int patient string  list patients list session get attribute  patients pid string patients get patient index  session remove attribute  patients session remove attribute  patient session set attribute  pid pid string  pid string string session get attribute  pid  pid string pid string length   response send redirect  uap get patient monitor list jsp forward uap add telemedicine data jsp add remote monitoring data action action add remote monitoring data action  prod dao logged in mid value  parse long pid string  update information form is filled request get parameter  form is filled request get parameter  form is filled equals   form is filled   request get parameter  glucose level equals request get parameter  glucose level   action add remote monitoring data  integer parse int request get parameter  systolic blood pressure   integer parse int request get parameter  diastolic blood pressure    request get parameter  systolic blood pressure equals request get parameter  systolic blood pressure   action add remote monitoring data  integer parse int request get parameter  glucose level   action add remote monitoring data  integer parse int request get parameter  systolic blood pressure   integer parse int request get parameter  diastolic blood pressure   integer parse int request get parameter  glucose level   div align center span trust message information successfully added span div session remove attribute  pid form validation exception e  form is filled div align center span trust error get message  span div catch  number format exception e  form is filled div align center span trust error invalid entry get message  please enter whole number span div if  form is filled  form action add telemedicine data jsp method post input type hidden name form is filled value br table cellspacing align center cellpadding tr td valign top table table align center style width 350px tr td sub header vertical systolic blood pressure td td input name systolic blood pressure value type text td tr tr td sub header vertical diastolic blood pressure td td input name diastolic blood pressure value type text td tr tr td sub header vertical glucose level td td input name glucose level value type text td tr table td td width 15px nbsp td td valign top td tr table br div align center input type submit name action style font weight bold value report br br div form include file footer jsp
/auth/hcp/viewAdditionalInfo taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util list page util date page text simple date format page edu ncsu csc itrust beans remote monitoring data bean page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust action view my remote monitoring list action page edu ncsu csc itrust dao mysql patient dao include file global jsp page title trust view additional info include file header jsp patient index if request get parameter  patient null  string patient request get parameter  patient session set attribute  patient patient  patient index integer parse int patient  string patient string  session get attribute  patient patient index integer parse int patient  list remote monitoring data bean patient list list remote monitoring data bean session get attribute  patient list remote monitoring data bean rmdb patient list get patient index  patient dao pat dao prod dao get patient dao  patient mid rmdb get patient mid  patient bean pat dao get patient patient mid  view my remote monitoring list action list action view my remote monitoring list action prod dao logged in mid value   string start date simple date format  mm dd yyyy format new date   string end date simple date format  mm dd yyyy format new date   if  date equals request get parameter  sort by   start date request get parameter  start date end date request get parameter  end date br table table align center tr th colspan patient details th tr tr td sub header vertical name td td get full name  td tr tr td sub header vertical phone td td get phone  td tr table br list patient bean patient representatives pat dao get representing patient mid  br table table align center tr th colspan patient representatives th tr if patient representatives is empty   tr td patient has no representatives td tr for  patient bean pat patient representatives  tr td sub header vertical name td td pat get full name  td td sub header vertical phone td td pat get phone  td tr table br br table table align center tr th colspan patient monitoring statistics th tr tr sub header th width date th th systolic blood pressure th th diastolic blood pressure th th glucose level th th reporter th tr list remote monitoring data bean patient stats list action get patient data by date patient mid start date end date  if patient stats is empty   tr bgcolor ff6666 td no information provided td td no information provided td td no information provided td td no information provided td td no information provided td tr string highlight string reporter name for  remote monitoring data bean stats patient stats  highlight sys bp stats get systolic blood pressure  dias bp stats get diastolic blood pressure  glu lvl stats get glucose level  if sys bp  1   sys bp sys bp 140   dias bp  1   dias bp dias bp 90   glu lvl  1   glu lvl glu lvl 150  highlight ffff00 reporter name auth dao get user name stats get reporter mid   tr bgcolor highlight td stats get time  td td sys bp  1 sys bp td td dias bp  1 dias bp td td glu lvl  1 glu lvl td td reporter name td tr table br form action view additional info jsp id datebuttons style display inline method post input type hidden name sort by value date input div align center table table align center tr sub header td start date td td input name start date value start date size input type button value select date onclick display date picker  start date td td end date td td input name end date value end date input type button value select date onclick display date picker  end date td tr table br input type submit name submit value get records onclick javascript sort by  div form script type text javascript function sort by  document get elements by name  sort by value date document forms submit click  script include file footer jsp
/auth/hcp uap/chronicDiseaseRisks taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util list page edu ncsu csc itrust action chronic disease risk action page edu ncsu csc itrust risk risk checker page edu ncsu csc itrust risk factors patient risk factor include file global jsp page title trust risk factors chronic diseases include file header jsp require patient id first string pid string string session get attribute  pid  pid string pid string length   response send redirect  trust auth get patient id jsp forward hcp uap chronic disease risks jsp session remove attribute  pid chronic disease risk action action chronic disease risk action prod dao logged in mid value  pid string  pid action get patient id  table table align center tr th colspan disease risk factors th tr list risk checker diseases action get diseases at risk  if diseases size  0  for  risk checker disease diseases  tr td colspan sub header vertical disease get name  td tr tr td style padding left 10px list patient risk factor factors disease get patient risk factors  for  patient risk factor factor factors  factor get description  br td tr catch  exception e  tr td colspan align center no data td tr table br br br itrust patient nav title risk factors include file footer jsp
/auth/hcp uap/updateLabProc taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page edu ncsu csc itrust action lab proc uapaction page edu ncsu csc itrust beans lab procedure bean page edu ncsu csc itrust exception form validation exception include file global jsp page title trust update lab procedure include file header jsp string header message lab procedure bean lbean request id string lpid request get parameter  id  lpid lpid equals   request id parse long lpid  lbean prod dao get lab procedure dao  get lab procedure request id  exception e  print stack trace  lab proc uapaction action2 lab proc uapaction prod dao logged in mid value   form is filled request get parameter  form is filled request get parameter  form is filled equals   form is filled  page is not actually page it just adds user and forwards lbean set status request get parameter  status   lbean set results request get parameter  results   lbean set commentary request get parameter  commentary   action2 update procedure lbean  br div align center span trust message information updated successfully span div br catch  form validation exception e  br div align center span trust error get message  span div br  request get parameter  message null  span trust message style font size 16px request get parameter  message span br div align center table table tr th colspan laboratory procedures th tr tr sub header th patient mid th th lab code th th rights th th status th th commentary th th results th th office visit id th th updated date th tr lab procedure bean bean prod dao get lab procedure dao  get lab procedure request id  tr td bean get pid  td td bean get loinc  td td bean get rights  td td bean get status  td td bean get commentary  td td bean get results  td td bean get ov id  td td bean get timestamp  td tr table form action update lab proc jsp id lpid message updated laboratory procedure method post input type hidden name form is filled value br br header message br table table tr th colspan update information th tr tr td sub header vertical status td td select name status option value not yet received lbean not  received option option value pending lbean pending option option value completed lbean completed option select td tr tr td sub header vertical commentary td td textarea name commentary textarea tr tr td sub header vertical results td td textarea name results textarea td tr table br input type submit style font size 14pt font weight bold value update div form br include file footer jsp
ViewReportAction edu ncsu csc itrust action util list edu ncsu csc itrust beans diagnosis bean edu ncsu csc itrust beans personnel bean edu ncsu csc itrust beans prescription bean edu ncsu csc itrust beans procedure bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust exception trust exception   action view report jsp view report action patient dao patient dao personnel dao personnel dao   set up defaults param factory the daofactory used to create the daos used in action param logged in mid the mid of the person viewing the report view report action  daofactory factory logged in mid  patient dao factory get patient dao  personnel dao factory get personnel dao    get diagnosis list the given patient param pid the patient of interest list of diagnoses trust exception list diagnosis bean get diagnoses long pid  trust exception patient dao get diagnoses pid    get procedure list the given patient param pid the patient of interest list of procedures trust exception list procedure bean get procedures long pid  trust exception patient dao get procedures pid    get prescription list the given patient param pid the patient of interest list of prescriptions trust exception list prescription bean get prescriptions long pid  trust exception patient dao get current prescriptions pid    get declared hcps list the given patient param pid the patient of interest list of declared hcps trust exception list personnel bean get declared hcps long pid  trust exception patient dao get declared hcps pid    returns personnel bean when given an mid param mid hcp of interest personnel bean of the given hcp trust exception personnel bean get personnel long mid  trust exception personnel dao get personnel mid 
AllergyBean edu ncsu csc itrust beans text simple date format util date   bean storing data about allergies bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  allergy bean id patient id string description date first found allergy bean  string get description  description set description  string description  description description date get first found  date  first found clone  set first found  date first found   null first found  first found date  first found clone  first found get id  id set id long id  id id string to string  description get patient id  patient id set patient id long patient id  patient id patient id string get first found str  simple date format  mm dd yyyy format get first found   exception e  print stack trace 
PriorDiagnosisFactor edu ncsu csc itrust risk factors edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   checks prior diagnoses by delegatin to the dao see link patient risk factor details on what each method typically does author andy prior diagnosis factor patient risk factor patient id daofactory factory lower icdcode upper icdcode prior diagnosis factor  daofactory factory patient id lower icdcode upper icdcode  factory factory patient id patient id lower icdcode lower icdcode upper icdcode upper icdcode string get description  patient has had related diagnoses has factor  factory get risk dao  had prior diagnoses patient id lower icdcode upper icdcode  dbexception e  print stack trace 
DBUtil edu ncsu csc itrust sql connection sql prepared statement sql result set sql sqlexception edu ncsu csc itrust dao daofactory   provides few database utilties author andy dbutil   used to check we can actually obtain connection can obtain production instance  daofactory get production instance  get connection  close  sqlexception e  system out println e    close the prepared statement and the connection in proper way param conn param ps close connection  connection conn prepared statement ps   ps null  ps close   conn null  conn close  sqlexception e  system err println  error closing connections print stack trace    returns the last id that was generated an auto increment column please note that does not cause transaction problems last insert id  returns the last generated id on per connection basis see the my sql documentation at the following location to confirm link http dev mysql com doc refman en getting unique id html don believe me see link auto increment test param conn last generated id sqlexception get last insert  connection conn  sqlexception result set rs conn create statement  execute query  select last  insert  id  rs next  rs get long 1 
/auth/hcp/viewMessageOutbox page error page auth exception handler jsp page edu ncsu csc itrust action view my messages action page edu ncsu csc itrust beans message bean page util list include file global jsp page title trust view message include file header jsp view my messages action action view my messages action prod dao logged in mid value   message bean original  request get parameter  msg null  string msg parameter request get parameter  msg msg index msg index integer parse int msg parameter  number format exception nfe  response send redirect  message outbox jsp list message bean messages  session get attribute  messages null  messages list message bean session get attribute  messages if msg index messages size  msg index 0  msg index response send redirect  oops jsp response send redirect  message outbox jsp original message bean messages get msg index  session set attribute  message original  response send redirect  message outbox jsp div table width style background color dddddd tr td to action get name original get to   td tr tr td subject original get subject  td tr tr td date amp time original get sent date  td tr table div table tr td colspan message td tr tr td colspan original get body  td tr tr td colspan href message outbox jsp back td tr table include file footer jsp
ViewSurveyResultAction edu ncsu csc itrust action util list edu ncsu csc itrust beans survey result bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql survey result dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate survey search validator   is used to handle retrieving survey results from the database it also logs the transaction view survey result action survey result dao survey result dao transaction dao trans dao survey search validator validator logged in mid   set up defaults param factory the daofactory used to create the daos used in action param logged in mid the mid of the person retrieving survey results view survey result action  daofactory factory logged in mid  trans dao factory get transaction dao  survey result dao factory get survey result dao  logged in mid logged in mid validator survey search validator    retrieves survey results whole hospital param bean the survey result bean containing the survey result specs util list of survey results trust exception form validation exception list survey result bean get survey results hospital  survey result bean bean  trust exception form validation exception trans dao log transaction  transaction type view  hcp  survey  results logged in mid searched results by hcp hospital id survey result dao get survey results hospital bean get hcphospital  bean get hcpspecialty     retrieves survey results given zip code param bean the survey result bean containing the survey result specs util list of survey results trust exception form validation exception list survey result bean get survey results zip  survey result bean bean  trust exception form validation exception validator validate bean  trans dao log transaction  transaction type view  hcp  survey  results logged in mid searched results by hcp zip code survey result dao get survey results zip bean get hcpzip  bean get hcpspecialty  
MedicationBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans medication bean   loader medication beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader medication bean loader bean loader medication bean medication bean loader  list medication bean load list  result set rs  sqlexception array list medication bean list array list medication bean    rs next   list add load single rs  list medication bean load single  result set rs  sqlexception medication bean med medication bean  medication bean med medication bean rs get string  code   med set description rs get string  description   med prepared statement load parameters  prepared statement ps medication bean bean  sqlexception illegal state exception  unimplemented
RemoteMonitoringDAO edu ncsu csc itrust dao mysql sql connection util date sql prepared statement sql result set sql sqlexception sql timestamp util array list util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans remote monitoring data bean edu ncsu csc itrust beans loaders remote monitoring data bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception   used the keeping track of remote monitoring data dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos remote monitoring dao daofactory factory remote monitoring data bean loader loader remote monitoring data bean loader    the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc remote monitoring dao  daofactory factory  factory factory   returns patient data given hcp dbexception list remote monitoring data bean get patients data long logged in mid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from remote monitoring lists where hcpmid order by patient mid ps set long 1 logged in mid  result set patient rs ps execute query  ps conn prepare statement  select from remote monitoring data where timelogged current  date order by patient id time logged desc result set data rs ps execute query  list string patient list array list string   while patient rs next   patient list add patient rs get long  patient mid list remote monitoring data bean data list loader load list data rs  go through all patients and remove any that aren monitored by hcp for i data list size  if  patient list contains data list get i  get patient mid    data list remove i  i add values in patient list with no data today to list its there for i patient list size  its there for j data list size  if data list get j  get patient mid  equals patient list get i  its there if  its there  data list add new remote monitoring data bean  parse long patient list get i  data list sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  list remote monitoring data bean get patient data by date long patient mid date lower date upper  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from remotemonitoringdata where patient id and time logged and time logged order by time logged desc ps set long 1 patient mid  ps set timestamp 2 timestamp lower get time   add day worth to include the upper ps set timestamp 3 timestamp upper get time  l  result set rs ps execute query  list remote monitoring data bean data list loader load list rs  data list sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    store data given patient in the remote monitoring data table param patient mid the mid of the patient param systolic blood pressure the systolic blood pressure of the patient param diastolic blood pressure the diastolic blood pressure of the patient param glucose level the glucose level of the patient param reporter role the role of the person that reported these monitoring stats param reporter mid the mid of the person that reported these monitoring stats dbexception store patient data long patient mid systolic blood pressure diastolic blood pressure glucose level string reporter role reporter mid  dbexception trust exception if get number of daily entries patient mid  10  trust exception  patient entries today cannot exceed if reporter role equals  patient representative   validate pr reporter mid patient mid  connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into remote monitoring data  patient id systolic blood pressure diastolic blood pressure glucose level reporter role reporter id  values  ps set long 1 patient mid  ps set long 2 systolic blood pressure  ps set int 3 diastolic blood pressure  ps set int 4 glucose level  ps set string 5 reporter role  ps set long 6 reporter mid  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    store data given patient in the remote monitoring data table param patient mid the mid of the patient param systolic blood pressure the systolic blood pressure of the patient param diastolic blood pressure the diastolic blood pressure of the patient param glucose level the glucose level of the patient param reporter role the role of the person that reported these monitoring stats param reporter mid the mid of the person that reported these monitoring stats dbexception store patient data long patient mid glucose level string reporter role reporter mid  dbexception trust exception if get number of daily entries patient mid  10  trust exception  patient entries today cannot exceed if reporter role equals  patient representative   validate pr reporter mid patient mid  connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into remote monitoring data  patient id glucose level reporter role reporter id  values  ps set long 1 patient mid  ps set int 2 glucose level  ps set string 3 reporter role  ps set long 4 reporter mid  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    store data given patient in the remote monitoring data table param patient mid the mid of the patient param systolic blood pressure the systolic blood pressure of the patient param diastolic blood pressure the diastolic blood pressure of the patient param glucose level the glucose level of the patient param reporter role the role of the person that reported these monitoring stats param reporter mid the mid of the person that reported these monitoring stats dbexception store patient data long patient mid systolic blood pressure diastolic blood pressure string reporter role reporter mid  dbexception trust exception if get number of daily entries patient mid  10  trust exception  patient entries today cannot exceed if reporter role equals  patient representative   validate pr reporter mid patient mid  connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into remote monitoring data  patient id systolic blood pressure diastolic blood pressure reporter role reporter id  values  ps set long 1 patient mid  ps set long 2 systolic blood pressure  ps set int 3 diastolic blood pressure  ps set string 4 reporter role  ps set long 5 reporter mid  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    method to get the number of entries certain patient id today param patient mid the number of entries dbexception get number of daily entries long patient mid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from remote monitoring data where patient id and date time logged  current  date ps set long 1 patient mid  result set rs ps execute query  list remote monitoring data bean patients loader load list rs  patients size  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  validate pr long representative mid patient mid  trust exception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from representatives where representer mid and representee mid ps set long 1 representative mid  ps set long 2 patient mid  result set rs ps execute query  if  rs next   no rows trust exception  representer is not valid patient patient mid  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    add patient to the list of hcps monitoring lists of patients param patient mid the mid of the patient param hcpmid the mid of the hcp added successfully already in list add patient to list long patient mid hcpmid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from remote monitoring lists where patient mid and hcpmid ps set long 1 patient mid  ps set long 2 hcpmid  result set rs ps execute query  if rs next   ps conn prepare statement  insert into remote monitoring lists  patient mid hcpmid  values  ps set long 1 patient mid  ps set long 2 hcpmid  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    remove patient from the list of hcps monitoring lists of patients param patient mid the mid of the patient param hcpmid the mid of the hcp removed successfully not in list remove patient from list long patient mid hcpmid  dbexception connection conn prepared statement ps conn factory get connection   ps conn prepare statement  select from remote monitoring list where patient mid and hcpmid ps set long 1 patient mid  ps set long 2 hcpmid  result set rs ps execute query  if  rs next   ps conn prepare statement  delete from remote monitoring lists where patient mid and hcpmid ps set long 1 patient mid  ps set long 2 hcpmid  if ps execute update  0  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
ApptTypeBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans appt type bean appt type bean loader bean loader appt type bean list appt type bean load list  result set rs  sqlexception list appt type bean list array list appt type bean    rs next   list add load single rs  list prepared statement load parameters  prepared statement ps appt type bean appt type  sqlexception ps set string 1 appt type get name   ps set int 2 appt type get duration   ps appt type bean load single  result set rs  sqlexception appt type bean appt type appt type bean  appt type set name rs get string  appt type   appt type set duration rs get int  duration   appt type
SurveyLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util list edu ncsu csc itrust beans survey bean   loader survey beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader survey loader bean loader survey bean list survey bean load list  result set rs  sqlexception illegal state exception  unimplemented prepared statement load parameters  prepared statement ps survey bean bean  sqlexception illegal state exception  unimplemented survey bean load single  result set rs  sqlexception survey bean survey survey bean  survey set visit id rs get long  visit id   survey set survey date rs get timestamp  survey date   survey set exam room minutes rs get int  exam room minutes   survey set waiting room minutes rs get int  waiting room minutes   survey set treatment satisfaction rs get int  treatment satisfaction   survey set visit satisfaction rs get int  visit satisfaction   survey
/errors/noaccess page language content type text html charset iso 8859 1 page encoding iso 8859 1 is error page session invalidate  html head meta http equiv content type content text html charset iso 8859 1 title server rebooted title head body div align center h1 authorization error h1 you are not allowed to access page because your role is invalid security reasons you have been logged out br href trust log back in div body html
/auth/admin/sessionTimeout page edu ncsu csc itrust action change session timeout action page error page auth exception handler jsp page edu ncsu csc itrust exception form validation exception include file global jsp page title trust change session timeout include file header jsp change session timeout action action change session timeout action prod dao  if  equals request get parameter  form is filled   action change session timeout request get parameter  minutes   span session timeout changed changes will take place on re authentication span catch  form validation exception e  print html page context get out   br br form action session timeout jsp method post input type hidden name form is filled value change the timeout to input name minutes value action get session timeout  size minutes  minimum 1  br br input type submit value change form br br the global session timeout is the interval of time that an account can remain inactive without having to re authenticate br br include file footer jsp
RemoteMonitoringDataBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans remote monitoring data bean   loader remote monitoring data beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader remote monitoring data bean loader bean loader remote monitoring data bean list remote monitoring data bean load list  result set rs  sqlexception list remote monitoring data bean list array list remote monitoring data bean    rs next   list add load single rs  list prepared statement load parameters  prepared statement ps remote monitoring data bean bean  sqlexception illegal state exception  unimplemented remote monitoring data bean load single  result set rs  sqlexception remote monitoring data bean remote monitoring data bean  set logged in mid rs get long  patient id   set systolic blood pressure rs get int  systolic blood pressure   set diastolic blood pressure rs get int  diastolic blood pressure   set glucose level rs get int  glucose level   set time rs get timestamp  time logged   set reporter role rs get string  reporter role   set reporter mid rs get long  reporter id  
ApptBean edu ncsu csc itrust beans sql timestamp appt bean string appt type patient hcp timestamp date string comment   the appt type string get appt type  appt type   param appt type the appt type to set set appt type  string appt type  appt type appt type   the patient get patient  patient   param patient the patient to set set patient long patient  patient patient   the hcp get hcp  hcp   param hcp the hcp to set set hcp long hcp  hcp hcp   the date timestamp get date  date   param date the date to set set date  timestamp date  date date   the comment string get comment  comment   param comment the comment to set set comment  string comment  comment comment
ReportRequestBean edu ncsu csc itrust beans text parse exception text simple date format util date edu ncsu csc itrust messages   bean storing data about report request bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  report request bean id requester mid patient mid approver mid date requested date date approved date date viewed date string status non nls 1 string comment non nls 1 string date format mm dd yyyy hh mm non nls 1 string requested messages get string  report request bean requested non nls 1 string approved messages get string  report request bean approved non nls 1 string rejected messages get string  report request bean rejected non nls 1 string viewed messages get string  report request bean viewed non nls 1 report request bean  set id long d  id get id  id set requester mid long requester mid  requester mid requester mid get requester mid  requester mid set patient mid long patient mid  patient mid patient mid get patient mid  patient mid set approver mid long approver mid  approver mid approver mid get approver mid  approver mid set requested date  date requested date  requested date  requested date date  requested date clone   set requested date string  string s  set requested date new simple date format date format  parse s  parse exception ex  system out println ex get message   date get requested date   requested date date  requested date clone   string get requested date string   requested date null  non nls 1 simple date format date format  format requested date  set approved date  date approved date  approved date  approved date date  approved date clone   set approved date string  string s  set approved date new simple date format date format  parse s  parse exception ex  system out println ex get message   date get approved date   approved date date  approved date clone   string get approved date string   approved date null  non nls 1 simple date format date format  format approved date  set viewed date  date viewed date  viewed date  viewed date date  viewed date clone   set viewed date string  string s  set viewed date new simple date format date format  parse s  parse exception ex  system out println ex get message   date get viewed date   viewed date date  viewed date clone   string get viewed date string   viewed date null  non nls 1 date format date formatter date format get date time instance  date format date format localization instance  get current locale   date formatter format viewed date  simple date format date format  format viewed date  set status  string status  status status string get status  status set comment  string comment  comment comment string get comment  comment
/auth/uap/menu div menu category span add span br href trust auth hcp uap add patient jsp add patient div div menu category span edit span br href trust auth hcp uap edit phr jsp edit phr br href trust auth hcp uap edit basic health jsp edit basic health information br href trust auth hcp uap edit patient jsp edit patient br href trust auth staff edit my demographics jsp edit my demographics div div menu category span view span br href trust auth hcp uap view my report requests jsp view my report requests br href trust auth hcp uap lab proc uap jsp view laboratory procedures br div div menu category span telemedicine span br href trust auth hcp uap edit patient list jsp edit patient list br href trust auth uap add telemedicine data jsp report status br div div menu category span other span br href trust auth hcp uap document office visit jsp document office visit br href trust auth hcp uap chronic disease risks jsp chronic disease risks br href trust auth hcp uap show email history jsp email history br href trust auth survey results jsp satisfaction survey results div
/auth/hcp uap/getPrescriptionReport taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util list page edu ncsu csc itrust action view prescription records action page edu ncsu csc itrust beans prescription bean page edu ncsu csc itrust beans patient bean include file global jsp page title trust get prescription report include file header jsp div align center h1 prescription report h1 string pid string string session get attribute  pid  pid string pid string length   response send redirect  trust auth get patient id jsp forward hcp uap get prescription report jsp session remove attribute  pid pid parse long pid string  view prescription records action action view prescription records action  daofactory get production instance  logged in mid  patient bean patient action get patient pid  list prescription bean prescriptions action get prescriptions patient pid   prescriptions size  0  no prescriptions found br br br table table tr th nd code th th description th th duration th th prescribing hcp th tr prescription bean prescription prescriptions  tr td prescription get medication  get ndcode formatted  td td prescription get medication  get description  td td prescription get start date str  to prescription get end date str  td td action get prescribing doctor prescription  get full name  td tr table div br br itrust patient nav title prescriptions include file footer jsp
/auth/patient/showEmailHistory page language content type text html charset iso 8859 1 page encoding iso 8859 1 page edu ncsu csc itrust beans email page edu ncsu csc itrust action view my records action page util list taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp include file global jsp page title trust email history include file header jsp div align center style margin 10px view my records action action view my records action prod dao logged in mid value   list email emails action get email history  table table emails size  0  tr th to th th subject th th body th th date sent th tr email email emails  tr td email get to list str  td td email get subject  td td email get body  td td email get time added  td tr tr td no emails on record td tr table div include file footer jsp
EditPatientAction edu ncsu csc itrust action util array list util list edu ncsu csc itrust action base patient base action edu ncsu csc itrust beans email edu ncsu csc itrust beans patient bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate patient validator edu ncsu csc itrust email util   edits patient used by edit patient jsp author laurenhayward edit patient action patient base action transaction dao trans dao patient validator validator patient validator  patient dao patient dao logged in mid email util emailutil   the validates the patient id param factory the daofactory used to create the daos action param logged in mid the mid of the user who is authorizing action param pid string the mid of the patient being edited trust exception edit patient action  daofactory factory logged in mid string pid string  trust exception super factory pid string  patient dao factory get patient dao  trans dao factory get transaction dao  logged in mid logged in mid emailutil email util factory    takes the information out of the patient bean param and updates the patient information param the patient information trust exception form validation exception update information  patient bean p  trust exception form validation exception set mid pid  security reasons validator validate p  patient dao edit patient p  trans dao log transaction  transaction type enter  edit  demographics logged in mid pid edit patient made changes emailutil send email make email     returns patient bean the patient the patient bean dbexception patient bean get patient  dbexception trans dao log transaction  transaction type enter  edit  demographics logged in mid pid edit patient view patient patient dao get patient this get pid     creates and e mail to inform the patient that their information has been updated the email with the notice dbexception email make email  dbexception email email email  list patient bean reps patient dao get representing pid  patient bean pb patient dao get patient pid  list string to addrs array list string   to addrs add pb get email   patient bean reps  to addrs add r get email   email set from  no reply itrust com email set to list to addrs  patient and personal representative email set subject  string format  patient information updated   email set body  dear pb get full name  your patient record information has been updated please login to trust to see who has viewed your records email edit message filter  string filter  trust exception form validation exception patient bean get patient  set message filter filter  update information b 
PrescriptionBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception text simple date format util array list util list edu ncsu csc itrust beans prescription bean   loader prescription beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader prescription bean loader bean loader prescription bean medication bean loader med loader prescription bean loader  med loader medication bean loader  list prescription bean load list  result set rs  sqlexception array list prescription bean list array list prescription bean    rs next   list add load single rs  list prescription bean load single  result set rs  sqlexception prescription bean pres prescription bean  pres set id rs get long  id   pres set visit id long  rs get int  visit id   pres set start date str new simple date format  mm dd yyyy format new util date rs get date  start date get time   pres set end date str new simple date format  mm dd yyyy format new util date rs get date  end date get time   pres set dosage rs get int  dosage   pres set instructions rs get string  instructions   pres set medication med loader load single rs  pres prepared statement load parameters  prepared statement ps prescription bean pres  sqlexception ps set long 1 pres get visit id   ps set string 2 pres get medication  get ndcode   ps set date 3 sql date pres get start date  get time   ps set date 4 sql date pres get end date  get time   ps set int 5 pres get dosage   ps set string 6 pres get instructions   ps
/auth/hcp/LabProcHCP taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page util list page edu ncsu csc itrust beans lab procedure bean page edu ncsu csc itrust action edit patient action page edu ncsu csc itrust action lab proc hcpaction page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust dao mysql patient dao include file global jsp page title trust view laboratory procedures include file header jsp lab proc hcpaction action2 lab proc hcpaction prod dao logged in mid value   if request get parameter  priv request get parameter  priv equals  yes   action2 change privacy  parse long request get parameter  id   require patient id first string pid string string session get attribute  pid  pid string pid string length   response send redirect  trust auth get patient id jsp forward hcp lab proc hcp jsp session remove attribute  pid the patient id doesn check out then kick em out to the exception handler edit patient action action edit patient action prod dao logged in mid value  pid string  pid action get pid  list lab procedure bean proc action2 view procedures pid  br table table tr th colspan lab procedures th tr tr sub header td patient td td lab code td td rights td td status td td commentary td td results td td office visit id td td updated date td td edit office visit td td change privacy td td action td tr if proc size  0  for  lab procedure bean bean proc  patient bean patient patient dao prod dao  get patient bean get pid   tr td patient get full name  td td bean get loinc  td td bean get rights  td td bean get status  td td bean get commentary  td td bean get results  td td bean get ov id  td td bean get timestamp  td td if action2 check access bean get procedure id   href trust auth hcp uap edit office visit jsp ov id bean get ov id  edit office visit br td td if action2 check access bean get procedure id   href trust auth hcp lab proc hcp jsp id bean get procedure id  priv yes allow disallow viewing br td td href trust auth hcp update lab proc jsp id bean get procedure id  update br td tr tr colspan td align center no data td tr table br br include file footer jsp
/auth/hcp uap/editOfficeVisit taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page util list page util map page text simple date format page util date page edu ncsu csc itrust email util page edu ncsu csc itrust beans office visit bean page edu ncsu csc itrust beans lab procedure bean page edu ncsu csc itrust beans loincbean page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust beans diagnosis bean page edu ncsu csc itrust beans medication bean page edu ncsu csc itrust beans procedure bean page edu ncsu csc itrust action edit office visit action page edu ncsu csc itrust beans forms edit office visit form page edu ncsu csc itrust exception trust exception page edu ncsu csc itrust beans hospital bean page edu ncsu csc itrust bean builder page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust dao mysql personnel dao page edu ncsu csc itrust beans prescription bean include file global jsp page title trust document office visit include file header jsp string ov idstring request get parameter  ov id string pid string string session get attribute  pid  pid string pid string length   response send redirect  trust auth get patient id jsp forward hcp uap edit office visit jsp ov id ov idstring  session remove attribute  pid edit office visit action action edit office visit action prod dao logged in mid pid string ov idstring  ov id action get ov id  office visit bean visit action get office visit  string confirm string warning  request get parameter  start date request get parameter  end date null  warning action has interaction request get parameter  add med id pid string request get parameter  start date request get parameter  end date   warning action is allergy on list pid string request get parameter  add med id   equals request get parameter  form is filled   edit office visit form form bean builder edit office visit form   build request get parameter map  edit office visit form   equals warning  equals request get parameter  check presc   equals request get parameter  check presc   form set add med id request get parameter  test med   form set start date request get parameter  med start   form set dosage request get parameter  med dos   form set end date request get parameter  med end   form set instructions request get parameter  med inst   string problem action has interaction request get parameter  test med pid string request get parameter  med start request get parameter  med end   problem action is allergy on list pid string request get parameter  test med   email util prod dao  send email action make email app logged in mid pid string problem  form set hcp id  visit get hcp id   form set patient id  visit get patient id   confirm action update information form  form validation exception e  print html page context get out   confirm input not valid office visit bean ov action get office visit  list hospital bean hcp hospitals action get hospitals ov get hcp id   list lab procedure bean lp beans action get lab procedures  parse long pid string  ov id  div align center equals confirm   request get parameter  check presc equals   span trust message operation canceled span success equals confirm  span trust message information successfully updated span span trust error confirm span div script type text javascript function remove id type value  document get element by id type  value value document forms submit  function set var  var med id document get element by id  add med id var med idindex med id options selected index var med idtxt med id options med idindex value var med dostxt document get element by id  dosage value var med starttxt document get element by id  start date value var med endtxt document get element by id  end date value var med insttxt document get element by id  instructions value document get element by id  test med value med idtxt document get element by id  med dos value med dostxt document get element by id  med start value med starttxt document get element by id  med end value med endtxt document get element by id  med inst value med insttxt document forms submit  function pres cont  document get element by id  check presc value document forms submit  function pres canc  var med id document get element by id  add med id var med idindex med id options selected index var med idtxt med id options med idindex value var med dostxt document get element by id  dosage value var med starttxt document get element by id  start date value var med endtxt document get element by id  end date value var med insttxt document get element by id  instructions value document get element by id  test med value document get element by id  med dos value document get element by id  med start value document get element by id  med end value document get element by id  med inst value document get element by id  check presc value document forms submit  script form action edit office visit jsp method post id main form input type hidden name form is filled value input type hidden name ov id value ov id input type hidden id remove diag id name remove diag id value input type hidden id remove med id name remove med id value input type hidden id remove proc id name remove proc id value input type hidden id remove immunization id name remove immunization id value input type hidden id remove lab proc id name remove lab proc id value input type hidden id check presc name check presc value input type hidden id test med name test med value request get parameter  test med input type hidden id med dos name med dos value request get parameter  med dos input type hidden id med start name med start value request get parameter  med start input type hidden id med end name med end value request get parameter  med end input type hidden id med inst name med inst value request get parameter  med inst div align center table table align center tr th colspan office visit th tr tr td sub header vertical patient id td td prod dao get auth dao  get user name ov get patient id   td tr tr td sub header vertical date of visit td td input name visit date value ov get visit date str  input type button value select date onclick display date picker  visit date td tr tr td sub header vertical hospital td td select name hospital id option value option for  hospital bean hos hcp hospitals  option value hos get hospital id  hos get hospital id  equals ov get hospital id   selected selected hos get hospital name  option select td tr tr td sub header vertical notes td td textarea rows style width name notes ov get notes  textarea td tr table br input type submit name update id update value update div br br div align center table table align center tr th colspan prescriptions th tr tr sub header td medication td td dosage td td dates td td colspan instructions td td style width 60px action td tr if ov get prescriptions  size  0  tr td colspan style text align center no prescriptions on record td tr for  prescription bean pres ov get prescriptions   tr td align center href edit prescription jsp pres id pres get id  ov id ov idstring pres get medication  get description  pres get medication  get ndcode  td td align center pres get dosage  mg td td align center pres get start date str  to pres get end date str  td td align center colspan pres get instructions  td td align center href javascript remove id  remove med id pres get id  remove td tr tr th colspan style text align center add th tr tr td align center select name add med id id add med id style font size 10px option value  please select medication  option for  medication bean med prod dao get ndcodes dao  get all ndcodes   option value med get ndcode  med get ndcode  med get description  option select td td align center input type text name dosage id dosage maxlength style width 50px mg td td align center colspan input type text name start date id start date style width 80px onclick display date picker  start date onselect display date picker  start date value simple date format  mm dd yyyy format new date   to input type text name end date id end date style width 80px onclick display date picker  end date onselect display date picker  end date value simple date format  mm dd yyyy format new date   td td align center input type text name instructions id instructions value  instructions  maxlength td td input type button id addprescription onclick set var  value add prescription td tr table equals warning    br div style background color yellow color black align center warning div div style background color yellow align center input type button onclick pres cont  value name id input type button onclick location href trust auth hcp uap edit phr jsp value cancel name cancel id cancel div br div br br div align center table table align center tr th colspan laboratory procedures th tr tr sub header td loinc code td td status td td commentary td td results td td style width 60px updated date td tr if lp beans size  0  tr td colspan style text align center no laboratory procedures on record td tr for  lab procedure bean labproc lp beans  tr td align center labproc get loinc  td td align center labproc get status  td td align center labproc get commentary  td td align center labproc get results  td td align center labproc get timestamp  td td href javascript remove id  remove lab proc id labproc get procedure id  remove td tr tr th colspan style text align center th tr tr td colspan align center select name add lab proc id style font size 10px option value  please select procedure  option for  loincbean loinc prod dao get loincdao  get all loinc   option value loinc get lab procedure code  loinc get lab procedure code  loinc get component  loinc get kind of property  loinc get time aspect  loinc get system  loinc get scale type  loinc get method type  option select input type submit name add lp value add lab procedure td tr table div br br div align center div style display inline table margin right 10px table table align center tr th colspan diagnoses th tr tr sub header td icd code td td description td td style width 60px action td tr if ov get diagnoses  size  0  tr td colspan style text align center no diagnoses on record td tr for  diagnosis bean ov get diagnoses   tr td align center get icdcode  td td get description  td td href javascript remove id  remove diag id get ov diagnosis id  remove td tr tr th colspan style text align center th tr tr td colspan align center select name add diag id style font size option value  none selected  option for  diagnosis bean diag prod dao get icdcodes dao  get all icdcodes   option value diag get icdcode  diag get icdcode  diag get description  option select input type submit value add diagnosis td tr table div div style display inline table margin right 10px table table align center tr th colspan procedures th tr tr sub header td cpt code td td description td td style width 60px action td tr  0 ov get procedures  size   tr td colspan style text align center no procedures on record td tr procedure bean proc ov get procedures    null proc get attribute  proc get attribute  equals  immunization   tr td align center proc get cptcode  td td proc get description  td td href javascript remove id  remove proc id proc get ov procedure id  remove td tr tr th colspan style text align center th tr tr td colspan align center select name add proc id style font size 10px option value  please select procedure  option procedure bean proc prod dao get cptcodes dao  get all cptcodes    null proc get attribute  proc get attribute  equals  immunization   option value proc get cptcode  proc get cptcode  proc get description  option select input type submit name add value add procedure td tr table div div style display inline table table table align center tr th colspan immunizations th tr tr sub header td cpt code td td description td td style width 60px action td tr  0 ov get procedures  size   tr td colspan style text align center no immunizations on record td tr procedure bean proc ov get procedures    null proc get attribute  proc get attribute  equals  immunization   tr td align center proc get cptcode  td td proc get description  td td href javascript remove id  remove immunization id proc get ov procedure id  remove td tr tr th colspan style text align center th tr tr td colspan align center select name add immunization id style font size 10px option value  please select procedure  option procedure bean proc prod dao get cptcodes dao  get immunization cptcodes   option value proc get cptcode  proc get cptcode  proc get description  option select input type submit name add immu value add immunization td tr table div div br br br itrust patient nav br form include file footer jsp
/util/andystestutil page edu ncsu csc itrust datagenerators test data generator page lang reflect method page edu ncsu csc itrust dao daofactory html head title testing purposes only title style type text css message border style solid border width 1px background color aaffaa style head body div align center h1 test utilities h1 if  system get property  itrust dev home null  you are not configured to use test utility br to use you must add the following line to tomcat startup br ditrust dev home lt your workspace gt trust br br example you re using eclipse wtp and your project is located at workspace trust the following br div style width 500px text align left ol li under the servers view double click on your tomcat server li li click on open launch configuration li li go to the arguments tab li li under vm arguments add the following line of text ditrust dev home workspace trust li li restart your server the change to take effect li ol div you should only have to once per development location you specified your project developement location to be at system get property  itrust dev home br br test data generator gen test data generator  system get property  itrust dev home daofactory get production instance   string method name request get parameter  execute  method name null  gen get class  get method method name invoke gen object span method method name invoked see console details span h2 execute the following test data generators h2 method method gen get class  get declared methods   href andystestutil jsp execute method get name  method get name  br br br h1 href trust back to trust h1 div body html
PatientDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util list util vector edu ncsu csc itrust dbutil edu ncsu csc itrust beans diagnosis bean edu ncsu csc itrust beans patient bean edu ncsu csc itrust beans personnel bean edu ncsu csc itrust beans prescription bean edu ncsu csc itrust beans procedure bean edu ncsu csc itrust beans loaders diagnosis bean loader edu ncsu csc itrust beans loaders patient loader edu ncsu csc itrust beans loaders personnel loader edu ncsu csc itrust beans loaders prescription bean loader edu ncsu csc itrust beans loaders procedure bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception edu ncsu csc itrust date util   used managing all information related to patient other information related to all aspects of patient care see the other daos dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos author andy patient dao daofactory factory patient loader patient loader personnel loader personnel loader diagnosis bean loader diagnosis loader prescription bean loader prescription loader procedure bean loader procedure loader   the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc patient dao  daofactory factory  factory factory patient loader patient loader  personnel loader personnel loader  diagnosis loader diagnosis bean loader true  prescription loader prescription bean loader  procedure loader procedure bean loader true    returns the name the given mid param mid the mid of the patient in question string representing the patient first name and last name trust exception dbexception string get name long mid  trust exception dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select first name last name from patients where mid ps set long 1 mid  result set rs rs ps execute query   rs next   rs get string  first name rs get string  last name trust exception  user does not exist sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns the role of particular patient why is in patient dao it should be in auth dao param mid the mid of the patient in question param role string representing the role of the patient string representing the patient role trust exception dbexception string get role long mid string role  trust exception dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select role from users where mid and role ps set long 1 mid  ps set string 2 role  result set rs rs ps execute query   rs next   rs get string  role trust exception  user does not exist with the designated role sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    adds an empty patient to the table returns the mid the mid of the patient as dbexception add empty patient  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into patients  mid  values  null  ps execute update  dbutil get last insert conn  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns the patient information given id param mid the mid of the patient to retrieve patient bean representing the patient dbexception patient bean get patient long mid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from patients where mid ps set long 1 mid  result set rs ps execute query  pdao log transaction type logged in mid secondary mid added info   rs next   patient loader load single rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    updates patient information the given mid param the patient bean representing the information the patient dbexception edit patient  patient bean p  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  update patients set first name last name email address1 address2 city state zip1 zip2 phone1 phone2 phone3 name phone1 phone2 phone3 cname caddress1 caddress2 ccity icstate czip1 czip2 cphone1 cphone2 cphone3 cid date of birth date of death cause of death mother mid father mid blood type ethnicity gender topical notes credit card type credit card number message filter where mid patient loader load parameters ps p  ps set long 40 get mid   ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns whether or not the patient exists param pid the mid of the patient in question indicating whether the patient exists dbexception check patient exists long pid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from patients where mid ps set long 1 pid  result set rs ps execute query  rs next  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns list of hcps who are declared by the given patient param pid the mid of the patient in question util list of personnel beans dbexception list personnel bean get declared hcps long pid  dbexception connection conn prepared statement ps  pid l  sqlexception  pid cannot be conn factory get connection  ps conn prepare statement  select from declared hcp personnel where patient id and personnel mid declared hcp hcpid ps set long 1 pid  result set rs ps execute query  personnel loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    declares an hcp particular patient param pid the mid of the patient in question param hcp id the hcp mid as to whether the insertion was successful dbexception trust exception declare hcp long pid hcp id  dbexception trust exception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into declared hcp  patient id hcpid  values  ps set long 1 pid  ps set long 2 hcp id  ps execute update  sqlexception e   1062 get error code   trust exception  hcp hcp id has already been declared patient pid  print stack trace  dbexception e  dbutil close connection conn ps    undeclare an hcp given patient param pid the mid of the patient in question param hcp id the mid of the hcp in question indicating whether the action was successful dbexception undeclare hcp long pid hcp id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  delete from declared hcp where patient id and hcpid ps set long 1 pid  ps set long 2 hcp id  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    check patient has declared the given hcp param pid the mid of the patient in question as param hcpid the mid of the hcp in question as dbexception check declared hcp long pid hcpid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from declared hcp where patient id and hcpid ps set long 1 pid  ps set long 2 hcpid  ps execute query  next  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    list of patients that the given patient represents param pid the mid of the patient in question util list of patient beans dbexception list patient bean get represented long pid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select patients from representatives patients where representer mid and representee mid patients mid ps set long 1 pid  result set rs ps execute query  patient loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    list of patients that the given patient is represented by param pid the mid of the patient in question util list of patient beans dbexception list patient bean get representing long pid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select patients from representatives patients where representee mid and representer mid patients mid ps set long 1 pid  result set rs ps execute query  patient loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    check the given representer represents the representee param representer the mid of the representer in question param representee the mid of the representee in question indicating whether represenation is in place dbexception represents long representer representee  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from representatives where representer mid and representee mid ps set long 1 representer  ps set long 2 representee  result set rs ps execute query  rs next  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    assign representer to the representee param representer the mid of the representer as param representee the mid of the representee as as to whether the insertion was correct dbexception trust exception add representative long representer representee  dbexception trust exception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into representatives  representer mid representee mid  values ps set long 1 representer  ps set long 2 representee  ps execute update  sqlexception e   1062 get error code   trust exception  patient representer already represents patient representee  print stack trace  dbexception e  dbutil close connection conn ps    unassign the representation param representer the mid of the representer in question param representee the mid of the representee in question indicating whether the unassignment was sucessful dbexception remove representative long representer representee  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  delete from representatives where representer mid and representee mid ps set long 1 representer  ps set long 2 representee  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    list of all diagnoses given patient param pid the mid of the patient in question util list of diagnoses dbexception list diagnosis bean get diagnoses long pid  dbexception connection conn prepared statement ps  pid l  sqlexception  pid cannot be conn factory get connection  ps conn prepare statement  select from ovdiagnosis ovd office visits ov icdcodes icd where ovd visit id ov id and icd code ovd icdcode and ov patient id order by ov visit date desc ps set long 1 pid  result set rs ps execute query  diagnosis loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    list of all procedures given patient param pid the mid of the patient in question util list of all the procedures dbexception list procedure bean get procedures long pid  dbexception connection conn prepared statement ps  pid l  sqlexception  pid cannot be conn factory get connection  ps conn prepare statement  select from ovprocedure ovp office visits ov cptcodes cpt where ovp visit id ov id and cpt code ovp cptcode and ov patient id order by ov visit date desc ps set long 1 pid  result set rs ps execute query  procedure loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    list of all immunization procedures given patient param pid the mid of the patient in question util list of the procedures dbexception list procedure bean get immunization procedures long pid  dbexception connection conn prepared statement ps  pid l  sqlexception  pid cannot be conn factory get connection  ps conn prepare statement  select from ovprocedure ovp office visits ov cptcodes cpt where ovp visit id ov id and cpt code ovp cptcode and ov patient id and cpt attribute immunization order by ov visit date desc ps set long 1 pid  result set rs ps execute query  procedure loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    list of all prescriptions patient param patient id the mid of the patient in question util list of prescriptions dbexception list prescription bean get prescriptions long patient id  dbexception connection conn prepared statement ps  patient id l  sqlexception  pid cannot be conn factory get connection  ps conn prepare statement  select from ovmedication ndcodes office visits where office visits patient id and ovmedication visit id office visits id and ndcodes code ovmedication ndcode order by office visits visit date desc ovmedication ndcode asc ps set long 1 patient id  result set rs ps execute query  prescription loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    list of prescriptions which are currently prescribed patient param patient id the mid of the patient in question util list of prescription beans dbexception list prescription bean get current prescriptions long patient id  dbexception connection conn prepared statement ps  patient id l  sqlexception  pid cannot be conn factory get connection  ps conn prepare statement  select from ovmedication ndcodes office visits where office visits patient id and ovmedication visit id office visits id and ndcodes code ovmedication ndcode and ovmedication end date order by ovmedication id desc ps set long 1 patient id  ps set date 2 date util get sqldate xdays ago from now 91  result set rs ps execute query  prescription loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    list of prescriptions which are expired prescription patient param patient id the mid of the patient in question util list of prescriptions dbexception   list prescription bean get expired prescriptions  long patient id  dbexception connection conn prepared statement ps  patient id l  sqlexception  pid cannot be conn factory get connection  ps conn prepare statement  select from ovmedication ndcodes office visits where office visits patient id and ovmedication visit id office visits id and ndcodes code ovmedication ndcode and ovmedication end date order by ovmedication id desc ps set long 1 patient id  ps set date 2 date util get sqldate xdays ago from now 0  result set rs ps execute query  prescription loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    lists every patient in the database util list of patient beans representing the patients dbexception list patient bean get all patients  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from patients result set rs ps execute query  patient loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    list of patients with special diagnosis history who have the logged in hcp as dhcp and whose medications are going to expire within seven days param hcp mid the mid of the logged in hcp list of patients satisfying the conditions dbexception list patient bean get renewal needs patients long hcp mid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from select distinct patients from patients declaredhcp ovdiagnosis officevisits ovmedication where declared hcp hcpid and patients mid declaredhcp patient id and ovdiagnosis visit id officevisits id and officevisits patient id declaredhcp patient id and  ovdiagnosis icdcode and ovdiagnosis icdcode or  ovdiagnosis icdcode and ovdiagnosis icdcode or  ovdiagnosis icdcode and ovdiagnosis icdcode   union all select distinct patients from patients declaredhcp ovdiagnosis officevisits ovmedication where declared hcp hcpid and patients mid declaredhcp patient id and declaredhcp patient id officevisits patient id and officevisits id ovmedication visit id and ovmedication end date between curdate  and date  add  curdate  interval day  as group by mid having count  order by lastname asc firstname asc ps set long 1 hcp mid  ps set float 2 0f  ps set float 3 0f  ps set float 4 0f  ps set float 5 0f  ps set float 6 0f  ps set float 7 99f  ps set long 8 hcp mid  result set rs ps execute query  patient loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns all patients with names like  as in sql  the passed in parameters param first the patient first name param last the patient last name util list of patient beans dbexception list patient bean search patients with name  string first string last  dbexception connection conn prepared statement ps  first equals  last equals   vector patient bean   conn factory get connection  ps conn prepare statement  select from patients where first name like and last name like ps set string 1 first  ps set string 2 last  result set rs ps execute query  patient loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
HealthRecordForm edu ncsu csc itrust beans forms   form to contain data coming from editing health record form is bean kinda you could say that it form of bean think of form as real life administrative form that you would fill out to get something done not necessarily making sense by itself health record form string height string weight string is smoker string blood pressure string blood pressure string cholesterol hdl string cholesterol ldl string cholesterol tri health record form  string get blood pressure d  blood pressure set blood pressure d  string blood pressure d  blood pressure blood pressure string get blood pressure n  blood pressure set blood pressure n  string blood pressure n  blood pressure blood pressure string get cholesterol hdl  cholesterol hdl set cholesterol hdl  string cholesterol hdl  cholesterol hdl cholesterol hdl string get cholesterol ldl  cholesterol ldl set cholesterol ldl  string cholesterol ldl  cholesterol ldl cholesterol ldl string get cholesterol tri  cholesterol tri set cholesterol tri  string cholesterol tri  cholesterol tri cholesterol tri string get height  height set height  string height  height height string get is smoker  is smoker set is smoker  string is smoker  is smoker is smoker string get weight  weight set weight  string weight  weight weight
ReportRequestBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans report request bean   loader report request beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader report request bean loader bean loader report request bean list report request bean load list  result set rs  sqlexception array list report request bean list array list report request bean    rs next   list add load single rs  list report request bean load single  result set rs  sqlexception report request bean report request bean  set id rs get long  id   set requester mid rs get long  requester mid   set patient mid rs get long  patient mid   set requested date rs get timestamp  requested date   set viewed date rs get timestamp  viewed date   set status rs get string  status   prepared statement load parameters  prepared statement ps report request bean bean  sqlexception illegal state exception  unimplemented
SessionTimeoutListener edu ncsu csc itrust server javax servlet http http session javax servlet http http session event javax servlet http http session listener edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   listener which will time the user out after pre specified time limit session timeout listener http session listener daofactory factory   the constructor session timeout listener  factory daofactory get production instance    the specialized constructor which takes particular daofactory to be used when checking the pre specified timeout limit param factory the daofactory to be used session timeout listener  daofactory factory  factory factory   called when the http session is created method pulls the pre specified limit from the database and sets it as property of the http session param arg0 the http session even which just occurred session created  http session event arg0  http session session arg0 get session  mins mins factory get access dao  get session timeout mins  dbexception e  system err println  unable to set session timeout defaulting to minutes print stack trace   mins 1  mins session set max inactive interval mins 60    must be declared compliance with the not implemented session destroyed  http session event arg0  nothing to here
TransactionDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception sql timestamp sql date util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans operational profile edu ncsu csc itrust beans transaction bean edu ncsu csc itrust beans loaders operational profile loader edu ncsu csc itrust beans loaders transaction bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception   used the logging mechanism dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos author andy transaction dao daofactory factory transaction bean loader loader transaction bean loader  operational profile loader operational profile loader operational profile loader    the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc transaction dao  daofactory factory  factory factory   returns the whole transaction log dbexception list transaction bean get all transactions  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from transaction log order by time logged desc result set rs ps execute query  loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    log transaction just giving it the person who is logged in and the type param type the link transaction type representing the type transaction is param logged in mid the mid of the user who is logged in dbexception log transaction  transaction type type logged in mid  dbexception log transaction type logged in mid   log transaction with all of the info the meaning of secondary mid and added info changes depending on the transaction type param type the link transaction type representing the type transaction is param logged in mid the mid of the user who is logged in param secondary mid typically the mid of the user who is being acted upon param added info note about subtransaction or specifics of transaction  for posterity  dbexception log transaction  transaction type type logged in mid secondary mid string added info  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into transaction log logged in mid secondary mid transaction code added info  values  ps set long 1 logged in mid  ps set long 2 secondary mid  ps set int 3 type get code   ps set string 4 added info  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    list of all transactions in which an hcp accessed the given patient record param patient id the mid of the patient in question util list of transactions dbexception list transaction bean get all record accesses long patient id get by role  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from transaction log where secondary mid and transaction code in  transaction type patient viewable str order by time logged desc ps set long 1 patient id  result set rs ps execute query  list transaction bean tb list loader load list rs  tb list add and sort roles tb list patient id get by role  tb list sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    the most thorough fetch param logged in role role of logged in param secondary role role of secondary param begin beginning of date range param end end of date range param type type of transaction dbexception list transaction bean get transactions for  string logged in role string secondary role date begin date end transaction type type  dbexception connection conn prepared statement ps conn factory get connection  if logged in role compare to  any 0  logged in role if secondary role compare to  any 0  secondary role ps conn prepare statement  select from transaction log users where mid logged in mid or mid secondary mid  and role or role and transaction code and time logged and time logged order by time logged desc ps set string 1 logged in role  ps set string 2 secondary role  ps set int 3 type get code   ps set date 4 begin  ps set date 5 end  result set rs ps execute query  list transaction bean tb list loader load list rs  tb list add and sort roles tb list patient id get by role  tb list sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    list of all transactions in which an hcp accessed the given patient record within the dates param patient id the mid of the patient in question param lower the starting date as util date param upper the ending date as util date util list of transactions dbexception list transaction bean get record accesses long patient id util date lower util date upper get by role  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from transaction log where secondary mid and transaction code in transaction type patient viewable str and time logged and time logged order by time logged desc ps set long 1 patient id  ps set timestamp 2 timestamp lower get time   add day worth to include the upper ps set timestamp 3 timestamp upper get time  l  result set rs ps execute query  list transaction bean tb list loader load list rs  tb list add and sort roles tb list patient id get by role  tb list sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns the operation profile the operational profile as bean dbexception operational profile get operational profile  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select transaction code count transaction id  as total count count if logged in mid transaction id null  as patient count count if logged in mid transaction id null  as personnel count from transaction log group by transaction code order by transaction code asc result set rs ps execute query  operational profile loader load single rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    param tb list param patient id param sort by role dbexception list transaction bean add and sort roles  list transaction bean tb list patient id sort by role  dbexception connection conn prepared statement ps conn factory get connection  for  transaction bean tb list  ps conn prepare statement  select role from users where mid ps set long 1 get logged in mid   result set rs ps execute query  string role if rs next   role rs get string  role if role equals  er   role emergency responder if role equals  uap   role uap if role equals  hcp   role lhcp ps conn prepare statement  select patient id from declared hcp where hcpid ps set long 1 get logged in mid   result set rs2 ps execute query  while rs2 next    rs2 get long  patient id patient id  role dlhcp if role equals  patient   role patient ps conn prepare statement  select representee mid from representatives where representer mid ps set long 1 get logged in mid   result set rs2 ps execute query  while rs2 next    rs2 get long  representee mid patient id  role personal health representative set role role  if sort by role  transaction bean array transaction bean tb list size  array tb list get 0  transaction bean for int tb list size  tb list get i  string role get role  while array role compare to ignore case array get role   0  for int k  array array k 1 array size tb list size  for int size tb list set i array tb list sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
MedicationBean edu ncsu csc itrust beans   medication is the same thing as an nd code it like aspirin medication is not associated with an office visit that prescription see link prescription bean author andy meneely medication bean string ndcode string description medication bean  medication bean  string code  ndcode code medication bean  string code string description  ndcode code description description   gets the nd code procedure the nd code procedure string get ndcode  ndcode set ndcode  string code  ndcode code   gets the nd description procedure the nd description procedure string get description  description set description  string description  description description string get ndcode formatted  string code get ndcode   code length  5  code substring 0 5  code substring 5  code override equals  object other   other null  get class  equals other get class   equals  medication bean  other  hash code  hash code not designed any arbitrary constant will equals  medication bean other  description equals other description  ndcode equals other ndcode 
Messages edu ncsu csc itrust util missing resource exception util resource bundle messages string bundle  name edu ncsu csc itrust messages non nls 1 resource bundle resource  bundle resource bundle get bundle  bundle  name localization instance  get current locale   string get string  string key  resource  bundle get string key  missing resource exception e  key
DrugInteractionBean edu ncsu csc itrust beans   bean storing data about message from one user to another bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  drug interaction bean string first drug string second drug string description   the first drug string get first drug  first drug   param first drug the first drug to set set first drug  string first drug  first drug first drug   the second drug string get second drug  second drug   param second drug the second drug to set set second drug  string second drug  second drug second drug   the description string get description  description   param description the description to set set description  string description  description description
/print header page language content type text html charset iso 8859 1 page encoding iso 8859 1 include file authenticate jsp if valid session  error message string  session get attribute  error message session remove attribute  error message doctype html w3 dtd html transitional en http www w3 org tr html4 loose dtd html head title page title title link href trust css main css type text css rel stylesheet link href trust css datepicker css type text css rel stylesheet script src trust js date picker js type text javascript script script src trust js jquery 1 js type text javascript script link href trust css facebox facebox css media screen rel stylesheet type text css script src trust js facebox facebox js type text javascript script script type text javascript query document  ready function  rel  facebox facebox  facebox settings loading image trust image facebox loading gif facebox settings close image trust image facebox closelabel gif script head body
PersonnelBaseAction edu ncsu csc itrust action base edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception trust exception   an dealing with actions that require an associated personnel the concrete functionality provided by allows asserting the correctness and existence of personnel mids use whenever your jsp requires personnel id when it loads  e edit patient jsp  the patient string is passed to the constructor of and is checked both format and existence the patient id is wrong in any way an exception is thrown resulting in the user getting kicked out to the home page subclasses need not rewrite functionality and they are not held to any strict contract to extend very similar to link patient base action personnel base action   the database access object factory to associate with runtime context daofactory factory   stores the mid of the personnel associated with action pid   the constructor param factory factory to create database access object param pid string the personnel id to associate with action trust exception the personnel id is incorrect or there is db problem personnel base action  daofactory factory string pid string  trust exception factory factory pid check personnel id pid string    asserts whether the input is valid existing personnel mid param input the presumed mid the existing personnel id as trust exception the personnel does not exist or there is db problem check personnel id  string input  trust exception pid value of input   factory get personnel dao  check personnel exists pid  pid trust exception  personnel does not exist number format exception e  trust exception  personnel id is not number get message     retrieves the identifier of the patient as the patient mid get pid  pid
ViewPrescriptionRecordsAction edu ncsu csc itrust action util array list util list edu ncsu csc itrust email util edu ncsu csc itrust beans email edu ncsu csc itrust beans patient bean edu ncsu csc itrust beans personnel bean edu ncsu csc itrust beans prescription bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception trust exception edu ncsu csc itrust messages   handles retrieving beans view prescription records jsp author laurenhayward view prescription records action patient dao patient dao personnel dao personnel dao transaction dao trans dao email util emailer logged in mid   set up defaults param factory the daofactory used to create the daos used in action param logged in mid the mid of the person viewing prescription records view prescription records action  daofactory factory logged in mid  emailer email util factory  patient dao factory get patient dao  personnel dao factory get personnel dao  trans dao factory get transaction dao  logged in mid logged in mid   gets patient bean from an mid param patient id mid of the patient patient bean the mid given trust exception patient bean get patient long patient id  trust exception patient dao get patient patient id    gets the logged in person representees list of patient beans holding the representees trust exception list patient bean get representees  trust exception patient dao get represented logged in mid    returns the prescribing hcp prescription param prescription item in question hcp who prescribed the prescription trust exception personnel bean get prescribing doctor  prescription bean prescription  trust exception personnel dao get prescribing doctor prescription    returns all the prescriptions given patient param patient id patient in question list of all the prescriptions that patient trust exception list prescription bean get prescriptions patient long patient id  trust exception patient bean patient patient dao get patient patient id   logged in mid patient id  trans dao log transaction  transaction type view  prescription  report logged in mid  patient dao get prescriptions patient id  list string to list array list string   to list add patient get email   list patient bean representatives patient dao get representing patient id  for  patient bean representative representatives   logged in mid representative get mid   trans dao log transaction  transaction type view  prescription  report logged in mid  patient dao get prescriptions patient id  to list add representative get email   list personnel bean dlhcps patient dao get declared hcps patient id  for  personnel bean dlhcp dlhcps   logged in mid dlhcp get mid   trans dao log transaction  transaction type view  prescription  report logged in mid  patient dao get prescriptions patient id  list personnel bean uaps personnel dao get uaps hcp dlhcp get mid   for  personnel bean uap uaps   logged in mid uap get mid   trans dao log transaction  transaction type view  prescription  report logged in mid  patient dao get prescriptions patient id  email email email  email set to list to list  email set from  noreply itrust com non nls 1 email set subject  messages get string  view prescription records action   non nls 1 email set body  messages get string  view prescription records action   non nls 1 emailer send email email  trans dao log transaction  transaction type view  prescription  report logged in mid  patient dao get prescriptions patient id 
LabProcedureBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans lab procedure bean   loader lab procedure beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader lab procedure bean loader bean loader lab procedure bean list lab procedure bean load list  result set rs  sqlexception array list lab procedure bean list array list lab procedure bean    rs next   list add load single rs  list lab procedure bean load single  result set rs  sqlexception lab procedure bean lab procedure lab procedure bean  lab procedure set procedure id rs get long  laboratory procedure id   lab procedure set pid rs get long  patient mid   lab procedure set loinc rs get string  laboratory procedure code   lab procedure set status rs get string  status   lab procedure set commentary rs get string  commentary   lab procedure set results rs get string  results   lab procedure set ov id rs get long  office visit id   lab procedure set timestamp rs get timestamp  updated date   lab procedure set rights rs get string  rights   lab procedure prepared statement load parameters  prepared statement ps lab procedure bean bean  sqlexception illegal state exception  unimplemented
/auth/admin/information page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust dao mysql personnel dao include file global jsp personnel bean personnelb personnel dao prod dao  get personnel logged in mid  div align center style margin bottom 30px img src trust image user logged in mid value  png alt mid picture div div align center table width tr td name td td personnelb get full name  td tr tr td location td td somewhere td tr table div
TransactionBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans transaction bean edu ncsu csc itrust enums transaction type   loader transaction beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader transaction bean loader bean loader transaction bean list transaction bean load list  result set rs  sqlexception list transaction bean list array list transaction bean    rs next   list add load single rs  list prepared statement load parameters  prepared statement ps transaction bean bean  sqlexception illegal state exception  unimplemented transaction bean load single  result set rs  sqlexception transaction bean transaction bean  set added info rs get string  added info   set logged in mid rs get long  logged in mid   set secondary mid rs get long  secondary mid   set time logged rs get timestamp  time logged   set transaction type  transaction type parse rs get int  transaction code   set transaction id rs get long  transaction id  
DAOFactory edu ncsu csc itrust dao sql connection sql sqlexception edu ncsu csc itrust dao mysql access dao edu ncsu csc itrust dao mysql adverse event dao edu ncsu csc itrust dao mysql allergy dao edu ncsu csc itrust dao mysql appt dao edu ncsu csc itrust dao mysql appt type dao edu ncsu csc itrust dao mysql auth dao edu ncsu csc itrust dao mysql cptcodes dao edu ncsu csc itrust dao mysql drug interaction dao edu ncsu csc itrust dao mysql fake email dao edu ncsu csc itrust dao mysql family dao edu ncsu csc itrust dao mysql health records dao edu ncsu csc itrust dao mysql hospitals dao edu ncsu csc itrust dao mysql icdcodes dao edu ncsu csc itrust dao mysql loincdao edu ncsu csc itrust dao mysql lab procedure dao edu ncsu csc itrust dao mysql message dao edu ncsu csc itrust dao mysql ndcodes dao edu ncsu csc itrust dao mysql office visit dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql referral dao edu ncsu csc itrust dao mysql remote monitoring dao edu ncsu csc itrust dao mysql report request dao edu ncsu csc itrust dao mysql risk dao edu ncsu csc itrust dao mysql survey dao edu ncsu csc itrust dao mysql survey result dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust dao mysql visit reminders dao edu ncsu csc itrust testutils evil daofactory edu ncsu csc itrust testutils test daofactory   the central mediator all database access objects the production instance uses the database connection pool provided by tomcat  so use the production instance when doing stuff from jsps in the real code both the production and the test instance parses the context xml file to get the jdbc connection also see link evil daofactory and see link test daofactory any dao that is added to the system should be added in in the same way that all other daos are author andy daofactory daofactory production instance iconnection driver driver   production instance of the daofactory to be used in deployment  by tomcat  daofactory get production instance   production instance null  production instance daofactory  production instance daofactory  driver production connection driver  connection get connection  sqlexception driver get connection  access dao get access dao  access dao this  allergy dao get allergy dao  allergy dao this  appt dao get appt dao  appt dao this  appt type dao get appt type dao  appt type dao this  auth dao get auth dao  auth dao this  cptcodes dao get cptcodes dao  cptcodes dao this  drug interaction dao get drug interaction dao  drug interaction dao this  family dao get family dao  family dao this  health records dao get health records dao  health records dao this  hospitals dao get hospitals dao  hospitals dao this  icdcodes dao get icdcodes dao  icdcodes dao this  ndcodes dao get ndcodes dao  ndcodes dao this  office visit dao get office visit dao  office visit dao this  patient dao get patient dao  patient dao this  personnel dao get personnel dao  personnel dao this  referral dao get referral dao  referral dao this  risk dao get risk dao  risk dao this  transaction dao get transaction dao  transaction dao this  visit reminders dao get visit reminders dao  visit reminders dao this  fake email dao get fake email dao  fake email dao this  report request dao get report request dao  report request dao this  survey dao get survey dao  survey dao this  lab procedure dao get lab procedure dao  lab procedure dao this  loincdao get loincdao  loincdao this  survey result dao get survey result dao  survey result dao this  message dao get message dao  message dao this  adverse event dao get adverse event dao  adverse event dao this  remote monitoring dao get remote monitoring dao  remote monitoring dao this 
/auth/uap/information page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust dao mysql personnel dao include file global jsp personnel bean personnelb personnel dao prod dao  get personnel logged in mid  div align center style margin bottom 30px img src trust image user logged in mid value  png alt mid picture div div align center table tr td name td td personnelb get full name  td tr tr td location td td personnelb get city  personnelb get state  td tr table div
ProductionConnectionDriver edu ncsu csc itrust dao sql connection sql sqlexception javax naming context javax naming initial context javax naming naming exception javax sql data source   produces the jdbc connection from tomcat jdbc connection pool  defined in context xml  produces and exception when running the unit tests because they re not being run through tomcat author andy production connection driver iconnection driver connection get connection  sqlexception   data source    context  initial context  lookup  comp env   lookup  jdbc itrust   get connection  naming exception e  sqlexception  context lookup naming exception get message  
/auth/patient/reportAdverseEvent page edu ncsu csc itrust action report adverse event action page edu ncsu csc itrust beans adverse event bean page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust beans hcplink bean page edu ncsu csc itrust bean builder page edu ncsu csc itrust beans personnel bean page util list page util array list taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp include file global jsp page title trust report adverse event include file header jsp report adverse event action action if request get parameter  comment  null  session get attribute  hcpmid null  list hcplink bean link list array list hcplink bean   link list list hcplink bean session get attribute  beanlist list adverse event bean adverse list array list adverse event bean   bad for  hcplink bean bean link list   l bean is checked   action report adverse event action  bean get prescriber mid  prod dao logged in mid value   adverse event bean ae bean adverse event bean  ae bean set mid  logged in mid  ae bean set description request get parameter  comment   ae bean set drug  bean get drug   ae bean set code  bean get code   ae bean set prescriber  bean get prescriber mid   adverse list add ae bean  string msg action add report ae bean  if  msg equals   bad div align center span trust error msg span div action report adverse event action prod dao logged in mid value   action send mails adverse list  if  bad  response send redirect  home jsp rep if request get parameter  comment  null  session get attribute  hcpmid null  action report adverse event action  session get attribute  hcpmid prod dao logged in mid value   adverse event bean ae bean adverse event bean  ae bean set mid  logged in mid  ae bean set description request get parameter  comment   ae bean set drug  session get attribute  pres id   ae bean set code  session get attribute  code   ae bean bean builder adverse event bean   build request get parameter map  adverse event bean   action add report ae bean  action send mail ae bean  response send redirect  home jsp rep if request get parameter  comment  null  request get parameter  hcpmid null  action report adverse event action request get parameter  hcpmid prod dao logged in mid value   session set attribute  hcpmid request get parameter  hcpmid   session set attribute  pres id request get parameter  pres id   session set attribute  code request get parameter  code   div align center form id main form method get action report adverse event jsp h2 report an adverse event h2 textarea name comment cols rows textarea br br input type submit value save name add report form div include file footer jsp
Email edu ncsu csc itrust beans sql timestamp util array list util list   bean storing data about fake emails bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  email list string to list array list string   string from string subject string body timestamp time added list string get to list  to list set to list  list string to list  to list to list string get to list str  string str string addr to list  str addr str substring 0 str length  1  string get from  from set from  string from  from from string get subject  subject set subject  string subject  subject subject string get body  body set body  string body  body body timestamp get time added  time added set time added  timestamp time added  time added time added override equals  object obj  obj obj get class  equals this get class   equals  email  obj  override hash code  hash code not designed any arbitrary constant will equals  email other  from equals other from  subject equals other subject  body equals other body  list equals to list other to list  list equals  list string to list list string other to list   to list size  other to list size    int to list size  to list get i  equals other to list get i  override string to string  from from to to list to string  subject subject body body
/auth/patient/survey page language content type text html charset iso 8859 1 page encoding iso 8859 1 page edu ncsu csc itrust beans survey bean page edu ncsu csc itrust action survey action page edu ncsu csc itrust bean builder page edu ncsu csc itrust exception trust exception page error page auth exception handler jsp taglib uri web inf tags tld prefix itrust include file global jsp page title trust patient survey include file header jsp survey action action survey action prod dao logged in mid value   survey bean survey bean visit id get office visit id from previous jsp string visit idstr request get parameter  ov id string visit date str request get parameter  ov date if visit idstr visit idstr equals   visit id parse long visit idstr  catch  exception e  print stack trace  form is filled request get parameter  form is filled request get parameter  form is filled equals  if form is filled  survey bean bean builder survey bean   build request get parameter map  survey bean   survey bean set visit id visit id  string waiting minutes request get parameter  waiting minutes string  waiting minutes waiting minutes equals   survey bean set waiting room minutes  integer parse int waiting minutes  string exam minutes request get parameter  exam minutes string  exam minutes exam minutes equals   survey bean set exam room minutes  integer parse int exam minutes  update satisfaction number in bean  request get parameter  satradios null   request get parameter  satradios equals  sat radio5   survey bean set visit satisfaction 5   request get parameter  satradios equals  sat radio4   survey bean set visit satisfaction 4   request get parameter  satradios equals  sat radio3   survey bean set visit satisfaction 3   request get parameter  satradios equals  sat radio2   survey bean set visit satisfaction 2   request get parameter  satradios equals  sat radio1   survey bean set visit satisfaction 1  update treatment number in bean  request get parameter  treradios null   request get parameter  treradios equals  tre radio5   survey bean set treatment satisfaction 5   request get parameter  treradios equals  tre radio4   survey bean set treatment satisfaction 4   request get parameter  treradios equals  tre radio3   survey bean set treatment satisfaction 3   request get parameter  treradios equals  tre radio2   survey bean set treatment satisfaction 2   request get parameter  treradios equals  tre radio1   survey bean set treatment satisfaction 1  add survey data action add survey survey bean visit id  response send redirect  view my records jsp message survey successfully submitted catch  exception e  span get message  span if visit date str contains   trust exception  illegal parameter ov date div id header h1 trust patient survey office visit on visit date str h1 div div id content form action survey jsp method post name main form input type hidden name form is filled value input type hidden name ov id value visit idstr h3 how did you have to wait during your visit h3 table tr td in the waiting room td td input type text name waiting minutes string maxlength size td td 1 999 minutes td tr tr td in the examination room br before seeing your physician td td input type text name exam minutes string maxlength size td td 1 999 minutes td tr table h3 how satisfied were you with your office visit h3 table tr td tr td input align left type radio name satradios value sat radio5 very satisfied  5  br td tr tr td input align left type radio name satradios value sat radio4 satisfied  4  br td tr tr td input align left type radio name satradios value sat radio3 moderately satisfied  3  br td tr tr td input align left type radio name satradios value sat radio2 somewhat unhappy  2  br td tr tr td input align left type radio name satradios value sat radio1 very unhappy  1  br td tr table h3 how satisfied were you with the treatment or information you received h3 table tr td tr td input align left type radio name treradios value tre radio5 very satisfied  5  br td tr tr td input align left type radio name treradios value tre radio4 satisfied  4  br td tr tr td input align left type radio name treradios value tre radio3 moderately satisfied  3  br td tr tr td input align left type radio name treradios value tre radio2 somewhat unhappy  2  br td tr tr td input align left type radio name treradios value tre radio1 very unhappy  1  br td tr table br br input type submit style font size 16pt font weight bold value submit survey form div include file footer jsp
/auth/hcp uap/showEmailHistory taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page util list page edu ncsu csc itrust beans email page edu ncsu csc itrust action view personnel action include file global jsp page title trust email history include file header jsp br div align center view personnel action action view personnel action prod dao logged in mid value   list email emails action get email history  table table emails size  0  tr th to th th subject th th body th th date sent th tr email email emails  tr td email get to list str  td td email get subject  td td email get body  td td email get time added  td tr tr td no emails on record td tr table div br include file footer jsp
/auth/hcp/home page error page auth exception handler jsp page edu ncsu csc itrust dao mysql patient dao page edu ncsu csc itrust beans lab procedure bean page edu ncsu csc itrust action view my report requests action page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust action lab proc hcpaction page edu ncsu csc itrust beans report request bean page util list include file global jsp page title trust hcp home include file header jsp view my report requests action report action view my report requests action  daofactory get production instance  logged in mid  list report request bean reports report action get all report requests requester  lab proc hcpaction lp action lab proc hcpaction  daofactory get production instance  logged in mid  list lab procedure bean lab procedures lp action get lab proc next month  table cellpadding cellspacing tr td h3 announcements h3 features in trust td tr tr td ul li no more typing in date we now have calendar popup that makes entering dates incredibly easy li ul td tr tr td h3 notifications h3 td tr tr td h4 comprehensive report history h4 td tr tr td ul if reports size  0  for  report request bean report reports  li report action get status report get id   li no report requests ul td tr tr td h4 lab procedures completed in the last month h4 td tr tr td href lab proc hcp jsp view all lab procedures here br td tr tr td ul if lab procedures size  0  for  lab procedure bean bean lab procedures  patient bean patient patient dao  daofactory get production instance   get patient bean get pid   li lab procedure bean get loinc  patient patient get full name  br results if bean get results  equals   none bean get results  no recent lab procedures li ul td tr table include file footer jsp
AdverseEventBean edu ncsu csc itrust beans   bean storing data about adverse event based on drug bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  adverse event bean string mid string drug string description string code string date string status string prescriber string get prescriber  prescriber set prescriber  string prescriber  prescriber prescriber string get status  status set status  string status  status status id   the id get id  id   param id the id to set set id int id  id id   the date string get date  date   param date the date to set set date  string date  date date string get code  code set code  string code  code code   the patient mid string get mid  mid   param id the patients mid set mid  string id  mid id   the drug the event is being reported string get drug  drug   param drug sets the drug the event is being reported set drug  string drug  drug drug   the description string get description  description   param description the description to set set description  string description  description description
Gender edu ncsu csc itrust enums   male or female not specified is provided as well incomplete forms or patient discretion gender male  male female  female not specified  not specified string name gender  string name  name name string get name  name override string to string  get name  gender parse  string input  gender gender gender values    gender name equals input  gender not specified
EMailValidator edu ncsu csc itrust validate edu ncsu csc itrust beans message bean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception email validator bean validator message bean   the constructor email validator    performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated validate  message bean m  form validation exception error list error list error list  error list add not null check format  body get body  validation format emails false   error list has errors   form validation exception error list 
WeightFactor edu ncsu csc itrust risk factors edu ncsu csc itrust beans health record   checks the patient body mass index over the given threshold see link patient risk factor details on what each method typically does author andy weight factor patient risk factor health record current health record bmi threshold weight factor  health record current health record bmi threshold  current health record current health record bmi threshold bmi threshold string get description  patient body mass index is over bmi threshold has factor  bmi current health record get body mass index  bmi bmi threshold is infinite bmi 
/auth/hcp uap/addPatient taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page edu ncsu csc itrust action add patient action page edu ncsu csc itrust bean builder page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust exception form validation exception include file global jsp page title trust add patient include file header jsp form is filled request get parameter  form is filled request get parameter  form is filled equals   form is filled  page is not actually page it just adds user and forwards patient bean bean builder patient bean   build request get parameter map  patient bean   mid add patient action prod dao logged in mid value   add patient p  session set attribute  pid to string new mid  string fullname string password password get password  fullname get full name  div align center span trust message patient fullname successfully added span br table table tr th colspan patient information th tr tr td sub header vertical mid td td mid td tr tr td sub header vertical temporary password td td password td tr table br please get information to fullname href trust auth hcp uap edit patient jsp to patient information div catch  form validation exception e  div align center span trust error get message  span div div align center form action add patient jsp method post input type hidden name form is filled value br br div style width text align left please enter in the name of the patient with valid email address the user does not have an email address use the hospital email address insert pre defined email to recover the password div br br table table tr th colspan patient information th tr tr td sub header vertical first name td td input type text name first name td tr tr td sub header vertical last name td td input type text name last name tr tr td sub header vertical email td td input type text name email td tr table br input type submit style font size 16pt font weight bold value add patient form br div include file footer jsp
ApptBeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans appt bean appt bean loader bean loader appt bean list appt bean load list  result set rs  sqlexception list appt bean list array list appt bean    rs next   list add load single rs  list prepared statement load parameters  prepared statement ps appt bean bean  sqlexception ps set string 1 bean get appt type   ps set long 2 bean get patient   ps set long 3 bean get hcp   ps set timestamp 4 bean get date   ps set string 5 bean get comment   ps appt bean load single  result set rs  sqlexception appt bean bean appt bean  bean set appt type rs get string  appt type   bean set patient rs get long  patient id   bean set hcp rs get long  doctor id   bean set date rs get timestamp  sched date   bean set comment rs get string  comment   bean
FormValidationException edu ncsu csc itrust exception io ioexception util list javax servlet jsp jsp writer   exception is used specifically when an action involves the correct and proper submission of web form form validation is handled by series of other classes but when form validation is incorrect or incomplete exception is thrown form validation exception exception serial version uid error list error list   constructor with error messages passed as list of parameters to the method param error messages the list of error messages to be returned in the special form validation box form validation exception  string error messages  error list error list  string msg error messages  error list add not null msg    constructor with error messages as special error list data type param error list an error list object which contains the list of error messages form validation exception  error list error list  error list error list   returns the error list as util list of strings the error list list string get error list  error list get message list    the error message will be displayed at the top of the trust page as in other trust exceptions override string get message  form has not been validated correctly the following field are not properly filled in error list to string    the special formatting error messages is then kept in one place param out the output writer  in jspwriter  where the formatted list will go ioexception the writer is incorrect print html  jsp writer out  ioexception out print  h2 information not valid h2 div error list string error message error list  out print error message br out print  div
/auth/patient/viewMessageOutbox page error page auth exception handler jsp page edu ncsu csc itrust action view my messages action page edu ncsu csc itrust beans message bean page util list include file global jsp page title trust view message include file header jsp view my messages action action view my messages action prod dao logged in mid value   message bean original  request get parameter  msg null  string msg parameter request get parameter  msg msg index msg index integer parse int msg parameter  number format exception nfe  response send redirect  message outbox jsp list message bean messages  session get attribute  messages null  messages list message bean session get attribute  messages if msg index messages size  msg index 0  msg index response send redirect  oops jsp response send redirect  message outbox jsp original message bean messages get msg index  session set attribute  message original  response send redirect  message outbox jsp div table width style background color dddddd tr td to action get name original get to   td tr tr td subject original get subject  td tr tr td date amp time original get sent date  td tr table div table tr td colspan message td tr tr td colspan original get body  td tr tr td colspan href message outbox jsp back td tr table include file footer jsp
IConnectionDriver edu ncsu csc itrust dao sql connection sql sqlexception   used by daofactory to away different ways of getting our jdbc connection author andy iconnection driver connection get connection  sqlexception
ValidationFormat edu ncsu csc itrust validate util regex pattern   with all of the validation formats that fit into regex author andy validation format name  sa z a up to letters space and date  mm dd yyyy phone  number  xxx xxx xxxx mid  between and digits role  admin hcp uap test  must be one of admin hcp uap test email  a za z0 9 a za z0 9    a za z0 9 a za z0 9     a za z up to alphanumeric characters and symbols and question  a z a z0 9 up to alphanumeric characters and symbols answer  a z a z0 9 up to alphanumeric characters address  a z a z0 9 up to alphanumeric characters and appt  comment  0 9a z a between and alphanumerics with space and other punctuation appt  type  name  a z a between and alpha characters and space appt  type  duration  0 9 between and numberics city  a z a up to characters state  a two capital letters zipcode  0 9 0 9 0 9 xxxxx or xxxxx xxxx 0 9 0 9 bloodtype    o  a  b  ab   must be ab ab  gender  male  female  only male or female male female  notes  a z a z0 9 up to alphanumeric characters with space and other punctuation messages  body  a z a z0 9 t  up to alphanumeric characters with space and other punctuation messages  subject  a z a z0 9 t  up to alphanumeric characters with space and other punctuation password  a z a z0 9 8 20 alphanumeric characters insurance  id  da z a up to letters digits space and hospital  id  between and digits hospital  name  0 9a z a between and alphanumerics space and nd  code  description  a z a z0 9 up to characters letters numbers and space drug  int  comments  a z a z0 9   up to alphanumeric characters and   emails  a z a z0 9   up to alphanumeric characters and   adverse  event  comments  a z a z0 9   up to alphanumeric characters and   icd  code  description  a z a z0 9 up to characters letters numbers and space cpt  code  description  a z a z0 9 up to characters letters numbers and space allergy  description  a z a z0 9 up to characters letters numbers and space icd9 cm  xxx xx cpt  a za z0 9 up to four digit integer plus letter or digit height  d  up to 3 digit number up to decimal place weight  d  up to 4 digit number up to decimal place year  must be digits gendercod  male  female  not specified  only male female or all patients nd  up to nine digit integer loinc  must be in format nnnnn n loinc  item  a z a z0 9 up to characters letters numbers and space comments  a z a z0 9 up to alphanumeric characters lab  status  not yet received  pending  completed  only not yet received pending or completed lab  rights  allowed  restricted  only allowed or restricted systolic  blood  pressure  4 9 0 9 0 9 0 9 0 3 0 9 240  must be between and diastolic  blood  pressure  4 9 0 9 0 4 0 9 150  must be between and glucose  level  0 9 1 9 0 9 0 9 0 9 0 4 0 9 250  must be between and pattern regex string description validation format  string regex string error message  regex pattern compile regex  description error message pattern get regex  regex string get description  description
/global page edu ncsu csc itrust action login failure action page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust dao mysql auth dao daofactory prod dao daofactory get production instance  auth dao auth dao prod dao get auth dao  login failure action login failure action login failure action prod dao request get remote addr   string page title string login message string user name andy programmer string error message valid session logged in mid long 0 l  string user role logged in mid long  session get attribute  logged in mid user role string  session get attribute  user role  user role null   request is user in role  patient   user role patient  request is user in role  uap   user role uap  request is user in role  hcp   user role hcp  request is user in role  er   user role er  request is user in role  admin   user role admin  request is user in role  pha   user role pha  request is user in role  tester   user role tester session set attribute  user role user role  illegal state exception ise  valid session
GetUserNameAction edu ncsu csc itrust action edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception trust exception   handles getting the person name associated with certain mid used by get user jsp author laurenhayward get user name action daofactory factory   set up defaults param factory the daofactory used creating the daos action get user name action  daofactory factory  factory factory   returns the person name that matches the input mid param param input mid the mid to look up the person name dbexception trust exception string get user name  string input mid  trust exception mid value of input mid  factory get auth dao  get user name mid  number format exception e  trust exception  mid not in correct form
/auth/hcp/messageInbox page error page auth exception handler jsp page util list page edu ncsu csc itrust action view my messages action page edu ncsu csc itrust action edit personnel action page edu ncsu csc itrust beans message bean page edu ncsu csc itrust dao daofactory page edu ncsu csc itrust dao mysql personnel dao page util array list page text date format page text simple date format page util date page util calendar include file global jsp page title trust view my message include file header jsp div align center h2 my messages h2 view my messages action action view my messages action prod dao logged in mid value   edit personnel action f action edit personnel action prod dao logged in mid value  logged in mid to string   personnel dao dao personnel dao prod dao  list message bean messages edit filter backend editing string header message string fields string if request get parameter  edit request get parameter  edit equals   editing for i fields if request get parameter  cancel null  response send redirect  message inbox jsp if request get parameter  test request get parameter  save null  error string nf nf request get parameter  sender replace  nf request get parameter  subject replace  nf request get parameter  has words replace  nf request get parameter  not words replace  nf request get parameter  start date replace  nf request get parameter  end date validate filter nf action validate and create filter nf  if nf starts with  error   error header message nf if  error  if request get parameter  test null  response send redirect  message inbox jsp edit test filter nf  if request get parameter  save null  f action edit message filter nf  response send redirect  message inbox jsp filter if request get parameter  test filter null  string filter request get parameter  test filter string filter split   1  for i fields catch  array index out of bounds exception e  nothing string filter dao get personnel logged in mid value   get message filter  if  filter equals   string filter split   1  for i fields catch  array index out of bounds exception e  nothing sorts messages if request get parameter  sort null  if request get parameter  sortby equals  name   if request get parameter  sorthow equals  asce   messages action get all my messages name ascending  messages action get all my messages name descending  if request get parameter  sortby equals  time   if request get parameter  sorthow equals  asce   messages action get all my messages time ascending  messages action get all my messages  messages action get all my messages  filters messages is filtered if request get parameter  filter request get parameter  filter equals   request get parameter  test filter null  string filter if request get parameter  test filter null  filter request get parameter  test filter filter dao get personnel logged in mid value   get message filter  if  filter equals  filter equals   list message bean filtered action filter messages messages filter  messages filtered is filtered session set attribute  messages messages  if editing  div filter edit div align center span style font size 13pt font weight bold edit message filter span header message equals  br span trust message header message span br br form method post action message inbox jsp edit table tr style text align right td label sender sender label input type text name sender id sender value fields td td style padding left 10px padding right 10px label has words has the words label input type text name has words id has words value fields td td label start date start date label input type text name start date id start date value fields input type button value select date onclick display date picker  start date td tr tr style text align right td label subject subject label input type text name subject id subject value fields td td style padding left 10px padding right 10px label not words does not have the words label input type text name not words id not words value fields td td label end date end date label input type text name end date id end date value fields input type button value select date onclick display date picker  end date td tr tr style text align center td colspan input type submit name test value test filter input type submit name save value save input type submit name cancel value cancel td tr table form div div br form method post action message inbox jsp is filtered filter table tr td select name sortby option value time sort option option value name name option option value time time option select td td select name sorthow option value desc order option option value asce ascending option option value desc descending option select td td input type submit name sort value sort td tr tr td href message inbox jsp edit edit filter td td href message inbox jsp filter apply filter td tr table form br if messages size  0  table fancy table tr th sender th th subject th th received th th th tr index for  message bean message messages  if message get read  0  tr style font weight bold  index 1  alt td action get name message get from   td td message get subject  td td message get sent date  td td href view message inbox jsp msg index read td tr tr  index 1  alt td action get name message get from   td td message get subject  td td message get sent date  td td href view message inbox jsp msg index read td tr index table div you have no messages div br div include file footer jsp
PrescriptionAlerts edu ncsu csc itrust enums   every prescription that should be alerted emergency reports in the future should be abstracted out to database table so it can be changed at runtime author andy prescription alerts tetracycline  tetracycline prioglitazone  prioglitazone string name string ndcode prescription alerts  string name string ndcode  name name ndcode ndcode string get name  name string get ndcode  ndcode is alert  string code  prescription alerts thisone values    thisone get ndcode  equals code 
/auth/hcp/sendEmailNotification taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util list page util array list page edu ncsu csc itrust beans email page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust dao mysql patient dao page edu ncsu csc itrust dao mysql personnel dao page edu ncsu csc itrust email util include file global jsp page title trust hcp send email notification include file header jsp personnel bean self personnel dao prod dao  get personnel logged in mid  flag mid  request get parameter  mid request get parameter  mid equals ignore case   mid parse long request get parameter  mid   flag flag mid  flag  patient dao patients patient dao prod dao  patient bean my patient patients get patient mid  center table border bordercolor darkred tr td form action send email notification jsp method post h3 send email form h3 table tr td from td td self get full name  td tr tr td to td td input type text name email value my patient get email  my patient get full name  td tr tr td subject td td input type text value reminder name subject td tr tr td colspan textarea name thetext rows cols dear my patient get first name  textarea td tr table br input type hidden name id value my patient get mid  input type submit value send email input type reset value reset form td tr table center  request get parameter  email request get parameter  email equals   response send redirect  trust auth hcp home jsp string email request get parameter  email string subject request get parameter  subject string message request get parameter  thetext id parse long request get parameter  id   email my email email  list string to list array list string   to list add email  my email set to list to list  my email set from self get email   my email set body message  my email set subject subject  email util emailer email util prod dao  emailer send email my email  patient dao patients patient dao prod dao  patient bean my patient patients get patient id  center table border bordercolor darkgreen tr td h3 font color darkred your email was sent font h3 table tr td from td td self get full name  td tr tr td to td td input type text readonly value email style background color lightgrey my patient get full name  td tr tr td subject td td input type text readonly value subject style background color lightgrey td tr tr td colspan textarea readonly name thetext rows cols style background color lightgrey message textarea td tr table br form action trust auth hcp home jsp method get input type submit value home form td tr table center include file footer jsp
EditOfficeVisitAction edu ncsu csc itrust action text parse exception text simple date format util arrays util date util list edu ncsu csc itrust action base office visit base action edu ncsu csc itrust beans email edu ncsu csc itrust beans hospital bean edu ncsu csc itrust beans lab procedure bean edu ncsu csc itrust beans medication bean edu ncsu csc itrust beans office visit bean edu ncsu csc itrust beans prescription bean edu ncsu csc itrust beans patient bean edu ncsu csc itrust beans drug interaction bean edu ncsu csc itrust beans allergy bean edu ncsu csc itrust beans prescription report bean edu ncsu csc itrust beans forms edit office visit form edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql allergy dao edu ncsu csc itrust dao mysql drug interaction dao edu ncsu csc itrust dao mysql hospitals dao edu ncsu csc itrust dao mysql lab procedure dao edu ncsu csc itrust dao mysql ndcodes dao edu ncsu csc itrust dao mysql office visit dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate edit office visit validator   edits the office visits of patient used by edit office visit jsp author laurenhayward edit office visit action office visit base action edit office visit validator validator edit office visit validator  personnel dao personnel dao hospitals dao hospital dao office visit dao ov dao lab procedure dao lp dao transaction dao trans dao drug interaction dao drug dao allergy dao allergy dao patient dao pat dao ndcodes dao ndc dao logged in mid pid   used to identify the subactions that can comprise an office visit action subactions help direct the action logic because sometimes multiple office visit actions can occur within one transaction ovsub action add  diagnosis remove  diagnosis add  procedure remove  procedure add  medication remove  medication add  lab  procedure remove  lab  procedure add  immunization remove  immunization   patient id and office visit id validated by param factory the daofactory to be used in creating the daos action param logged in mid the mid of the user who is authorizing action param pid string the patient who action is performed on param ov idstring the id of the office visit in play trust exception edit office visit action  daofactory factory logged in mid string pid string string ov idstring  trust exception super factory pid string ov idstring  pid parse long pid string  ov dao factory get office visit dao  personnel dao factory get personnel dao  hospital dao factory get hospitals dao  lp dao factory get lab procedure dao  trans dao factory get transaction dao  drug dao factory get drug interaction dao  allergy dao factory get allergy dao  ndc dao factory get ndcodes dao  pat dao factory get patient dao  logged in mid logged in mid   returns the office visit bean the office visit the office visit bean of the office visit trust exception office visit bean get office visit  trust exception office visit bean office visit ov dao get office visit ov id  trans dao log transaction  transaction type view  office  visit logged in mid pid edit offce visit view office visits office visit   returns list of the lab procedures that have been done in an office visit param mid the doctor the visit was with param ovid the office visit id list of the lab procedures that were done in that visit dbexception list lab procedure bean get lab procedures long mid ovid  dbexception trans dao log transaction  transaction type view  lab  procedure logged in mid pid edit offce visit view lab procedures lp dao get all lab procedures doc ov mid ovid    is list of all hospitals ordered by the office visit hcp first param hcp id trust exception list hospital bean get hospitals long hcp id  trust exception list hospital bean hcps hospitals personnel dao get hospitals hcp id  list hospital bean all hospitals hospital dao get all hospitals  combine lists hcps hospitals all hospitals    combines two lists of hospitals param hcps hospitals hospitals the hcp is assigned to param all hospitals all hopsitals the combined list list hospital bean combine lists  list hospital bean hcps hospitals list hospital bean all hospitals  hospital bean hos all hospitals  hcps hospitals contains hos  hcps hospitals add hos  hcps hospitals   updates the office visit with information from the form passed in param form information to update success or exception message form validation exception string update information  edit office visit form form  form validation exception string confirm check add sub action  ovsub action add  diagnosis form get add diag id  ov id null  check add sub action  ovsub action add  procedure form get add proc id  ov id null  check add sub action  ovsub action add  immunization form get add immunization id  ov id form get hcp id   check add sub action  ovsub action add  lab  procedure form get add lab proc id  ov id null  check add prescription form ov id  check remove sub action  ovsub action remove  diagnosis form get remove diag id   check remove sub action  ovsub action remove  lab  procedure form get remove lab proc id   check remove sub action  ovsub action remove  procedure form get remove proc id   check remove sub action  ovsub action remove  immunization form get remove immunization id   check remove sub action  ovsub action remove  medication form get remove med id   update ov form  trans dao log transaction  transaction type document  office  visit logged in mid get office visit  get patient id  edit office visit edited office visit ov id  confirm success confirm  i trust exception e  print stack trace  get message  string has interaction  string drug string pid string startdate string enddate  trust exception string response simple date format original simple date format  mm dd yyyy simple date format needed simple date format  yyyy mm dd date start original parse startdate  startdate needed format start  date end original parse enddate  enddate needed format end  startdate startdate replace all  enddate enddate replace all  list prescription report bean pr bean list ov dao get prescription reports by date  parse long pid  startdate enddate  list drug interaction bean bean list drug dao get interactions drug  prescription report bean pr bean pr bean list  string pres drug pr bean get prescription  get medication  get ndcode  drug interaction bean bean bean list  string drug1 bean get first drug  string drug2 bean get second drug   pres drug equals int drug1  drug equals int drug2  response currently prescribed pr bean get prescription  get medication  get description  start date pr bean get prescription  get start date str  end date pr bean get prescription  get end date str  response interactions pr bean get prescription  get medication  get description  ndc dao get ndcode d bean get second drug   get description  response description bean get description   pres drug equals int drug2  drug equals int drug1  response currently prescribed pr bean get prescription  get medication  get description  start date pr bean get prescription  get start date str  end date pr bean get prescription  get end date str  response interactions pr bean get prescription  get medication  get description  ndc dao get ndcode d bean get first drug   get description  response description bean get description  dbexception e  print stack trace  trust exception e get message   parse exception e  print stack trace  trust exception e get message   response string is allergy on list  string pat mid string ndcode  trust exception string response list allergy bean allergy list allergy dao get allergies  parse long pat mid   allergy list is empty   response medication bean med bean ndc dao get ndcode ndcode  if med bean null  response string drug med bean get description  allergy bean allergy bean allergy list  string current aller drug allergy bean get description  allergy aspirin first found  new drug equals current aller drug  response allergy drug first found allergy bean get first found str  dbexception e  print stack trace  trust exception e get message   response   sends e mail regarding the prescribed dangerous drug param hcp id hcp the prescription is made by param pat id id of the patient prescription is param problem the allergy and or interaction that is the problem the sent e mail dbexception email make email app long hcp id string pat id string problem  dbexception trust exception patient bean pat dao get patient  parse long pat id  string hcp name personnel dao get name hcp id  email email email  email set from  no reply itrust com email set to list  arrays as list p get email   email set subject  hcp has prescribed you potentially dangerous medication email set body  string format  has prescribed medication that you are allergic to or that has known interaction with drug you are currently taking hcp name problem  email   adds prescription to an office visit param form the information about the prescription param ov id the id the office visit dbexception form validation exception check add prescription  edit office visit form form ov id  dbexception form validation exception  form get add med id  equals form get add med id   edit office visit validator true  validate form  prescription bean pres prescription bean  pres set dosage  integer value of form get dosage   pres set end date str form get end date   pres set start date str form get start date   pres set instructions form get instructions   medication bean med medication bean  med set ndcode form get add med id   pres set medication med  pres set visit id ov id  trans dao log transaction  transaction type add  prescription logged in mid pid edit offce visit add prescription pres get medication  get ndcode   ov dao add prescription pres    updates the office visit param form form with all the information dbexception form validation exception update ov  edit office visit form form  dbexception form validation exception validator validate form  office visit bean ov office visit bean ov id  ov set notes form get notes   ov set visit date str form get visit date   ov set hcp id  value of form get hcp id   ov set patient id  value of form get patient id   ov set hospital id form get hospital id   trans dao log transaction  transaction type update  office  visit logged in mid pid edit offce visit update office visit ov dao update ov    adds diagnosis or procedure to an office visit param action the type of action to add param code the cpt code of the action param visit id the office visit to add the action to param date of death the date of death needed the operation completed the code was dbexception trust exception check add sub action  ovsub action action string code visit id string date of death  dbexception trust exception  code equals code   action  add  diagnosis ov dao add diagnosis to office visit  value of code  visit id  add  immunization add  procedure ov dao add procedure to office visit code visit id add  lab  procedure ov dao add lab procedure to office visit code visit id pid  check add sub action  ovsub action action string code visit id string date of death string hcpid  dbexception trust exception  code equals code  ov dao add procedure to office visit code visit id hcpid    removes an action from an office visit param action type of action to remove param input id the action to remove the operation completed the code was dbexception check remove sub action  ovsub action action string input  dbexception  input equals input  remove id remove id value of input  number format exception e  print stack trace   action  remove  diagnosis ov dao remove diagnosis from office visit remove id  remove  immunization remove  procedure ov dao remove procedure from office visit remove id  remove  medication ov dao remove prescription remove id  remove  lab  procedure ov dao remove lab procedure from office visit remove id 
/auth/admin/remindersMessageOutbox page error page auth exception handler jsp page util list page edu ncsu csc itrust action view my messages action page edu ncsu csc itrust beans message bean page edu ncsu csc itrust dao daofactory include file global jsp page title trust reminders message outbox include file header jsp div align center h2 reminders message outbox h2 view my messages action action view my messages action prod dao l  list message bean messages if request get parameter  sortby null  if request get parameter  sortby equals  name   if request get parameter  sorthow equals  asce   messages action get all my messages name ascending  messages action get all my messages name descending  if request get parameter  sortby equals  time   if request get parameter  sorthow equals  asce   messages action get all my messages time ascending  messages action get all my messages  messages action get all my messages  session set attribute  messages messages   messages size  0  form method post action reminders message outbox jsp table tr td select name sortby option value time sort option option value name name option option value time time option select td td select name sorthow option value desc order option option value asce ascending option option value desc descending option select td td input type submit value sort td tr table form br table fancy table tr th to th th subject th th sent th th th tr index for  message bean message messages  tr  message get read  0  style font weight bold  index 1  alt td action get name  parse long message get subject  substring 0 message get subject  index of   td td message get subject  substring message get subject  index of  2  td td message get sent date  td td href view reminder message jsp msg index read td tr index table div you have no messages div br div include file footer jsp
ViewVisitedHCPsAction edu ncsu csc itrust action util list util array list edu ncsu csc itrust beans personnel bean edu ncsu csc itrust beans office visit bean edu ncsu csc itrust beans hcpvisit bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust dao mysql office visit dao edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception   action view visited hcps jsp view visited hcps action patient mid personnel dao doc dao office visit dao visit dao patient dao patient dao array list hcpvisit bean visits declare hcpaction declare action array list personnel bean filter list   set up defaults param factory the daofactory used to create the daos used in action param logged in mid the mid of the person viewing the visited hcps view visited hcps action  daofactory factory logged in mid  patient mid logged in mid doc dao factory get personnel dao  visit dao factory get office visit dao  patient dao factory get patient dao  visits array list hcpvisit bean   declare action declare hcpaction factory logged in mid  filter list array list personnel bean     adds all the office visits to global array trust exception process office visits  trust exception list office visit bean ovlist visit dao get all office visits patient mid  hcpvisit bean visit bean list personnel bean dhcps patient dao get declared hcps patient mid  tmp personnel bean pb array list personnel bean remove ids array list personnel bean   office visit bean ov ovlist  visit bean hcpvisit bean  pb doc dao get personnel ov get hcp id   visit bean set hcpmid ov get hcp id   visit bean set hcpname pb get full name   visit bean set ovdate ov get visit date str   visit bean set hcpspecialty pb get specialty   visit bean set hcpaddr pb get street address1  pb get street address2  pb get city  pb get state  pb get zip    true  tmp patient dao check declared hcp patient mid ov get hcp id   visit bean set designated tmp  dhcps is empty   personnel bean hcp dhcps   hcp get mid  ov get hcp id   remove ids add hcp  remove ids is empty   personnel bean pbean remove ids  dhcps remove pbean  visits add visit bean  personnel bean hcp dhcps  visit bean hcpvisit bean  visit bean set hcpmid hcp get mid   visit bean set hcpname hcp get full name   visit bean set ovdate  visit bean set hcpspecialty hcp get specialty   visit bean set hcpaddr hcp get street address1  hcp get street address2  hcp get city  hcp get state  hcp get zip   visit bean set designated true  visits add visit bean  dbexception dbe  trust exception dbe get message     returns list of all the visited hcps list of all the visited hcps list hcpvisit bean get visited hcps  process office visits  for int visits size  for int visits size  if visits get i  get hcpmid  visits get j  get hcpmid   visits remove visits get j  j  i trust exception ie  visits   set given hcp as undeclared param name hcp to undeclare an empty string trust exception string undeclare hcp  string name  trust exception hcpvisit bean remove hcpvisit bean visit visits   0 visit get hcpname  to lower case  compare to name to lower case   mid value of visit get hcpmid    patient dao check declared hcp patient mid visit get hcpmid   declare action undeclare hcp mid to string   visit set designated false   0 visit get ovdate  compare to   remove visit  null remove  visits remove remove    set given hcp as declared param name hcp to declare an empty string trust exception string declare hcp  string name  trust exception match hcpvisit bean visit visits   0 visit get hcpname  to lower case  compare to name to lower case   match mid value of visit get hcpmid   patient dao check declared hcp patient mid visit get hcpmid   declare action declare hcp mid to string   visit set designated true  match  list personnel bean doclist doc dao get all personnel  personnel bean ele doclist   0 name compare to ele get full name   hcpvisit bean visit bean visit bean hcpvisit bean  visit bean set hcpmid ele get mid   visit bean set hcpname ele get full name   visit bean set ovdate  visit bean set hcpspecialty ele get specialty   visit bean set hcpaddr ele get street address1  ele get street address2  ele get city  ele get state  ele get zip   visit bean set designated true  mid value of ele get mid   patient dao check declared hcp patient mid mid  declare action declare hcp mid to string   visits add visit bean    check to see given hcp is declared param mid hcp to check the hcp is declared otherwise check declared long mid  patient dao check declared hcp patient mid mid  dbexception dbe    filter the list of hcps by last name specialty or zip code param doc sort by last name param specialty sort by specialty param zip sort by zip sorted list of hcps list personnel bean filter hcplist  string doc string specialty string zip  list personnel bean doclist doclist doc dao get all personnel  personnel bean ele doclist   ele get last name  to lower case  contains doc to lower case    null specialty specialty equals    0 specialty to lower case  compare to ele get specialty  to lower case    null zip zip equals    ele get zip  contains zip substring 0 2  filter list add ele  filter list add ele   null zip zip equals    ele get zip  contains zip substring 0 2  filter list add ele  filter list add ele  dbexception dbe  filter list
UpdateNDCodeListAction edu ncsu csc itrust action edu ncsu csc itrust beans medication bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql ndcodes dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate medication bean validator   handles updating the nd code prescription  list used by edit ndcodes jsp the national drug code ndc  is universal product identifier used in the united states drugs intended human use see http www fda gov drugs information on drugs ucm142438 htm author laurenhayward update ndcode list action performer id transaction dao trans dao ndcodes dao nd dao medication bean validator validator medication bean validator    set up defaults param factory the daofactory used to create the daos used in action param performer id the mid of the user updating the nd lists update ndcode list action  daofactory factory performer id  performer id performer id nd dao factory get ndcodes dao  trans dao factory get transaction dao    adds nd code  prescription  to the list param med the nd code to be added status message form validation exception string add ndcode  medication bean med  form validation exception validator validate med   nd dao add ndcode med  trans dao log transaction  transaction type manage  drug  code performer id added nd code med get ndcode   success med get ndcode  med get description  added the database has become corrupt please contact the system administrator assistance dbexception e  print stack trace  get message   i trust exception e  get message    updates the nd code with information from the medication bean param med the medication bean that holds information but the same code status message form validation exception string update information  medication bean med  form validation exception validator validate med  rows update code med   0 rows  error code not found trans dao log transaction  transaction type manage  drug  code performer id updated nd code med get ndcode   success rows row s  updated dbexception e  print stack trace  get message    medication information should already be validated param med dbexception update code  medication bean med  dbexception nd dao update code med 
/auth/patient/viewAccessLog page edu ncsu csc itrust action view my access log action page util list page edu ncsu csc itrust beans transaction bean page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust dao mysql personnel dao page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust dao mysql patient dao page error page auth exception handler jsp page util array list include file global jsp page title trust view my access log include file header jsp session remove attribute  personnel list view my access log action action view my access log action  daofactory get production instance  logged in mid  list transaction bean accesses accesses action get accesses request get parameter  start date request get parameter  end date role equals request get parameter  sort by   catch  form validation exception e  print html page context get out   accesses action get accesses null false  br table table align center tr th href on click javascript sort by  date date th th accessor th th href on click javascript sort by  role role th th description th tr has data list personnel bean personnel list array list personnel bean   index for  transaction bean accesses  personnel bean hcp personnel dao  daofactory get production instance   get personnel t get logged in mid    hcp null  has data tr td get time logged  td td href trust auth view personnel jsp personnel index hcp get full name  td td get role  td td get added info  get transaction type  get code  td tr personnel bean personnel personnel dao prod dao  get personnel t get logged in mid   personnel list add personnel  index if  personal health representative equals t get role   patient bean patient dao  daofactory get production instance   get patient t get logged in mid   tr td get time logged  td td get full name  td td get role  td td get added info  get transaction type  get code  td tr session set attribute  personnel list personnel list  if  has data  tr td colspan align center no data td tr string start date action get start accesses  string end date action get end accesses  if  role equals request get parameter  sort by   start date request get parameter  start date end date request get parameter  end date table br br form action view access log jsp method post input type hidden name sort by value input div align center table table align center tr sub header td start date td td input name start date value start date size input type button value select date onclick display date picker  start date td td end date td td input name end date value end date input type button value select date onclick display date picker  end date td tr table br input type submit name submit value filter records div form script type text javascript function sort by date or role  document get elements by name  sort by value date or role document forms submit click  script include file footer jsp
ReferralManagementAction edu ncsu csc itrust action edu ncsu csc itrust beans referral bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql referral dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception trust exception edu ncsu csc itrust exception dbexception util list   used referring patients to other hcps the call is made in auth hcp hcp consultation jsp referral management action logged in mid transaction dao trans dao referral dao referral dao   validates the patient id param factory the daofactory used to create the daos used in action param logged in mid the mid of the user managing referral param pid string the mid of the patient being referred trust exception referral management action  daofactory factory logged in mid  trust exception referral dao factory get referral dao  logged in mid logged in mid trans dao factory get transaction dao    adds referral bean to the database param the referral bean to be added dbexception send referral  referral bean r  dbexception referral dao add referral r  trans dao log transaction  transaction type send  referral logged in mid    updates an existing referral bean param the current referral bean dbexception update referral  referral bean r  dbexception referral dao edit referral r    gets the referrals the currently logged in mid has sent util list of referral beans mid has sent dbexception list referral bean get referrals sent from me  dbexception referral dao get referrals sent from logged in mid    gets the referrals mid has received util list of the referral beans mid has received dbexception list referral bean get referrals sent to me  dbexception referral dao get referrals sent to logged in mid 
/auth/pha/adverseEventChart page util list page util array list page edu ncsu csc itrust beans adverse event bean page edu ncsu csc itrust action view adverse event action page edu ncsu csc itrust charts adverse events data include file global jsp page title trust adverse event chart include file header jsp instance of view adverse event action view adverse event action action view adverse event action prod dao  retrieve code identifier from url string code string request get parameter  code retrieve list of adverse event beans with code but only ones that have not been removed by the pha list adverse event bean ad events action get unremoved adverse events by code code  get the meaningful descriptive name the prescription or immunization code string name action get name code code   use tag to specify the location of the dataset the chart  jsp use bean id adverse events edu ncsu csc itrust charts adverse events data calls the from the use bean tag and initializes the adverse event list and pres immu name adverse events set adverse events list ad events name   the cewolf chart tage defines attributes related to the chart you wish to generate  cewolf chart id events title adverse events by month type verticalbar xaxislabel month yaxislabel reported adverse events cewolf data cewolf producer id adverse events cewolf data cewolf chart  the cewolf img tag defines the actual chart in your jsp page  cewolf img chartid events renderer charts width height include file footer jsp
Type1DiabetesRisks edu ncsu csc itrust risk util array list util list edu ncsu csc itrust dao daofactory edu ncsu csc itrust enums ethnicity edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception no health records exception edu ncsu csc itrust risk factors childhood infection factor edu ncsu csc itrust risk factors ethnicity factor edu ncsu csc itrust risk factors family history factor edu ncsu csc itrust risk factors patient risk factor   checks to see the given patient is at risk type diabetes details on what each method does see link risk checker author andy type1 diabetes risks risk checker type1 diabetes risks  daofactory factory patient id  dbexception no health records exception super factory patient id  override qualifies disease  patient get age  override list patient risk factor get disease risk factors  list patient risk factor factors array list patient risk factor   factors add new ethnicity factor patient ethnicity caucasian  factors add new family history factor factory patient get mid  0  factors add new childhood infection factor factory patient get mid  30  factors override string get name  type diabetes
UpdateICDCodeListAction edu ncsu csc itrust action edu ncsu csc itrust beans diagnosis bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql icdcodes dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate diagnosis bean validator   handles updating the icd code diagnosis  list used by edit icdcodes jsp the international statistical classification of diseases and related health problems  most commonly known by the abbreviation icd  provides codes to classify diseases and wide variety of signs symptoms abnormal findings complaints social circumstances and external causes of injury or disease see http www cdc gov nchs icd9 htm author laurenhayward update icdcode list action performer id icdcodes dao icd dao transaction dao trans dao diagnosis bean validator validator diagnosis bean validator    set up param factory the daofactory used to create the daos used in action param performer id the mid of the person udpating the icds update icdcode list action  daofactory factory performer id  performer id performer id trans dao factory get transaction dao  icd dao factory get icdcodes dao    adds icd code  diagnosis  based on the diagnosis bean passed as param param diagn the diagnosis icd code  status message form validation exception string add icdcode  diagnosis bean diagn  form validation exception validator validate diagn   icd dao add icdcode diagn  trans dao log transaction  transaction type manage  diagnosis  code performer id added icd code diagn get icdcode   success diagn get icdcode  diagn get description  added the database has become corrupt please contact the system administrator assistance dbexception e  print stack trace  get message   i trust exception e  get message    updates diagnosis with information from the diagnosis bean passed as param param diagn information to update  but same code  status message form validation exception string update information  diagnosis bean diagn  form validation exception validator validate diagn  rows icd dao update code diagn   0 rows  error code not found trans dao log transaction  transaction type manage  diagnosis  code performer id updated icd code diagn get icdcode   success rows row s  updated dbexception e  print stack trace  get message 
SearchUsersAction edu ncsu csc itrust action util list edu ncsu csc itrust beans patient bean edu ncsu csc itrust beans personnel bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust exception dbexception search users action patient dao patient dao personnel dao personnel dao   set up defaults param factory the daofactory used to create the daos used in action param logged in mid the mid of the user who is performing the search search users action  daofactory factory logged in mid  patient dao factory get patient dao  personnel dao factory get personnel dao    searches all personnel with the first name and last name specified in the parameter list param first name the first name to be searched param last name the last name to be searched util list of personnel beans the users who matched list personnel bean search personnel with name  string first name string last name  if  equals first name  first name if  equals last name  last name personnel dao search personnel with name first name last name  dbexception e  system out println  db exception from search users action print stack trace    search all patients with first name and last name given in parameters param first name the first name of the patient being searched param last name the last name of the patient being searched util list of patient beans list patient bean search patients with name  string first name string last name  if  equals first name  first name if  equals last name  last name patient dao search patients with name first name last name  dbexception e  system out println  db exception from search users action print stack trace 
RiskDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql sqlexception util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans family member bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   used finding risk factors given patient dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos author andy risk dao daofactory factory   the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc risk dao  daofactory factory  factory factory   method is implemented using link family dao reasons  a  definitions of family members might change so it better to centralize that code and  2  to make code little bit nicer even though it executes one query per family member method gets slow then you will need to refactor otherwise let just keep it simple param patient id the mid of the patient in question param icd lower of the lower bound the codes param icd upper of the upper bound the codes indicating whether family member had match in range dbexception has family history long patient id icd lower icd upper  dbexception list family member bean family members get family members patient id  family member bean fam member family members   had prior diagnoses fam member get mid  icd lower icd upper  list family member bean get family members long patient id  dbexception family dao fam dao factory get family dao  list family member bean family members fam dao get parents patient id  family members add all fam dao get siblings patient id  family members   returns whether or not patient had childhood infection the exact given icd codes param patient id the mid of the patient in question param icd codes parameter list of the icd codes to match indicating whether patient had all the listed icd codes dbexception had childhood infection long patient id icd codes  dbexception note the datediff call is my sql function that takes the difference between two dates and returns that value in terms of days days is years  not counting leap years  connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from ovdiagnosis ovd office visits ov patients where ovd visit id ov id and ov patientid mid and mid and datediff ov visitdate dateofbirth  and ovd icdcode in create prepared icd codes length  ps set long 1 patient id  set icds 2 ps icd codes  ps execute query  next  query has any rows then yes sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  string create prepared int length  string str  int length str str substring 0 str length  1  set icds int start prepared statement ps icd codes  sqlexception  double icd code icd codes  ps set double start icd code    returns the patient has ever smoked in their life param patient id the mid of the patient in question indicating whether the patient smoked dbexception has smoked long patient id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from personal health information where patient id and smoker ps set long 1 patient id  ps execute query  next  query has any rows then yes sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns patient has ever been diagnosed with the given icd code in the range lower upper  param patient id the mid of the patient in question param lower icdcode of the lower icd code param upper icdcode of the upper icd code indicating whether there was match in the given range dbexception had prior diagnoses long patient id lower icdcode upper icdcode  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from ovdiagnosis ovd office visits ov patients where ovd visit id ov id and ov patientid mid and mid and ovd icdcode and ovd icdcode ps set long 1 patient id  ps set double 2 lower icdcode  ps set double 3 upper icdcode  ps execute query  next  query has any rows then yes sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
iTrustException edu ncsu csc itrust exception   specialized exception displaying trust error messages exception is handled by the trust exception handler trust exception exception serial version uid string message   the typical constructor param message message to be displayed to the screen trust exception  string message  message message   messages which are displayed to the user usually is very general message security reasons override string get message   message null  an error has occurred please see log details message   exceptions which show lot of technical detail usually delegated to subclass string get extended message  no extended information
TransactionType edu ncsu csc itrust enums   all of the possible transaction types in no particular order used in producing the operational profile transaction type enter  edit  demographics 1 enter edit patient personnel demographics declare  hcp 2 view hcp change designation allow  disallow  access 3 allow disallow access to patient diagnosis view  access  log 4 view patient record access log view  records 5 view patient medical records authenticate  user 6 authenticate user enter  edit  phr 7 enter edit personal health information document  office  visit 8 document an office visit create  disable  patient  hcp 9 create or disable patient or hcp manage  diagnosis  code 10 manage icd9 cm diagnosis codes request  biosurveillance 11 request biosurveillance manage  procedure  code 12 manage cpt procedure codes manage  drug  code 13 manage nd drug codes identify  risk  factors 14 identify risk factors chronic diseases cause  of  death 15 examine cause of death trends declare  representative 16 declare personal health representative patient  reminders 17 proactively determine necessary patient care maintain  hospitals 18 maintain hospital listing view  prescription  report 19 view prescription report view  hospital  stats 20 view hospital statistics view  comprehensive  record 21 view comprehensive patient report view  emergency  report 22 view emergency patient report comprehensive  report  request 28 comprehensive patient report view  lab  procedure 29 view lab procedure enter  edit  lab  procedure 30 enter edit lab procedure manage  loinc 31 enter edit loinc code add  patient  survey 32 added patient survey view  hcp  survey  results 33 view hcp survey results view  patient  list 34 view patient list find  hcps  with  exp 35 find lhcps with experience with diagnosis view  health  records 36 view patient health records view  office  visit 37 view office visit add  prescription 38 add prescription update  office  visit 39 update an office visit send  message 40 send message view  renewal  needs  patients 41 view renewal needs patients send  referral 42 refer patient to hcp create  disable  er 43 create disable emergency responder telemedicine  monitoring 45 telemedicine monitoring create  disable  pha 47 create disable health agent drug  interaction 48 drug interaction adverse  event 49 adverse event report login  failure 50 login failure update  appt  type 51 update an appointment type add  appt  type 52 add an appointment type add  appt 53 appointment added send  reminders 54 reminders sent s1 s3 s5 s7 s8 s14 s16 s19 s21 s22 string patient viewable str patient viewable transaction type int code string description  code code description description code string description get code  code string get description  description transaction type parse int code  transaction type type transaction type values    type code code  type illegal argument exception  no transaction type exists code code 
/auth/hcp uap/viewReport taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util list page edu ncsu csc itrust beans report request bean page edu ncsu csc itrust dao mysql personnel dao page edu ncsu csc itrust action view my report requests action page edu ncsu csc itrust action view my records action page edu ncsu csc itrust action view report action page edu ncsu csc itrust beans patient bean page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust beans office visit bean page edu ncsu csc itrust beans health record page edu ncsu csc itrust beans allergy bean page edu ncsu csc itrust beans family member bean page edu ncsu csc itrust beans diagnosis bean page edu ncsu csc itrust beans procedure bean page edu ncsu csc itrust beans prescription bean page edu ncsu csc itrust beans medication bean page text number format page text decimal format page edu ncsu csc itrust localization include file global jsp page title trust comprehensive patient report include file header jsp logged in mid request get user principal  value of request get user principal  get name   personnel dao personnel dao personnel dao prod dao  view my report requests action action view my report requests action prod dao logged in mid value   patient index integer parse int request get parameter  patient   list patient bean patients list patient bean session get attribute  patients session remove attribute  patients string pid string patients get patient index  get mid  string rr string request get parameter  request id patient mid request id report request bean report request  pid string pid string equals   exception  error patient mid is  rr string rr string equals   exception  error request id is patient mid parse long pid string  request id integer parse int rr string  report request action get report request request id  action set viewed request id  report request action get report request request id  view my records action action view my records action prod dao patient mid  view report action view action view report action prod dao logged in mid value   patient bean patient action get patient  list office visit bean office visits action get all office visits  list health record records action get all health records  list allergy bean allergies action get allergies  list patient bean represented action get represented  list patient bean representing action get representing  list family member bean family action get family  list diagnosis bean diagnoses view action get diagnoses patient mid  list procedure bean procedures view action get procedures patient mid  list prescription bean prescriptions view action get prescriptions patient mid  list personnel bean hcps view action get declared hcps patient mid  h3 comprehensive patient report patient get full name  h3 div align center table tr td valign top table table tr th colspan patient information th tr tr td sub header vertical name td td patient get full name  td tr tr td sub header vertical address td td patient get street address1  br equals patient get street address2   patient get street address2  br patient get street address3  br td tr tr td sub header vertical phone td td patient get phone  td tr tr td sub header vertical email td td patient get email  td tr table td td width 15px nbsp td td table table tr th colspan insurance information th tr tr td sub header vertical name id  td td patient get ic name  patient get ic id  td tr tr td sub header vertical address td td patient get ic address1  br equals patient get ic address2   patient get ic address2  br patient get ic address3  br td tr tr td sub header vertical phone td td patient get ic phone  td tr table td tr table br table table tr th colspan health records th tr tr sub header td height td td weight td td smokes td td blood pressure td td hdl td td ldl td td triglycerides td td total cholesterol td td last recorded td td by personnel td tr personnel bean personnel for  health record hr records  personnel personnel dao get personnel hr get personnel id   tr td align center hr get height  in td td align center hr get weight  lbs td td align center hr is smoker  td td align center hr get blood pressure  mm hg td td align center hr get cholesterol hdl  mg td td align center hr get cholesterol ldl  mg td td align center hr get cholesterol tri  mg td td align center hr get total cholesterol  mg td td align center hr get date recorded  td td align center personnel get full name  td tr table br table table tr th colspan diagnoses th tr tr sub header td visit id td td icd code td td description td tr if diagnoses size  0  tr td colspan style text align center no diagnoses on record td tr number format number formatter number format get instance  localization instance  get current locale     decimal format number formatter  set maximum fraction digits 2    decimal format number formatter  set minimum fraction digits 2  for  diagnosis bean diagnosis diagnoses  tr td style text align center diagnosis get ov diagnosis id  td td style text align center number formatter format  parse float diagnosis get icdcode   td td style text align center diagnosis get description  td tr table br table table tr th colspan designated hcps th tr tr sub header td hcp name td tr if hcps size  0  tr td colspan style text align center no designated hcps on record td tr for  personnel bean hcp hcps  tr td style text align center hcp get full name  td tr table br table table tr th colspan allergies th tr tr sub header td allergy description td td first found td tr if allergies size  0  tr td colspan style text align center no allergies on record td tr for  allergy bean allergy allergies  tr td style text align center allergy get description  td td style text align center allergy get first found str  td tr table br table table tr th colspan procedures th tr tr sub header td visit id td td cpt code td td description td tr if procedures size  0  tr td colspan style text align center no procedures on record td tr for  procedure bean procedure procedures  tr td style text align center procedure get ov procedure id  td td style text align center procedure get cptcode  td td style text align center procedure get description  td tr table br table table tr th colspan prescriptions th tr tr sub header th visit id th th ndcode th th start date th th end date th th dosage th th instructions th tr if prescriptions size  0  tr td colspan style text align center no prescriptions on record td tr for  prescription bean prescription prescriptions  tr td style text align center prescription get visit id  td td style text align center prescription get medication  get ndcode  td td style text align center prescription get start date str  td td style text align center prescription get end date str  td td style text align center prescription get dosage  td td style text align center prescription get instructions  td tr table br table table tr th colspan office visits th tr tr sub header th visit date th th hcp th th hospital id th th notes th tr if office visits size  0  tr td colspan style text align center no office visits on record td tr for  office visit bean ov office visits  personnel personnel dao get personnel ov get hcp id   tr td style text align center ov get visit date str  td td style text align center personnel get full name  td td style text align center ov get hospital id  td td style text align center ov get notes  td tr table br table table tr th colspan known relatives th tr tr sub header th name th th relation th tr if family size  0  tr td colspan style text align center no relations on record td tr for  family member bean member family  tr td member get full name  td td member get relation  td tr table br table table tr th patients patient get first name  is representing th tr tr sub header th patient th tr if represented size  0  tr td patient get first name  is not representing any patients td tr for  patient bean represented  tr td align center get full name  td tr table br table table tr th patients representing patient get first name  th tr tr sub header th patient th tr if representing size  0  tr td patient get first name  is not represented by any patients td tr for  patient bean representing  tr td align center get full name  td tr table br br exception ex  ex get class  ex get cause  ex get message  include file footer jsp
/auth/uap/getPatientMonitorList taglib uri web inf tags tld prefix itrust page error page auth exception handler jsp page util array list page util list page edu ncsu csc itrust beans remote monitoring data bean page edu ncsu csc itrust action view my remote monitoring list action include file global jsp page title trust view monitored patients include file header jsp view my remote monitoring list action action view my remote monitoring list action prod dao logged in mid value   list remote monitoring data bean data action get patient data without logging  br form action get patient monitor list jsp method post name myform table table align center tr th colspan patients th tr tr sub header th patient th tr list patients array list   index remote monitoring data bean bean data  patients contains bean get patient mid   patients add bean get patient mid   tr td href add telemedicine data jsp patient index action get patient name bean get patient mid   td tr index session set attribute  patients patients  table form br br include file footer jsp
HospitalsDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans hospital bean edu ncsu csc itrust beans loaders hospital bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception   used managing hospitals dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos author andy hospitals dao daofactory factory hospital bean loader hospital loader hospital bean loader    the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc hospitals dao  daofactory factory  factory factory   returns list of all hospitals sorted alphabetically util list of hospital beans dbexception list hospital bean get all hospitals  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from hospitals order by hospital name result set rs ps execute query  hospital loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns particular hospital given its id param id the string id of the hospital hospital bean representing hospital dbexception hospital bean get hospital  string id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from hospitals where hospital id ps set string 1 id  result set rs ps execute query   rs next   hospital loader load single rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    adds hospital param hosp the hospital bean object to insert indicating whether the insertion was successful dbexception trust exception add hospital  hospital bean hosp  dbexception trust exception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into hospitals hospital id hospital name  values ps set string 1 hosp get hospital id   ps set string 2 hosp get hospital name    1 ps execute update   sqlexception e  print stack trace   1062 get error code   trust exception  error hospital already exists dbexception e  dbutil close connection conn ps    updates particular hospital description returns the number of rows affected  should be 1  param hosp the hospital bean to update an indicating the number of affected rows dbexception update hospital  hospital bean hosp  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  update hospitals set hospital name where hospital id ps set string 1 hosp get hospital name   ps set string 2 hosp get hospital id   ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    assign an hcp to hospital they have already been assigned to that hospital then an trust exception is thrown param hcp id the hcp mid to assign to the hospital param hospital id the id of the hospital to assign them to indicating whether the assignment was success dbexception trust exception assign hospital long hcp id string hospital id  dbexception trust exception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into hcpassigned hos hcpid hos id  values ps set long 1 hcp id  ps set string 2 hospital id   1 ps execute update   sqlexception e   1062 get error code   trust exception  hcp hcp id already assigned to hospital hospital id  print stack trace  dbexception e  dbutil close connection conn ps    unassigns an hcp to hospital returns whether or not any changes were made param hcp id the mid of the hcp to remove param hospital id the id of the hospital being removed from indicating success dbexception remove hospital assignment long hcp id string hospital id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  delete from hcpassigned hos where hcpid and hos id ps set long 1 hcp id  ps set string 2 hospital id   1 ps execute update   sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    removes all hospital assignments particular hcp returns the number of rows affected param hcp id the mid of the hcp an representing the number of hospital assignments removed dbexception remove all hospital assignments from long hcp id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  delete from hcpassigned hos where hcpid ps set long 1 hcp id  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
ViewAdverseEventAction edu ncsu csc itrust action sql sqlexception util list edu ncsu csc itrust beans adverse event bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql adverse event dao edu ncsu csc itrust exception dbexception view adverse event action adverse event dao ad event dao view adverse event action  daofactory factory  ad event dao factory get adverse event dao  adverse event bean get adverse event int id  dbexception ad event dao get report id  list adverse event bean get unremoved adverse events by code  string code  dbexception ad event dao get unremoved adverse events by code code  string get name code  string code  dbexception ad event dao get name code code 
TransactionBean edu ncsu csc itrust beans sql timestamp edu ncsu csc itrust enums transaction type   bean storing data about transaction that occurred within trust bean purpose is to store data period little or no functionality is to be added to bean  with the exception of minor formatting such as concatenating phone numbers together  bean must only have getters and setters eclipse hint use source generate getters and setters to create these easily  transaction bean transaction id logged in mid secondary mid transaction type transaction type timestamp time logged string added info string role string get role  role set role  string role  role role string get added info  added info set added info  string added info  added info added info get logged in mid  logged in mid set logged in mid long logged in mid  logged in mid logged in mid get secondary mid  secondary mid set secondary mid long secondary mid  secondary mid secondary mid timestamp get time logged  time logged set time logged  timestamp time logged  time logged time logged transaction type get transaction type  transaction type set transaction type  transaction type tranaction type  transaction type tranaction type get transaction id  transaction id set transaction id long transaction id  transaction id transaction id
AddPersonnelValidator edu ncsu csc itrust validate edu ncsu csc itrust action add patient action edu ncsu csc itrust beans personnel bean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception   the validator used by link add patient action only checks first name last name and email author andy add personnel validator bean validator personnel bean   the constructor add personnel validator    performs the act of validating the bean in question which varies depending on the type of validator the validation does not succeed link form validation exception is thrown param bean of the type to be validated override validate  personnel bean p  form validation exception error list error list error list  error list add not null check format  first name get first name  validation format name false  error list add not null check format  last name get last name  validation format name false  error list add not null check format  email get email  validation format email false   error list has errors   form validation exception error list 
AdverseEventDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception text parse exception text simple date format util date util list edu ncsu csc itrust dbutil edu ncsu csc itrust beans adverse event bean edu ncsu csc itrust beans loaders adverse event bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception sql timestamp   used the logging mechanism dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos author andy adverse event dao daofactory factory adverse event bean loader ae loader   the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc adverse event dao  daofactory factory  factory factory ae loader adverse event bean loader    gets all the adverse event reports certain user mid param mid the mid of the user to be looked up util list of adverse event beans sqlexception dbexception list adverse event bean get reports for long mid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from adverse events where patient mid ps set long 1 mid  result set rs ps execute query  list adverse event bean ae list ae loader load list rs  ae list catch  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    adds message to the database param bean bean representing the message to be added sqlexception dbexception add report  adverse event bean ae bean hcpmid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into adverse events patient mid pres immu code comment prescriber status  values ps set string 1 ae bean get mid   ps set string 2 ae bean get drug   ps set string 3 ae bean get code   ps set string 4 ae bean get description   ps set long 5 hcpmid  ps set string 6 active ps execute update  catch  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  get hcpmid int id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from adverse events where id ps set int 1 id  result set rs ps execute query  hcp mid if rs next   hcp mid rs get long  prescriber hcp mid catch  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  adverse event bean get report int id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from adverse events where id ps set int 1 id  result set rs ps execute query  list adverse event bean ae list ae loader load list rs  ae list get 0  catch  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  remove report int id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  update adverse events set status where id string removed removed ps set string 1 removed  ps set int 2 id  ps execute update  dbutil get last insert conn  catch  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  list adverse event bean get unremoved adverse events by code  string code  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from adverseevents where code and status ps set string 1 code  ps set string 2 active result set rs rs ps execute query  ae loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  string get name code  string code  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select pres immu from adverseevents where code ps set string 1 code  result set rs rs ps execute query  if rs next   rs get string  pres immu name not found sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  list adverse event bean get perscriptions  string start string end  parse exception dbexception connection conn prepared statement ps simple date format fmt simple date format  mm dd yyy date beginning fmt parse start  date ending fmt parse end  conn factory get connection  and ndcodes code adverse events code ps conn prepare statement  select from adverse events ndcodes where adverse events time logged and adverse events time logged and ndcodes code adverse events code order by adverse events code adverse events time logged desc ps set timestamp 1 timestamp beginning get time   ps set timestamp 2 timestamp ending get time  l  result set rs ps execute query  list adverse event bean ae list ae loader load list rs  ae list catch  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  list adverse event bean get immunizations  string start string end  parse exception dbexception connection conn prepared statement ps simple date format fmt simple date format  mm dd yyy date beginning fmt parse start  date ending fmt parse end  conn factory get connection  and ndcodes code adverse events code ps conn prepare statement  select from adverse events cptcodes where adverse events time logged and adverse events time logged and cptcodes code adverse events code order by adverse events code adverse events time logged desc ps set timestamp 1 timestamp beginning get time   ps set timestamp 2 timestamp ending get time  l  result set rs ps execute query  list adverse event bean ae list ae loader load list rs  ae list catch  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
ViewMyMessagesAction edu ncsu csc itrust action sql sqlexception text date format text parse exception text simple date format util array list util calendar util date util list edu ncsu csc itrust beans message bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql message dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception   action view my messages jsp view my messages action logged in mid patient dao patient dao personnel dao personnel dao message dao message dao   set up defaults param factory the daofactory used to create the daos used in action param logged in mid the mid of the user who is viewing their messages view my messages action  daofactory factory logged in mid  logged in mid logged in mid patient dao factory get patient dao  personnel dao factory get personnel dao  message dao factory get message dao    gets all the messages the logged in user list of all the user messages sqlexception list message bean get all my messages  sqlexception message dao get messages for logged in mid    gets all the messages the logged in user and sorts by ascending time list of all the user messages sqlexception list message bean get all my messages time ascending  sqlexception message dao get messages time ascending logged in mid    gets all the messages the logged in user and sorts names in ascending order list of all the user messages sqlexception list message bean get all my messages name ascending  sqlexception message dao get messages name ascending logged in mid    gets all the messages the logged in user and sorts name in descending order list of all the user messages sqlexception list message bean get all my messages name descending  sqlexception message dao get messages name descending logged in mid    gets all the sent messages the logged in user list of all the user sent messages sqlexception list message bean get all my sent messages  sqlexception message dao get messages from logged in mid    gets all the messages the logged in user and sorts by ascending time list of all the user messages sqlexception list message bean get all my sent messages time ascending  sqlexception message dao get messages from time ascending logged in mid    gets all the messages the logged in user and sorts names in ascending order list of all the user messages sqlexception list message bean get all my sent messages name ascending  sqlexception message dao get messages from name ascending logged in mid    gets all the messages the logged in user and sorts name in descending order list of all the user messages sqlexception list message bean get all my sent messages name descending  sqlexception message dao get messages from name descending logged in mid  string validate and create filter  string filter  string filter split   1  date format format simple date format  mm dd yyyy date date en if  equals   format parse f if  equals   en format parse f if s en en before s  error the end date cannot be before the start date catch  exception e  error date was not formatted correctly please enter dates as mm dd yyyy for int length replace  replace  replace  string nf nf   gets list of messages user based on their filter criteria param messages list of all of user message beans param filter string containing user filter criteria list of message beans that meet the criteria of the filter trust exception parse exception list message bean filter messages  list message bean messages string filter  trust exception parse exception list message bean filtered array list message bean   string filter split   1  for  message bean messages    check the sender filter field exclude message bean does not match the requested sender one is specified if  equals   if  get name m get from   equals ignore case f     check the subject filter field exclude message bean does not match the requested subject one is specified if  equals   if  get subject  equals ignore case f     check the body of the message certain words exclude message bean it does not contain those words in the message body if  equals   if  get subject  to lower case  contains f to lower case   get body  to lower case  contains f to lower case     check the body of the message certain words exclude message bean it does contain those words in the message body if  equals   if m get subject  to lower case  contains f to lower case   get body  to lower case  contains f to lower case     check the start date filter field exclude message bean was not sent after date if  equals   date format format simple date format  mm dd yyyy date format parse f if s after m get sent date     check the end date filter field exclude message bean was not sent before date if  equals   date format format simple date format  mm dd yyyy date format parse f calendar calendar get instance  set time s  add  calendar day  of  month 1  get time  if s before m get sent date     the message has not been eliminated by any of the filter fields add it to the list of messages filtered add m  filtered   gets patient name from their mid param mid the mid of the patient the patient name trust exception string get name long mid  trust exception if mid l  patient dao get name mid  personnel dao get name mid    gets personnel name from their mid param mid the mid of the personnel the personnel name trust exception string get personnel name long mid  trust exception personnel dao get name mid    set the state of the message bean to read after it is read by user param bean message bean to be read set read  message bean bean  message dao update read m bean  dbexception e  todo auto generated block print stack trace 
EditPHRAction edu ncsu csc itrust action util array list util list edu ncsu csc itrust email util edu ncsu csc itrust action base patient base action edu ncsu csc itrust beans personnel bean edu ncsu csc itrust beans allergy bean edu ncsu csc itrust beans diagnosis bean edu ncsu csc itrust beans email edu ncsu csc itrust beans family member bean edu ncsu csc itrust beans health record edu ncsu csc itrust beans office visit bean edu ncsu csc itrust beans patient bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql allergy dao edu ncsu csc itrust dao mysql family dao edu ncsu csc itrust dao mysql health records dao edu ncsu csc itrust dao mysql icdcodes dao edu ncsu csc itrust dao mysql office visit dao edu ncsu csc itrust dao mysql patient dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust dao mysql personnel dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception no health records exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust risk chronic disease mediator edu ncsu csc itrust risk risk checker edu ncsu csc itrust validate allergy bean validator   edits the patient health record given patient used by edit phr jsp author laurenhayward edit phraction patient base action daofactory factory patient dao patient dao allergy dao allergy dao family dao family dao health records dao hr dao office visit dao ov dao transaction dao trans dao icdcodes dao icd dao logged in mid chronic disease mediator disease mediator personnel dao personnel dao personnel bean hcpuap patient bean patient email util emailutil   validates the patient id param factory the daofactory to be used in creating daos action param logged in mid the mid of the currently logged in user who is authorizing action param pid string the mid of the patient whose personal health records are being added trust exception dbexception no health records exception edit phraction  daofactory factory logged in mid string pid string  trust exception dbexception super factory pid string  patient dao factory get patient dao  allergy dao factory get allergy dao  family dao factory get family dao  hr dao factory get health records dao  ov dao factory get office visit dao  trans dao factory get transaction dao  icd dao factory get icdcodes dao  logged in mid logged in mid personnel dao factory get personnel dao  hcpuap personnel dao get personnel logged in mid  patient patient dao get patient pid  emailutil email util factory  factory factory   adds an allergy to the patient records param pid param description allergy added exception message list of invalid fields or  only description is null  trust exception string update allergies long pid string description  trust exception emailutil send email make email    description description equals   allergy bean bean allergy bean  bean set description description  allergy bean validator abv allergy bean validator  abv validate bean  allergy dao add allergy pid description  trans dao log transaction  transaction type enter  edit  phr logged in mid pid edit phr added allergy description  allergy added form validation exception e2  span error error invalid fields e2 get error list  span   returns patient bean the patient patient bean trust exception patient bean get patient  trust exception trans dao log transaction  transaction type view  records logged in mid pid edit phr view patient record patient dao get patient pid    returns list of allergy beans the patient list of allergy beans trust exception list allergy bean get allergies  trust exception allergy dao get allergies pid    returns list of family member beans the patient list of family member beans trust exception list family member bean get family  trust exception list family member bean fam array list family member bean   list family member bean parents parents family dao get parents pid  fam add all parents  fam add all family dao get siblings pid  fam add all family dao get children pid  if parents null  list family member bean grandparents array list family member bean   for  family member bean parent parents  grandparents add all family dao get parents parent get mid   fam add all grandparents  for  family member bean gp grandparents  gp set relation  grandparent trans dao log transaction  transaction type view  records logged in mid pid edit phr view patient family information fam   returns list of health records the patient trust exception list health record get all health records  trust exception list health record all health records hr dao get all health records pid  trans dao log transaction  transaction type view  health  records logged in mid pid edit phr viewed patient records all health records   returns list of office visit beans trust exception list office visit bean get all office visits  trust exception trans dao log transaction  transaction type view  office  visit logged in mid pid edit phr view patient office visits ov dao get all office visits pid    returns complete office visit bean given visit id trust exception office visit bean get complete office visit long visit id  trust exception ov dao get office visit visit id    returns list of diseases which the patient is at risk list of risk checkers trust exception dbexception list risk checker get diseases at risk  no health records exception trust exception dbexception disease mediator chronic disease mediator factory pid  trans dao log transaction  transaction type identify  risk  factors logged in mid pid check risk factors disease mediator get disease at risk    checks to see particular family member has high blood pressure param member the family member to check the family member has high blood pressure there are no records or the family member does not have high blood pressure trust exception does family member have high bp  family member bean member  trust exception list health record records hr dao get all health records member get mid   if records size  0  for  health record record records  if record get blood pressure systolic  record get blood pressure diastolic    checks to see particular family member has high cholesterol param member the family member to check the family member has high cholesterol there are no records or the family member does not trust exception does family member have high cholesterol  family member bean member  trust exception list health record records hr dao get all health records member get mid   if records size  0  for  health record record records  if record get cholesterol hdl  record get cholesterol ldl    checks to see particular family member has diabetes param member the family member to check the family member has diabetes there are no records or the family member does not trust exception does family member have diabetes  family member bean member  trust exception list diagnosis bean diagnoses patient dao get diagnoses member get mid   if diagnoses size  0  for  diagnosis bean diag diagnoses  if diag get icdcode  starts with     checks to see particular family member has cancer param member the family member to check the family member has cancer there are no records or the family member does not trust exception does family member have cancer  family member bean member  trust exception list diagnosis bean diagnoses patient dao get diagnoses member get mid   if diagnoses size  0  for  diagnosis bean diag diagnoses  if diag get icdcode  starts with     checks to see particular family member has heart disease param member the family member to check the family member has heart disease there are no records or the family member does not trust exception does family member have heart disease  family member bean member  trust exception list diagnosis bean diagnoses patient dao get diagnoses member get mid   if diagnoses size  0  for  diagnosis bean diag diagnoses  if diag get icdcode  starts with     checks to see particular family member smokes param member the family member to check the family member smokes there are no records or the family member does not trust exception is family member smoker  family member bean member  trust exception list health record records hr dao get all health records member get mid   if records size  0  for  health record record records  if record is smoker     checks to see the family member is dead and returns their cause of death so param member the family member to check the cause of death there is one otherwise trust exception string get family member cod  family member bean member  trust exception patient bean patient patient dao get patient member get mid   if patient get cause of death  null  diagnosis bean diag icd dao get icdcode patient get cause of death   if diag null  diag get description    creates fake e mail to notify the user that their records have been altered the e mail to be sent dbexception email make email  dbexception email email email  list patient bean reps patient dao get representing patient get mid   list string to addrs array list string   to addrs add patient get email   patient bean reps  to addrs add r get email   email set from  no reply itrust com email set to list to addrs  patient and personal representative email set subject  string format  your medical records have been altered   email set body  health care professional hcpuap get full name  has altered your medical records she is not on your list of designated health care professionals email
PatientLoader edu ncsu csc itrust beans loaders sql date sql prepared statement sql result set sql sqlexception text parse exception text simple date format util array list util list edu ncsu csc itrust beans patient bean   loader patient beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader patient loader bean loader patient bean list patient bean load list  result set rs  sqlexception list patient bean list array list patient bean    rs next   list add load single rs  list patient bean load single  result set rs  sqlexception patient bean patient bean  set mid rs get int  mid   set first name rs get string  first name   set last name rs get string  last name   date date of birth rs get date  date of birth  date of birth null  set date of birth str new simple date format  mm dd yyyy format date of birth  date date of death rs get date  date of death  date of death null  set date of death str new simple date format  mm dd yyyy format date of death  set cause of death rs get string  cause of death   set email rs get string  email   set street address1 rs get string  address1   set street address2 rs get string  address2   set city rs get string  city   set state rs get string  state   set zip1 rs get string  zip1   set zip2 rs get string  zip2   set phone1 rs get string  phone1   set phone2 rs get string  phone2   set phone3 rs get string  phone3   set emergency name rs get string  name   set emergency phone1 rs get string  phone1   set emergency phone2 rs get string  phone2   set emergency phone3 rs get string  phone3   set ic name rs get string  ic name   set ic address1 rs get string  ic address1   set ic address2 rs get string  ic address2   set ic city rs get string  ic city   set ic state rs get string  ic state   set ic zip1 rs get string  ic zip1   set ic zip2 rs get string  ic zip2   set ic phone1 rs get string  ic phone1   set ic phone2 rs get string  ic phone2   set ic phone3 rs get string  ic phone3   set ic id rs get string  ic id   set mother mid rs get string  mother mid   set father mid rs get string  father mid   set blood type str rs get string  blood type   set ethnicity str rs get string  ethnicity   set gender str rs get string  gender   set topical notes rs get string  topical notes   set credit card type rs get string  credit card type   set credit card number rs get string  credit card number   set message filter rs get string  message filter   prepared statement load parameters  prepared statement ps patient bean p  sqlexception ps set string i get first name   ps set string i get last name   ps set string i get email   ps set string i get security question   ps set string i get security answer   ps set string i get street address1   ps set string i get street address2   ps set string i get city   ps set string i get state   ps set string i get zip1   ps set string i get zip2   ps set string i get phone1   ps set string i get phone2   ps set string i get phone3   ps set string i get emergency name   ps set string i get emergency phone1   ps set string i get emergency phone2   ps set string i get emergency phone3   ps set string i get ic name   ps set string i get ic address1   ps set string i get ic address2   ps set string i get ic city   ps set string i get ic state   ps set string i get ic zip1   ps set string i get ic zip2   ps set string i get ic phone1   ps set string i get ic phone2   ps set string i get ic phone3   ps set string i get ic id   date date date sql date new simple date format  mm dd yyyy parse p get date of birth str   get time   parse exception e  print stack trace  ps set date i date  date date sql date new simple date format  mm dd yyyy parse p get date of death str   get time   parse exception e  equals p get date of death str   date print stack trace  ps set date i date  ps set string i get cause of death   ps set string i get mother mid   ps set string i get father mid   ps set string i get blood type  get name   ps set string i get ethnicity  get name   ps set string i get gender  get name   ps set string i get topical notes   ps set string i get credit card type   ps set string i get credit card number   ps set string i get message filter   ps
UpdateCPTCodeListAction edu ncsu csc itrust action edu ncsu csc itrust beans procedure bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql cptcodes dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate procedure bean validator   updates the cpt code medical procedures  list used by edit cptprocedure codes jsp the cpt code set accurately describes medical surgical and diagnostic services and is designed to communicate uniform information about medical services and procedures among physicians coders patients accreditation organizations and payers administrative financial and analytical purposes see http www ama assn org ama pub physician resources solutions managing your practice coding billing insurance cpt about cpt shtml author laurenhayward update cptcode list action logged in mid transaction dao trans dao cptcodes dao cpt dao procedure bean validator validator procedure bean validator    param factory the daofactory used to create the daos used in action param logged in mid the mid of the administrator who is updating the cpts update cptcode list action  daofactory factory logged in mid  logged in mid logged in mid trans dao factory get transaction dao  cpt dao factory get cptcodes dao    adds cpt code  med procedure  param proc procedure bean that holds the cpt code status message form validation exception string add cptcode  procedure bean proc  form validation exception validator validate proc   cpt dao add cptcode proc  trans dao log transaction  transaction type manage  procedure  code logged in mid added cpt code proc get cptcode   success proc get cptcode  proc get description  added the database has become corrupt please contact the system administrator assistance dbexception e  print stack trace  get message   i trust exception e  get message    updates procedure with information from the procedure bean param proc procedure bean with information  but same cpt code  status message form validation exception string update information  procedure bean proc  form validation exception validator validate proc  rows update code proc   0 rows  error code not found to edit an actual code change the description and add code with the old description trans dao log transaction  transaction type manage  procedure  code logged in mid updated cpt code proc get cptcode   success rows row s  updated dbexception e  print stack trace  get message    updates the cpt code param proc the code to be updated updated code dbexception update code  procedure bean proc  dbexception cpt dao update code proc 
ApptTypeBeanValidator edu ncsu csc itrust validate edu ncsu csc itrust beans appt type bean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception appt type bean validator bean validator appt type bean override validate  appt type bean a  form validation exception error list error list error list  error list add not null check format  appointment type name get name  validation format appt  type  name false  error list add not null check format  appointment type duration get duration  validation format appt  type  duration false   error list has errors   form validation exception error list 
AddRemoteMonitoringDataAction edu ncsu csc itrust action edu ncsu csc itrust beans remote monitoring data bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql auth dao edu ncsu csc itrust dao mysql remote monitoring dao edu ncsu csc itrust dao mysql transaction dao edu ncsu csc itrust enums transaction type edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception form validation exception edu ncsu csc itrust exception trust exception edu ncsu csc itrust validate remote monitoring data bean validator   handles adding remote monitoring patient data to the database add remote monitoring data action remote monitoring data bean validator validator remote monitoring data bean validator  remote monitoring dao rm dao transaction dao trans dao auth dao auth dao logged in mid patient mid   constructor param factory the daofactory used to create the daos used in action param logged in mid the mid of the person recording the patient data param patient mid the mid of the patient add remote monitoring data action  daofactory factory logged in mid patient mid  logged in mid logged in mid rm dao factory get remote monitoring dao  trans dao factory get transaction dao  auth dao factory get auth dao  patient mid patient mid   adds patients remote monitoring data to the database param glucose level dbexception add remote monitoring data int glucose level  dbexception form validation exception trust exception validation only need to validate the three integer parameters remote monitoring data bean remote monitoring data bean  set glucose level glucose level  set diastolic blood pressure 60  set systolic blood pressure 60  validator validate m  set diastolic blood pressure  1  set systolic blood pressure  1  log transaction trans dao log transaction  transaction type telemedicine  monitoring logged in mid  string role  logged in mid patient mid  role self reported  auth dao get user role logged in mid  get user roles string  equals  uap   role case manager role patient representative store in db rm dao store patient data patient mid glucose level role logged in mid    adds patients remote monitoring data to the database param systolic blood pressure param diastolic blood pressure dbexception add remote monitoring data int systolic blood pressure diastolic blood pressure  dbexception form validation exception trust exception validation only need to validate the three integer parameters remote monitoring data bean remote monitoring data bean  set systolic blood pressure systolic blood pressure  set diastolic blood pressure diastolic blood pressure  validator validate m  log transaction trans dao log transaction  transaction type telemedicine  monitoring logged in mid  string role  logged in mid patient mid  role self reported  auth dao get user role logged in mid  get user roles string  equals  uap   role case manager role patient representative store in db rm dao store patient data patient mid systolic blood pressure diastolic blood pressure role logged in mid    adds patients remote monitoring data to the database param systolic blood pressure param diastolic blood pressure param glucose level dbexception add remote monitoring data int systolic blood pressure diastolic blood pressure glucose level  dbexception form validation exception trust exception validation only need to validate the three integer parameters remote monitoring data bean remote monitoring data bean  set systolic blood pressure systolic blood pressure  set diastolic blood pressure diastolic blood pressure  set glucose level glucose level  validator validate m  log transaction trans dao log transaction  transaction type telemedicine  monitoring logged in mid  string role  logged in mid patient mid  role self reported  auth dao get user role logged in mid  get user roles string  equals  uap   role case manager role patient representative store in db rm dao store patient data patient mid systolic blood pressure diastolic blood pressure glucose level role logged in mid    returns the patient name patient name dbexception trust exception string get patient name long pid  dbexception trust exception auth dao get user name pid 
OfficeVisitDAO edu ncsu csc itrust dao mysql sql connection sql prepared statement sql result set sql sqlexception text simple date format util date util list util array list edu ncsu csc itrust dbutil edu ncsu csc itrust beans diagnosis bean edu ncsu csc itrust beans lab procedure bean edu ncsu csc itrust beans office visit bean edu ncsu csc itrust beans prescription bean edu ncsu csc itrust beans prescription report bean edu ncsu csc itrust beans procedure bean edu ncsu csc itrust beans loaders diagnosis bean loader edu ncsu csc itrust beans loaders office visit loader edu ncsu csc itrust beans loaders prescription bean loader edu ncsu csc itrust beans loaders prescription report bean loader edu ncsu csc itrust beans loaders procedure bean loader edu ncsu csc itrust dao daofactory edu ncsu csc itrust exception dbexception   used doing tasks related to office visits use linking diagnoses to office visits and similar tasks dao stands database access object all daos are intended to be reflections of the database that is one dao per table in the database  most of the time  more complex sets of queries extra daos are added daos can assume that all data has been validated and is correct daos should never have setters or any other parameter to the constructor than factory all daos should be accessed by daofactory see link daofactory and every dao should have factory obtaining jdbc connections and or accessing other daos author andy office visit dao daofactory factory office visit loader office visit loader office visit loader  diagnosis bean loader diagnosis loader diagnosis bean loader true  prescription bean loader prescription loader prescription bean loader  prescription report bean loader prescription report bean loader prescription report bean loader  procedure bean loader procedure bean loader procedure bean loader true    the typical constructor param factory the link daofactory associated with dao which is used obtaining sql connections etc office visit dao  daofactory factory  factory factory   adds an visit and its id param ov the office visit bean to be added indicating the unique id the office visit dbexception add  office visit bean ov  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into office visits visit date notes hcpid patient id hospital id  values set values ps ov  ps execute update  dbutil get last insert conn  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  set values  prepared statement ps office visit bean ov  sqlexception ps set date 1 sql date ov get visit date  get time   ps set string 2 ov get notes   ps set long 3 ov get hcp id   ps set long 4 ov get patient id   ps set string 5 ov get hospital id     updates the information in particular office visit param ov the office visit bean representing the changes dbexception update  office visit bean ov  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  update office visits set visit date notes hcpid patient id hospital id where id set values ps ov  ps set long 6 ov get id   ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns particular office visit given an id param visit id the unique id of the office visit an office visit bean with the specifics that office visit dbexception office visit bean get office visit long visit id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from office visits where id ps set long 1 visit id  result set rs ps execute query   rs next   load full office vist rs visit id  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  office visit bean load full office vist  result set rs visit id  sqlexception dbexception office visit bean ov office visit bean visit id  ov set visit date str new simple date format  mm dd yyyy format new date rs get date  visit date get time   ov set hcp id rs get long  hcpid   ov set notes rs get string  notes   ov set patient id rs get long  patient id   ov set hospital id rs get string  hospital id   ov set diagnoses get diagnoses visit id  ov set prescriptions get prescriptions visit id  ov set procedures get procedures visit id  ov   returns all of the procedures associated with the given office visit param visit id the unique id of the office visit util list of procedures dbexception list procedure bean get procedures long visit id  dbexception connection conn prepared statement ps list procedure bean procs conn factory get connection  ps conn prepare statement  select from ovprocedure ovp officevisits ov cptcodes cpt where ov id and ovp visitid and cpt code ovp cptcode ps set long 1 visit id  ps set long 2 visit id  result set rs ps execute query  procs procedure bean loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  procs   returns all of the prescriptions associated with the given office visit param visit id the id of the office visit util list of prescriptions dbexception list prescription bean get prescriptions long visit id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from ovmedication ndcodes where ovmedication visit id and ndcodes code ovmedication ndcode ps set long 1 visit id  result set rs ps execute query  prescription loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns all of the diagnoses associated with the given office visit param visit id the unique id of the office visit util list of diagnoses dbexception list diagnosis bean get diagnoses long visit id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from ovdiagnosis icdcodes where ovdiagnosis visit id and icdcodes code ovdiagnosis icdcode ps set long 1 visit id  result set rs ps execute query  diagnosis loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    adds the given cpt codes to the given office visit param cpt code param visit id dbexception add procedure to office visit string cpt code visit id string hcpid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into ovprocedure cptcode visit id hcpid  values ps set string 1 cpt code  ps set long 2 visit id  ps set string 3 hcpid  ps execute update  dbutil get last insert conn  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    removes the given procedure from its office visit param ov procedure id the unique id of the office visit procedure dbexception remove procedure from office visit long ov procedure id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  delete from ovprocedure where id ps set long 1 ov procedure id  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    adds prescription bean to the database param pres the prescription bean to be added the unique id of the newly added bean dbexception add prescription  prescription bean pres  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into ovmedication visit id ndcode start date end date dosage instructions  values prescription loader load parameters ps pres  ps execute update  dbutil get last insert conn  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    edits an existing prescription bean param pres the newly updated prescription bean indicating the id of the newly updated prescription bean dbexception edit prescription  prescription bean pres  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  update ovmedication visit id ndcode start date end date dosage instructions  values string statement update ovmedication set visit id ndcode start date end date dosage instructions where id ps conn prepare statement statement  prescription loader load parameters ps pres  ps set long 7 pres get id   ps execute update  dbutil get last insert conn  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    removes the given medication from its office visit param ov medication id the unique id of the medication to be removed dbexception remove prescription long ov medication id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  delete from ovmedication where id ps set long 1 ov medication id  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    adds the given cpt codes to the given office visit param icd representing the icd code to be added param visit id the id of the office visit we are adding the code to the icd code id dbexception add diagnosis to office visit double icd visit id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into ovdiagnosis icdcode visit id  values ps set double 1 icd  ps set long 2 visit id  ps execute update  dbutil get last insert conn  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    removes particular diagnosis from its office visit param ov diagnosis id the id the office visit diagnosis to be removed dbexception remove diagnosis from office visit long ov diagnosis id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  delete from ovdiagnosis where id ps set long 1 ov diagnosis id  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    adds loinccode to an office visit param loinccode string of the code being added param visit id the id of the office visit the code is being added to param pid the patient mid associated with transaction the unique id of the code that was added dbexception add lab procedure to office visit  string loinccode visit id pid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  insert into lab procedure laboratory procedure code office visit id commentary results patient mid status rights  values ps set string 1 loinccode  ps set long 2 visit id  ps set string 3 ps set string 4 ps set long 5 pid  ps set string 6 lab procedure bean not  received  ps set string 7 allowed ps execute update  dbutil get last insert conn  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    removes given lab procedure param lab procedure id the unique id of the lab procedure dbexception remove lab procedure from office visit long lab procedure id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  delete from lab procedure where laboratory procedure id ps set long 1 lab procedure id  ps execute update  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns whether or not an office visit actually exists param ov id the id of the office visit to be checked param pid the mid of the patient associated with transaction indicating its existence dbexception check office visit exists long ov id pid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from office visits where id and patient id ps set long 1 ov id  ps set long 2 pid  result set rs ps execute query  rs next  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns list of all office visits given patient param pid the mid of the patient in question util list of office visit beans dbexception list office visit bean get all office visits long pid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from office visits where patient id order by visit date desc ps set long 1 pid  result set rs ps execute query  office visit loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns list of all office visits given patient param mid the mid of the lhcp you are looking up util list of office visits dbexception list office visit bean get all office visits lhcp long mid  dbexception connection conn prepared statement ps  mid l  sqlexception  hcpid cannot be conn factory get connection  ps conn prepare statement  select from office visits where hcpid order by visit date desc ps set long 1 mid  result set rs ps execute query  office visit loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns list of all office visits given patient param pid the mid of the patient util list of office visits dbexception list office visit bean get office visits with no survey long pid  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from office visits where id not in  select visitid from ovsurvey  and patient id order by visit date desc ps set long 1 pid  result set rs ps execute query  office visit loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns list of information related to prescription reports given all of the office visits and the patient id the patient id is necessary in the office visit ids are different patients  the disambiguation is security reasons  param ov ids util list of longs the office visits param patient id representing the mid of the patient in question util list of prescription reports dbexception list prescription report bean get prescription reports by date long patient id string start date string end date  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from ndcodes ovmedication office visits where ndcodes code ovmedication ndcode and ovmedication visit id office visits id and patient id and   date  ovmedication end date and date  ovmedication start date  or date  ovmedication start date and date  ovmedication end date or date  ovmedication start date and date  ovmedication start date  order by visit date desc ps set long 1 patient id  ps set string 2 start date  ps set string 3 start date  ps set string 4 end date  ps set string 5 end date  ps set string 6 start date  ps set string 7 end date  result set rs ps execute query  prescription report bean loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    returns list of information related to prescription reports given all of the office visits and the patient id the patient id is necessary in the office visit ids are different patients  the disambiguation is security reasons  param ov ids util list of longs the office visits param patient id representing the mid of the patient in question util list of prescription reports dbexception list prescription report bean get prescription reports  list ov ids patient id  dbexception connection conn prepared statement ps conn factory get connection  string preps build preps ov ids size   ps conn prepare statement  select from ndcodes ovmedication office visits where ndcodes code ovmedication ndcode and ovmedication visit id office visits id and patient id and visit id in  preps order by visit date desc ps set long 1 patient id  prepare ovids ps ov ids  result set rs ps execute query  prescription report bean loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps  prepare ovids  prepared statement ps list ov ids  sqlexception  int ov ids size  ps set long i ov ids get i  string build preps int size  string prep  int size prep  prep length  0  prep substring 0 prep length  1  prep   returns list of all office visits at given hospital param hospital id the id of the hospital list of the office visit beans that hold the office visits dbexception in the event of database error list office visit bean get office visits from hospital  string hospital id  dbexception connection conn prepared statement ps conn factory get connection  ps conn prepare statement  select from officevisits where hospital id order by id desc ps set string 1 hospital id  result set rs ps execute query  office visit loader load list rs  sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps    gets all office visits corresponding to particular icd diagnosis param icdcode string represnting the icd diagnosis to look up util list of office visits dbexception list office visit bean get all office visits diagnosis  string icdcode  dbexception list diagnosis bean diags list office visit bean ovs array list office visit bean   connection conn prepared statement ps result set rs  icdcode null  sqlexception  icdcode cannot be conn factory get connection  ps conn prepare statement  select from ovdiagnosis ovd icdcodes icd where ovd icdcode and icd code ps set string 1 icdcode  ps set string 2 icdcode  rs ps execute query  diags diagnosis loader load list rs  rs close  ps close  ps rs diagnosis bean bean diags  ps conn prepare statement  select from officevisits ov where ov id ps set int 1  int bean get visit id   rs ps execute query   rs next   ovs add load full office vist rs bean get visit id   rs close  ps close  ovs sqlexception e  print stack trace  dbexception e  dbutil close connection conn ps 
/auth/admin/addER taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust bean builder page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust action add eresp action page edu ncsu csc itrust enums role include file global jsp page title trust add er include file header jsp form is filled  null request get parameter  form is filled   request get parameter  form is filled equals   form is filled  page is not actually page it just adds user and forwards personnel bean bean builder personnel bean   build request get parameter map  personnel bean   set role  role er  mid add eresp action prod dao logged in mid value   add p  session set attribute  mid to string new mid  string fullname string password password get password  fullname get full name  div align center span trust message er fullname succesfully added span br br table table tr th colspan er information th tr tr td sub header vertical mid td td mid td tr tr td sub header vertical temporary password td td password td tr table br please get information to fullname href trust auth staff edit personnel jsp to personnel information div catch  form validation exception e  div align center span trust error get message  span div div align center style width text align left please enter in the name of the emergency responder with valid email address the user does not have an email address use the hospital email address insert pre defined email to recover the password form action add er jsp method post input type hidden name form is filled value br table table tr th colspan er information th tr tr td sub header vertical first name td td input type text name first name td tr tr td sub header vertical last name td td input type text name last name tr tr td sub header vertical email td td input type text name email td tr table br input type submit style font size 16pt font weight bold value add personnel br form div include file footer jsp
/auth/viewPersonnel page edu ncsu csc itrust action view personnel action page edu ncsu csc itrust beans personnel bean page util list page error page auth exception handler jsp taglib prefix itrust uri web inf tags tld include file global jsp page title trust view personnel details include file header jsp string personnel request get parameter  personnel personnel index integer parse int personnel  list personnel bean personnel list list personnel bean session get attribute  personnel list personnel bean personnel list get personnel index  view personnel action action view personnel action prod dao logged in mid value   br div align center span style font weight bold font size 24px get full name  span div br div align center img src trust image user get mid  png alt mid picture div br table table align center tr th colspan personnel details th tr tr td sub header vertical specialty td td get specialty  td tr td sub header vertical location td td get street address1  get street address2  get city  get state  get zip  td tr tr td sub header vertical phone td td get phone  td tr tr td sub header vertical email td td get email  td tr table br include file footer jsp
/template page error page auth exception handler jsp  imports go here  include file global jsp page title trust template include file header jsp  your page goes here  include file footer jsp
MessageValidator edu ncsu csc itrust validate edu ncsu csc itrust action edit office visit action edu ncsu csc itrust beans message bean edu ncsu csc itrust exception error list edu ncsu csc itrust exception form validation exception   used to validate updating an office visit by link edit office visit action author andy message validator bean validator message bean message validator  validate  message bean bean  form validation exception error list error list error list  error list add not null check format  body bean get body  validation format messages  body false  error list add not null check format  subject bean get subject  validation format messages  subject false   error list has errors   form validation exception error list 
BeanLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util list   helps enforce the paradigm of what should be contained in loader the generic type specifies the type of bean that the loader is responsible extacting from result set param type the bean that will be loaded with bean loader   loads list of the bean of type from result set typically makes iterated calls to load single param rs the sql result set we are extracting util list where is the type loader sqlexception list load list  result set rs  sqlexception   contains the instructions mapping the rows in sql result set into beans of type param rs the sql result set to be loaded bean of type containing the loaded information typically of the first  or next  item in the result set sqlexception load single  result set rs  sqlexception   used an insert or update method contains the instructions mapping the fields within bean of type into prepared statement which modifies the appropriate table param ps the prepared statement to be loaded param bean the bean containing the data to be placed prepared statement with the appropriately loaded parameters sqlexception prepared statement load parameters  prepared statement ps bean  sqlexception
ErrorList edu ncsu csc itrust exception util array list util iterator util list   used by the validators to create list of error messages author andy error list iterable string list string error list error list  error list array list string     adds message to the list it not or empty string param error message add not null  string error message   error message equals error message  error list add error message    returns the list of error messages list string get message list  error list   returns the list has any errors has errors  error list size  override string to string  error list to string  iterator string iterator  error list iterator 
EditPrescriptionAction edu ncsu csc itrust action edu ncsu csc itrust beans prescription bean edu ncsu csc itrust dao daofactory edu ncsu csc itrust dao mysql office visit dao edu ncsu csc itrust exception dbexception edu ncsu csc itrust exception trust exception   edits patient prescription information used by hcp uap edit prescription jsp author ben smith edit prescription action office visit dao ov dao   creates action by initializing the office visit database access object param factory trust exception edit prescription action  daofactory factory  trust exception ov dao factory get office visit dao    edits an existing prescription in the database param pres the prescription bean that has been changed dbexception edit prescription  prescription bean pres  dbexception ov dao edit prescription pres 
PersonnelLoader edu ncsu csc itrust beans loaders sql prepared statement sql result set sql sqlexception util array list util list edu ncsu csc itrust beans personnel bean edu ncsu csc itrust enums role   loader personnel beans loads in information to from beans using result sets and prepared statements use the superclass to enforce consistency details on the paradigm loader  and what its methods do  see link bean loader personnel loader bean loader personnel bean list personnel bean load list  result set rs  sqlexception list personnel bean list array list personnel bean    rs next   list add load single rs  list personnel bean load single  result set rs  sqlexception personnel bean personnel bean  set mid rs get long  mid   set amid rs get long  amid   set role  role parse rs get string  role   set last name rs get string  last name   set first name rs get string  first name   set phone1 rs get string  phone1   set phone2 rs get string  phone2   set phone3 rs get string  phone3   set street address1 rs get string  address1   set street address2 rs get string  address2   set city rs get string  city   set state rs get string  state   set zip1 rs get string  zip1   set zip2 rs get string  zip2   set email rs get string  email   set specialty rs get string  specialty   set message filter rs get string  message filter   prepared statement load parameters  prepared statement ps personnel bean p  sqlexception ps set long i get amid   ps set string i get first name   ps set string i get last name   ps set string i get phone1   ps set string i get phone2   ps set string i get phone3   ps set string i get street address1   ps set string i get street address2   ps set string i get city   ps set string i get state   ps set string i get zip   ps set string i get zip1   ps set string i get zip2   ps set string i get specialty   ps set string i get email   ps set string i get message filter   ps
/auth/staff/editMyDemographics taglib prefix itrust uri web inf tags tld page error page auth exception handler jsp page edu ncsu csc itrust beans personnel bean page edu ncsu csc itrust action edit personnel action page edu ncsu csc itrust bean builder page edu ncsu csc itrust exception form validation exception page edu ncsu csc itrust action set security question action page edu ncsu csc itrust beans security qa include file global jsp page title trust edit personnel include file header jsp require personnel id first string pid string logged in mid value  bad personnel id gets you exiled to the exception handler edit personnel action personnel editor edit personnel action prod dao logged in mid value  pid string  pid personnel editor get pid  set security question action saction set security question action prod dao logged in mid value   now take care of updating information form is filled request get parameter  form is filled request get parameter  form is filled equals  personnel bean personnel form security qa sbean if form is filled  personnel form bean builder personnel bean   build request get parameter map  personnel bean   sbean bean builder security qa   build request get parameter map  security qa   personnel editor update information personnel form  saction update information sbean  div align center span trust message information successfully updated span div catch  form validation exception e  div align center span trust error get message  span div personnel form prod dao get personnel dao  get personnel pid  sbean saction retrieve information  form action edit my demographics jsp method post input type hidden name form is filled value input type hidden name pid value pid br div align center table table align center tr th colspan personnel information th tr tr td sub header vertical first name td td input name first name value personnel form get first name  type text td tr tr td sub header vertical last name td td input name last name value personnel form get last name  type text td tr tr td sub header vertical address td td input name street address1 value personnel form get street address1  type text br input name street address2 value personnel form get street address2  type text td tr tr td sub header vertical city td td input name city value personnel form get city  type text td tr tr td sub header vertical state td td itrust state name state value personnel form get state  td tr tr td sub header vertical zip td td input name zip1 value personnel form get zip1  maxlength type text size input name zip2 value personnel form get zip2  maxlength type text size td tr tr td sub header vertical phone td td input name phone1 value personnel form get phone1  type text size maxlength input name phone2 value personnel form get phone2  type text size maxlength input name phone3 value personnel form get phone3  type text size maxlength td tr tr th bgcolor silver colspan authentication information th tr tr td sub header vertical security question td td input name question value sbean get question  type text td tr tr td sub header vertical security answer td td input name answer value sbean get answer  type password td tr tr td sub header vertical confirm security answer td td input name confirm answer value sbean get answer  type password td tr table td tr tr td colspan align center br input type submit name action style font size 16pt font weight bold value edit personnel record td tr table br form br div align center note in order to set the password user use the reset password link at the login page div include file footer jsp
/util/displayDatabase page sql page edu ncsu csc itrust dao daofactory page util linked list html head title display database title style type text css body margin 4px font family arial font size 8em results border collapse collapse results tr th font size 9em padding 0px 5px 0px 5px background color navy color white results tr td font size 8em padding 0px 5px 0px 5px results tr th results tr td border 1px solid gray style head body style margin left 150px href trust back to trust href display wiki database jsp view wiki format h2 testing purposes only h2 linked list string table list linked list string   connection conn daofactory get production instance  get connection  result set table rs conn create statement  execute query  show tables while table rs next   string table name table rs get string 1  table list add table name  result set rs conn create statement  execute query  select from table name  num col rs get meta data  get column count  name table name table name br table results tr for int num col th rs get meta data  get column name i  th tr while rs next   tr for int num col string data rs get string i  td data td catch  sqlexception e  td  error in date might be empty td tr table br br conn close  script document layers  document write  div id div stay top left style position absolute script layer id div stay top left  edit below code to your own menu table border width cellspacing cellpadding tr td width bgcolor ffffcc align center font size table of contents font td tr tr td width bgcolor ffffff align left href trust style font size 10px back to trust br br for  string table table list  href table style font size 10px table br td tr table  end of edit layer script type text javascript floating menu script roy whittle  http www javascript fx com script featured on available at http www dynamicdrive com notice must stay intact use enter frombottom or fromtop var verticalpos fromtop document layers  document write  div function jsfx  top div  var start start var ns  navigator app name index of  netscape  1  var document function ml id  var el get element by id get element by id id  all all id layers id if d layers el style el el function x y  style left style top el start  verticalpos fromtop el start el ns page yoffset inner height document body scroll top document body client height el start el window stay top left function   verticalpos fromtop var ns page yoffset document body scroll top ftl obj  p start ftl obj y  var ns page yoffset inner height document body scroll top document body client height ftl obj  p start ftl obj y  ftl obj p ftl obj ftl obj y  set timeout  stay top left  10  ftl obj ml  div stay top left stay top left  jsfx  top div  script body html
